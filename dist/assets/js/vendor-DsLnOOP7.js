import{g as lr,c as Ot}from"./react-vendor-CHNrpsCK.js";var Zi={exports:{}},Xi={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js;function Yl(){return Js||(Js=1,function(s){function e(W,X){var oe=W.length;W.push(X);e:for(;0<oe;){var K=oe-1>>>1,ne=W[K];if(0<i(ne,X))W[K]=X,W[oe]=ne,oe=K;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var X=W[0],oe=W.pop();if(oe!==X){W[0]=oe;e:for(var K=0,ne=W.length,Ee=ne>>>1;K<Ee;){var ve=2*(K+1)-1,ke=W[ve],Ue=ve+1,Fe=W[Ue];if(0>i(ke,oe))Ue<ne&&0>i(Fe,ke)?(W[K]=Fe,W[Ue]=oe,K=Ue):(W[K]=ke,W[ve]=oe,K=ve);else if(Ue<ne&&0>i(Fe,oe))W[K]=Fe,W[Ue]=oe,K=Ue;else break e}}return X}function i(W,X){var oe=W.sortIndex-X.sortIndex;return oe!==0?oe:W.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var n=performance;s.unstable_now=function(){return n.now()}}else{var a=Date,o=a.now();s.unstable_now=function(){return a.now()-o}}var u=[],l=[],c=1,d=null,v=3,b=!1,_=!1,w=!1,p=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(W){for(var X=t(l);X!==null;){if(X.callback===null)r(l);else if(X.startTime<=W)r(l),X.sortIndex=X.expirationTime,e(u,X);else break;X=t(l)}}function N(W){if(w=!1,A(W),!_)if(t(u)!==null)_=!0,fe(E);else{var X=t(l);X!==null&&te(N,X.startTime-W)}}function E(W,X){_=!1,w&&(w=!1,m(I),I=-1),b=!0;var oe=v;try{for(A(X),d=t(u);d!==null&&(!(d.expirationTime>X)||W&&!Y());){var K=d.callback;if(typeof K=="function"){d.callback=null,v=d.priorityLevel;var ne=K(d.expirationTime<=X);X=s.unstable_now(),typeof ne=="function"?d.callback=ne:d===t(u)&&r(u),A(X)}else r(u);d=t(u)}if(d!==null)var Ee=!0;else{var ve=t(l);ve!==null&&te(N,ve.startTime-X),Ee=!1}return Ee}finally{d=null,v=oe,b=!1}}var T=!1,O=null,I=-1,R=5,L=-1;function Y(){return!(s.unstable_now()-L<R)}function q(){if(O!==null){var W=s.unstable_now();L=W;var X=!0;try{X=O(!0,W)}finally{X?G():(T=!1,O=null)}}else T=!1}var G;if(typeof y=="function")G=function(){y(q)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,re=ee.port2;ee.port1.onmessage=q,G=function(){re.postMessage(null)}}else G=function(){p(q,0)};function fe(W){O=W,T||(T=!0,G())}function te(W,X){I=p(function(){W(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(W){W.callback=null},s.unstable_continueExecution=function(){_||b||(_=!0,fe(E))},s.unstable_forceFrameRate=function(W){0>W||125<W||(R=0<W?Math.floor(1e3/W):5)},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_getFirstCallbackNode=function(){return t(u)},s.unstable_next=function(W){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var oe=v;v=X;try{return W()}finally{v=oe}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var oe=v;v=W;try{return X()}finally{v=oe}},s.unstable_scheduleCallback=function(W,X,oe){var K=s.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?K+oe:K):oe=K,W){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=oe+ne,W={id:c++,callback:X,priorityLevel:W,startTime:oe,expirationTime:ne,sortIndex:-1},oe>K?(W.sortIndex=oe,e(l,W),t(u)===null&&W===t(l)&&(w?(m(I),I=-1):w=!0,te(N,oe-K))):(W.sortIndex=ne,e(u,W),_||b||(_=!0,fe(E))),W},s.unstable_shouldYield=Y,s.unstable_wrapCallback=function(W){var X=v;return function(){var oe=v;v=X;try{return W.apply(this,arguments)}finally{v=oe}}}}(Xi)),Xi}var Qs;function zg(){return Qs||(Qs=1,Zi.exports=Yl()),Zi.exports}var Ki={exports:{}},Ji,ea;function Zl(){if(ea)return Ji;ea=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ji=s,Ji}var Qi,ta;function Xl(){if(ta)return Qi;ta=1;var s=Zl();function e(){}function t(){}return t.resetWarningCache=e,Qi=function(){function r(a,o,u,l,c,d){if(d!==s){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var n={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return n.PropTypes=n,n},Qi}var ra;function Kl(){return ra||(ra=1,Ki.exports=Xl()()),Ki.exports}var Jl=Kl();const Mg=lr(Jl);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function Ql(s,e,t){return(e=tf(e))in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function ia(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),t.push.apply(t,r)}return t}function ae(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ia(Object(t),!0).forEach(function(r){Ql(s,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):ia(Object(t)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(t,r))})}return s}function ef(s,e){if(typeof s!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var r=t.call(s,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function tf(s){var e=ef(s,"string");return typeof e=="symbol"?e:e+""}const na=()=>{};let Cs={},ou={},uu=null,lu={mark:na,measure:na};try{typeof window<"u"&&(Cs=window),typeof document<"u"&&(ou=document),typeof MutationObserver<"u"&&(uu=MutationObserver),typeof performance<"u"&&(lu=performance)}catch{}const{userAgent:sa=""}=Cs.navigator||{},er=Cs,Ze=ou,aa=uu,ti=lu;er.document;const Xt=!!Ze.documentElement&&!!Ze.head&&typeof Ze.addEventListener=="function"&&typeof Ze.createElement=="function",fu=~sa.indexOf("MSIE")||~sa.indexOf("Trident/");var rf=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,nf=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,cu={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},sf={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},hu=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],gt="classic",ki="duotone",af="sharp",of="sharp-duotone",du=[gt,ki,af,of],uf={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},lf={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},ff=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),cf={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},hf=["fak","fa-kit","fakd","fa-kit-duotone"],oa={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},df=["kit"],pf={kit:{"fa-kit":"fak"}},gf=["fak","fakd"],mf={kit:{fak:"fa-kit"}},ua={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},ri={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},vf=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],yf=["fak","fa-kit","fakd","fa-kit-duotone"],bf={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},wf={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},Ef={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Jn={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},xf=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Qn=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...vf,...xf],_f=["solid","regular","light","thin","duotone","brands"],pu=[1,2,3,4,5,6,7,8,9,10],Af=pu.concat([11,12,13,14,15,16,17,18,19,20]),Sf=[...Object.keys(Ef),..._f,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ri.GROUP,ri.SWAP_OPACITY,ri.PRIMARY,ri.SECONDARY].concat(pu.map(s=>"".concat(s,"x"))).concat(Af.map(s=>"w-".concat(s))),Cf={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const $t="___FONT_AWESOME___",es=16,gu="fa",mu="svg-inline--fa",ar="data-fa-i2svg",ts="data-fa-pseudo-element",Df="data-fa-pseudo-element-pending",Ds="data-prefix",Ts="data-icon",la="fontawesome-i2svg",Tf="async",kf=["HTML","HEAD","STYLE","SCRIPT"],vu=(()=>{try{return!0}catch{return!1}})();function Zr(s){return new Proxy(s,{get(e,t){return t in e?e[t]:e[gt]}})}const yu=ae({},cu);yu[gt]=ae(ae(ae(ae({},{"fa-duotone":"duotone"}),cu[gt]),oa.kit),oa["kit-duotone"]);const Of=Zr(yu),rs=ae({},cf);rs[gt]=ae(ae(ae(ae({},{duotone:"fad"}),rs[gt]),ua.kit),ua["kit-duotone"]);const fa=Zr(rs),is=ae({},Jn);is[gt]=ae(ae({},is[gt]),mf.kit);const ks=Zr(is),ns=ae({},wf);ns[gt]=ae(ae({},ns[gt]),pf.kit);Zr(ns);const Rf=rf,bu="fa-layers-text",Nf=nf,If=ae({},uf);Zr(If);const Lf=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],en=sf,Pf=[...df,...Sf],Mr=er.FontAwesomeConfig||{};function Ff(s){var e=Ze.querySelector("script["+s+"]");if(e)return e.getAttribute(s)}function Bf(s){return s===""?!0:s==="false"?!1:s==="true"?!0:s}Ze&&typeof Ze.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,r]=e;const i=Bf(Ff(t));i!=null&&(Mr[r]=i)});const wu={styleDefault:"solid",familyDefault:gt,cssPrefix:gu,replacementClass:mu,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Mr.familyPrefix&&(Mr.cssPrefix=Mr.familyPrefix);const Sr=ae(ae({},wu),Mr);Sr.autoReplaceSvg||(Sr.observeMutations=!1);const be={};Object.keys(wu).forEach(s=>{Object.defineProperty(be,s,{enumerable:!0,set:function(e){Sr[s]=e,Ur.forEach(t=>t(be))},get:function(){return Sr[s]}})});Object.defineProperty(be,"familyPrefix",{enumerable:!0,set:function(s){Sr.cssPrefix=s,Ur.forEach(e=>e(be))},get:function(){return Sr.cssPrefix}});er.FontAwesomeConfig=be;const Ur=[];function zf(s){return Ur.push(s),()=>{Ur.splice(Ur.indexOf(s),1)}}const Kt=es,Mt={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Mf(s){if(!s||!Xt)return;const e=Ze.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=s;const t=Ze.head.childNodes;let r=null;for(let i=t.length-1;i>-1;i--){const n=t[i],a=(n.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=n)}return Ze.head.insertBefore(e,r),s}const Uf="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function qr(){let s=12,e="";for(;s-- >0;)e+=Uf[Math.random()*62|0];return e}function Dr(s){const e=[];for(let t=(s||[]).length>>>0;t--;)e[t]=s[t];return e}function Os(s){return s.classList?Dr(s.classList):(s.getAttribute("class")||"").split(" ").filter(e=>e)}function Eu(s){return"".concat(s).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function jf(s){return Object.keys(s||{}).reduce((e,t)=>e+"".concat(t,'="').concat(Eu(s[t]),'" '),"").trim()}function Oi(s){return Object.keys(s||{}).reduce((e,t)=>e+"".concat(t,": ").concat(s[t].trim(),";"),"")}function Rs(s){return s.size!==Mt.size||s.x!==Mt.x||s.y!==Mt.y||s.rotate!==Mt.rotate||s.flipX||s.flipY}function qf(s){let{transform:e,containerWidth:t,iconWidth:r}=s;const i={transform:"translate(".concat(t/2," 256)")},n="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)"),u={transform:"".concat(n," ").concat(a," ").concat(o)},l={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:u,path:l}}function Wf(s){let{transform:e,width:t=es,height:r=es,startCentered:i=!1}=s,n="";return i&&fu?n+="translate(".concat(e.x/Kt-t/2,"em, ").concat(e.y/Kt-r/2,"em) "):i?n+="translate(calc(-50% + ".concat(e.x/Kt,"em), calc(-50% + ").concat(e.y/Kt,"em)) "):n+="translate(".concat(e.x/Kt,"em, ").concat(e.y/Kt,"em) "),n+="scale(".concat(e.size/Kt*(e.flipX?-1:1),", ").concat(e.size/Kt*(e.flipY?-1:1),") "),n+="rotate(".concat(e.rotate,"deg) "),n}var Hf=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function xu(){const s=gu,e=mu,t=be.cssPrefix,r=be.replacementClass;let i=Hf;if(t!==s||r!==e){const n=new RegExp("\\.".concat(s,"\\-"),"g"),a=new RegExp("\\--".concat(s,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");i=i.replace(n,".".concat(t,"-")).replace(a,"--".concat(t,"-")).replace(o,".".concat(r))}return i}let ca=!1;function tn(){be.autoAddCss&&!ca&&(Mf(xu()),ca=!0)}var Vf={mixout(){return{dom:{css:xu,insertCss:tn}}},hooks(){return{beforeDOMElementCreation(){tn()},beforeI2svg(){tn()}}}};const Gt=er||{};Gt[$t]||(Gt[$t]={});Gt[$t].styles||(Gt[$t].styles={});Gt[$t].hooks||(Gt[$t].hooks={});Gt[$t].shims||(Gt[$t].shims=[]);var Ut=Gt[$t];const _u=[],Au=function(){Ze.removeEventListener("DOMContentLoaded",Au),pi=1,_u.map(s=>s())};let pi=!1;Xt&&(pi=(Ze.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ze.readyState),pi||Ze.addEventListener("DOMContentLoaded",Au));function $f(s){Xt&&(pi?setTimeout(s,0):_u.push(s))}function Xr(s){const{tag:e,attributes:t={},children:r=[]}=s;return typeof s=="string"?Eu(s):"<".concat(e," ").concat(jf(t),">").concat(r.map(Xr).join(""),"</").concat(e,">")}function ha(s,e,t){if(s&&s[e]&&s[e][t])return{prefix:e,iconName:t,icon:s[e][t]}}var rn=function(e,t,r,i){var n=Object.keys(e),a=n.length,o=t,u,l,c;for(r===void 0?(u=1,c=e[n[0]]):(u=0,c=r);u<a;u++)l=n[u],c=o(c,e[l],l,e);return c};function Gf(s){const e=[];let t=0;const r=s.length;for(;t<r;){const i=s.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){const n=s.charCodeAt(t++);(n&64512)==56320?e.push(((i&1023)<<10)+(n&1023)+65536):(e.push(i),t--)}else e.push(i)}return e}function ss(s){const e=Gf(s);return e.length===1?e[0].toString(16):null}function Yf(s,e){const t=s.length;let r=s.charCodeAt(e),i;return r>=55296&&r<=56319&&t>e+1&&(i=s.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function da(s){return Object.keys(s).reduce((e,t)=>{const r=s[t];return!!r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function as(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=t,i=da(e);typeof Ut.hooks.addPack=="function"&&!r?Ut.hooks.addPack(s,da(e)):Ut.styles[s]=ae(ae({},Ut.styles[s]||{}),i),s==="fas"&&as("fa",e)}const{styles:Wr,shims:Zf}=Ut,Su=Object.keys(ks),Xf=Su.reduce((s,e)=>(s[e]=Object.keys(ks[e]),s),{});let Ns=null,Cu={},Du={},Tu={},ku={},Ou={};function Kf(s){return~Pf.indexOf(s)}function Jf(s,e){const t=e.split("-"),r=t[0],i=t.slice(1).join("-");return r===s&&i!==""&&!Kf(i)?i:null}const Ru=()=>{const s=r=>rn(Wr,(i,n,a)=>(i[a]=rn(n,r,{}),i),{});Cu=s((r,i,n)=>(i[3]&&(r[i[3]]=n),i[2]&&i[2].filter(o=>typeof o=="number").forEach(o=>{r[o.toString(16)]=n}),r)),Du=s((r,i,n)=>(r[n]=n,i[2]&&i[2].filter(o=>typeof o=="string").forEach(o=>{r[o]=n}),r)),Ou=s((r,i,n)=>{const a=i[2];return r[n]=n,a.forEach(o=>{r[o]=n}),r});const e="far"in Wr||be.autoFetchSvg,t=rn(Zf,(r,i)=>{const n=i[0];let a=i[1];const o=i[2];return a==="far"&&!e&&(a="fas"),typeof n=="string"&&(r.names[n]={prefix:a,iconName:o}),typeof n=="number"&&(r.unicodes[n.toString(16)]={prefix:a,iconName:o}),r},{names:{},unicodes:{}});Tu=t.names,ku=t.unicodes,Ns=Ri(be.styleDefault,{family:be.familyDefault})};zf(s=>{Ns=Ri(s.styleDefault,{family:be.familyDefault})});Ru();function Is(s,e){return(Cu[s]||{})[e]}function Qf(s,e){return(Du[s]||{})[e]}function ir(s,e){return(Ou[s]||{})[e]}function Nu(s){return Tu[s]||{prefix:null,iconName:null}}function ec(s){const e=ku[s],t=Is("fas",s);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function tr(){return Ns}const Iu=()=>({prefix:null,iconName:null,rest:[]});function tc(s){let e=gt;const t=Su.reduce((r,i)=>(r[i]="".concat(be.cssPrefix,"-").concat(i),r),{});return du.forEach(r=>{(s.includes(t[r])||s.some(i=>Xf[r].includes(i)))&&(e=r)}),e}function Ri(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:t=gt}=e,r=Of[t][s];if(t===ki&&!s)return"fad";const i=fa[t][s]||fa[t][r],n=s in Ut.styles?s:null;return i||n||null}function rc(s){let e=[],t=null;return s.forEach(r=>{const i=Jf(be.cssPrefix,r);i?t=i:r&&e.push(r)}),{iconName:t,rest:e}}function pa(s){return s.sort().filter((e,t,r)=>r.indexOf(e)===t)}function Ni(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:t=!1}=e;let r=null;const i=Qn.concat(yf),n=pa(s.filter(d=>i.includes(d))),a=pa(s.filter(d=>!Qn.includes(d))),o=n.filter(d=>(r=d,!hu.includes(d))),[u=null]=o,l=tc(n),c=ae(ae({},rc(a)),{},{prefix:Ri(u,{family:l})});return ae(ae(ae({},c),ac({values:s,family:l,styles:Wr,config:be,canonical:c,givenPrefix:r})),ic(t,r,c))}function ic(s,e,t){let{prefix:r,iconName:i}=t;if(s||!r||!i)return{prefix:r,iconName:i};const n=e==="fa"?Nu(i):{},a=ir(r,i);return i=n.iconName||a||i,r=n.prefix||r,r==="far"&&!Wr.far&&Wr.fas&&!be.autoFetchSvg&&(r="fas"),{prefix:r,iconName:i}}const nc=du.filter(s=>s!==gt||s!==ki),sc=Object.keys(Jn).filter(s=>s!==gt).map(s=>Object.keys(Jn[s])).flat();function ac(s){const{values:e,family:t,canonical:r,givenPrefix:i="",styles:n={},config:a={}}=s,o=t===ki,u=e.includes("fa-duotone")||e.includes("fad"),l=a.familyDefault==="duotone",c=r.prefix==="fad"||r.prefix==="fa-duotone";if(!o&&(u||l||c)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&nc.includes(t)&&(Object.keys(n).find(v=>sc.includes(v))||a.autoFetchSvg)){const v=ff.get(t).defaultShortPrefixId;r.prefix=v,r.iconName=ir(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||i==="fa")&&(r.prefix=tr()||"fas"),r}class oc{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const i=t.reduce(this._pullDefinitions,{});Object.keys(i).forEach(n=>{this.definitions[n]=ae(ae({},this.definitions[n]||{}),i[n]),as(n,i[n]);const a=ks[gt][n];a&&as(a,i[n]),Ru()})}reset(){this.definitions={}}_pullDefinitions(e,t){const r=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(r).map(i=>{const{prefix:n,iconName:a,icon:o}=r[i],u=o[2];e[n]||(e[n]={}),u.length>0&&u.forEach(l=>{typeof l=="string"&&(e[n][l]=o)}),e[n][a]=o}),e}}let ga=[],xr={};const _r={},uc=Object.keys(_r);function lc(s,e){let{mixoutsTo:t}=e;return ga=s,xr={},Object.keys(_r).forEach(r=>{uc.indexOf(r)===-1&&delete _r[r]}),ga.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(n=>{typeof i[n]=="function"&&(t[n]=i[n]),typeof i[n]=="object"&&Object.keys(i[n]).forEach(a=>{t[n]||(t[n]={}),t[n][a]=i[n][a]})}),r.hooks){const n=r.hooks();Object.keys(n).forEach(a=>{xr[a]||(xr[a]=[]),xr[a].push(n[a])})}r.provides&&r.provides(_r)}),t}function os(s,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];return(xr[s]||[]).forEach(a=>{e=a.apply(null,[e,...r])}),e}function or(s){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];(xr[s]||[]).forEach(n=>{n.apply(null,t)})}function rr(){const s=arguments[0],e=Array.prototype.slice.call(arguments,1);return _r[s]?_r[s].apply(null,e):void 0}function us(s){s.prefix==="fa"&&(s.prefix="fas");let{iconName:e}=s;const t=s.prefix||tr();if(e)return e=ir(t,e)||e,ha(Lu.definitions,t,e)||ha(Ut.styles,t,e)}const Lu=new oc,fc=()=>{be.autoReplaceSvg=!1,be.observeMutations=!1,or("noAuto")},cc={i2svg:function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Xt?(or("beforeI2svg",s),rr("pseudoElements2svg",s),rr("i2svg",s)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=s;be.autoReplaceSvg===!1&&(be.autoReplaceSvg=!0),be.observeMutations=!0,$f(()=>{dc({autoReplaceSvgRoot:e}),or("watch",s)})}},hc={icon:s=>{if(s===null)return null;if(typeof s=="object"&&s.prefix&&s.iconName)return{prefix:s.prefix,iconName:ir(s.prefix,s.iconName)||s.iconName};if(Array.isArray(s)&&s.length===2){const e=s[1].indexOf("fa-")===0?s[1].slice(3):s[1],t=Ri(s[0]);return{prefix:t,iconName:ir(t,e)||e}}if(typeof s=="string"&&(s.indexOf("".concat(be.cssPrefix,"-"))>-1||s.match(Rf))){const e=Ni(s.split(" "),{skipLookups:!0});return{prefix:e.prefix||tr(),iconName:ir(e.prefix,e.iconName)||e.iconName}}if(typeof s=="string"){const e=tr();return{prefix:e,iconName:ir(e,s)||s}}}},St={noAuto:fc,config:be,dom:cc,parse:hc,library:Lu,findIconDefinition:us,toHtml:Xr},dc=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Ze}=s;(Object.keys(Ut.styles).length>0||be.autoFetchSvg)&&Xt&&be.autoReplaceSvg&&St.dom.i2svg({node:e})};function Ii(s,e){return Object.defineProperty(s,"abstract",{get:e}),Object.defineProperty(s,"html",{get:function(){return s.abstract.map(t=>Xr(t))}}),Object.defineProperty(s,"node",{get:function(){if(!Xt)return;const t=Ze.createElement("div");return t.innerHTML=s.html,t.children}}),s}function pc(s){let{children:e,main:t,mask:r,attributes:i,styles:n,transform:a}=s;if(Rs(a)&&t.found&&!r.found){const{width:o,height:u}=t,l={x:o/u/2,y:.5};i.style=Oi(ae(ae({},n),{},{"transform-origin":"".concat(l.x+a.x/16,"em ").concat(l.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function gc(s){let{prefix:e,iconName:t,children:r,attributes:i,symbol:n}=s;const a=n===!0?"".concat(e,"-").concat(be.cssPrefix,"-").concat(t):n;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ae(ae({},i),{},{id:a}),children:r}]}]}function Ls(s){const{icons:{main:e,mask:t},prefix:r,iconName:i,transform:n,symbol:a,title:o,maskId:u,titleId:l,extra:c,watchable:d=!1}=s,{width:v,height:b}=t.found?t:e,_=gf.includes(r),w=[be.replacementClass,i?"".concat(be.cssPrefix,"-").concat(i):""].filter(E=>c.classes.indexOf(E)===-1).filter(E=>E!==""||!!E).concat(c.classes).join(" ");let p={children:[],attributes:ae(ae({},c.attributes),{},{"data-prefix":r,"data-icon":i,class:w,role:c.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(b)})};const m=_&&!~c.classes.indexOf("fa-fw")?{width:"".concat(v/b*16*.0625,"em")}:{};d&&(p.attributes[ar]=""),o&&(p.children.push({tag:"title",attributes:{id:p.attributes["aria-labelledby"]||"title-".concat(l||qr())},children:[o]}),delete p.attributes.title);const y=ae(ae({},p),{},{prefix:r,iconName:i,main:e,mask:t,maskId:u,transform:n,symbol:a,styles:ae(ae({},m),c.styles)}),{children:A,attributes:N}=t.found&&e.found?rr("generateAbstractMask",y)||{children:[],attributes:{}}:rr("generateAbstractIcon",y)||{children:[],attributes:{}};return y.children=A,y.attributes=N,a?gc(y):pc(y)}function ma(s){const{content:e,width:t,height:r,transform:i,title:n,extra:a,watchable:o=!1}=s,u=ae(ae(ae({},a.attributes),n?{title:n}:{}),{},{class:a.classes.join(" ")});o&&(u[ar]="");const l=ae({},a.styles);Rs(i)&&(l.transform=Wf({transform:i,startCentered:!0,width:t,height:r}),l["-webkit-transform"]=l.transform);const c=Oi(l);c.length>0&&(u.style=c);const d=[];return d.push({tag:"span",attributes:u,children:[e]}),n&&d.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),d}function mc(s){const{content:e,title:t,extra:r}=s,i=ae(ae(ae({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),n=Oi(r.styles);n.length>0&&(i.style=n);const a=[];return a.push({tag:"span",attributes:i,children:[e]}),t&&a.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),a}const{styles:nn}=Ut;function ls(s){const e=s[0],t=s[1],[r]=s.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(be.cssPrefix,"-").concat(en.GROUP)},children:[{tag:"path",attributes:{class:"".concat(be.cssPrefix,"-").concat(en.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(be.cssPrefix,"-").concat(en.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:t,icon:i}}const vc={found:!1,width:512,height:512};function yc(s,e){!vu&&be.showMissingIcons}function fs(s,e){let t=e;return e==="fa"&&be.styleDefault!==null&&(e=tr()),new Promise((r,i)=>{if(t==="fa"){const n=Nu(s)||{};s=n.iconName||s,e=n.prefix||e}if(s&&e&&nn[e]&&nn[e][s]){const n=nn[e][s];return r(ls(n))}yc(s,e),r(ae(ae({},vc),{},{icon:be.showMissingIcons&&s?rr("missingIconAbstract")||{}:{}}))})}const va=()=>{},cs=be.measurePerformance&&ti&&ti.mark&&ti.measure?ti:{mark:va,measure:va},zr='FA "6.7.2"',bc=s=>(cs.mark("".concat(zr," ").concat(s," begins")),()=>Pu(s)),Pu=s=>{cs.mark("".concat(zr," ").concat(s," ends")),cs.measure("".concat(zr," ").concat(s),"".concat(zr," ").concat(s," begins"),"".concat(zr," ").concat(s," ends"))};var Ps={begin:bc,end:Pu};const oi=()=>{};function ya(s){return typeof(s.getAttribute?s.getAttribute(ar):null)=="string"}function wc(s){const e=s.getAttribute?s.getAttribute(Ds):null,t=s.getAttribute?s.getAttribute(Ts):null;return e&&t}function Ec(s){return s&&s.classList&&s.classList.contains&&s.classList.contains(be.replacementClass)}function xc(){return be.autoReplaceSvg===!0?ui.replace:ui[be.autoReplaceSvg]||ui.replace}function _c(s){return Ze.createElementNS("http://www.w3.org/2000/svg",s)}function Ac(s){return Ze.createElement(s)}function Fu(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:t=s.tag==="svg"?_c:Ac}=e;if(typeof s=="string")return Ze.createTextNode(s);const r=t(s.tag);return Object.keys(s.attributes||[]).forEach(function(n){r.setAttribute(n,s.attributes[n])}),(s.children||[]).forEach(function(n){r.appendChild(Fu(n,{ceFn:t}))}),r}function Sc(s){let e=" ".concat(s.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const ui={replace:function(s){const e=s[0];if(e.parentNode)if(s[1].forEach(t=>{e.parentNode.insertBefore(Fu(t),e)}),e.getAttribute(ar)===null&&be.keepOriginalSource){let t=Ze.createComment(Sc(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(s){const e=s[0],t=s[1];if(~Os(e).indexOf(be.replacementClass))return ui.replace(s);const r=new RegExp("".concat(be.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const n=t[0].attributes.class.split(" ").reduce((a,o)=>(o===be.replacementClass||o.match(r)?a.toSvg.push(o):a.toNode.push(o),a),{toNode:[],toSvg:[]});t[0].attributes.class=n.toSvg.join(" "),n.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",n.toNode.join(" "))}const i=t.map(n=>Xr(n)).join(`
`);e.setAttribute(ar,""),e.innerHTML=i}};function ba(s){s()}function Bu(s,e){const t=typeof e=="function"?e:oi;if(s.length===0)t();else{let r=ba;be.mutateApproach===Tf&&(r=er.requestAnimationFrame||ba),r(()=>{const i=xc(),n=Ps.begin("mutate");s.map(i),n(),t()})}}let Fs=!1;function zu(){Fs=!0}function hs(){Fs=!1}let gi=null;function wa(s){if(!aa||!be.observeMutations)return;const{treeCallback:e=oi,nodeCallback:t=oi,pseudoElementsCallback:r=oi,observeMutationsRoot:i=Ze}=s;gi=new aa(n=>{if(Fs)return;const a=tr();Dr(n).forEach(o=>{if(o.type==="childList"&&o.addedNodes.length>0&&!ya(o.addedNodes[0])&&(be.searchPseudoElements&&r(o.target),e(o.target)),o.type==="attributes"&&o.target.parentNode&&be.searchPseudoElements&&r(o.target.parentNode),o.type==="attributes"&&ya(o.target)&&~Lf.indexOf(o.attributeName))if(o.attributeName==="class"&&wc(o.target)){const{prefix:u,iconName:l}=Ni(Os(o.target));o.target.setAttribute(Ds,u||a),l&&o.target.setAttribute(Ts,l)}else Ec(o.target)&&t(o.target)})}),Xt&&gi.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Cc(){gi&&gi.disconnect()}function Dc(s){const e=s.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((r,i)=>{const n=i.split(":"),a=n[0],o=n.slice(1);return a&&o.length>0&&(r[a]=o.join(":").trim()),r},{})),t}function Tc(s){const e=s.getAttribute("data-prefix"),t=s.getAttribute("data-icon"),r=s.innerText!==void 0?s.innerText.trim():"";let i=Ni(Os(s));return i.prefix||(i.prefix=tr()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=Qf(i.prefix,s.innerText)||Is(i.prefix,ss(s.innerText))),!i.iconName&&be.autoFetchSvg&&s.firstChild&&s.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=s.firstChild.data)),i}function kc(s){const e=Dr(s.attributes).reduce((i,n)=>(i.name!=="class"&&i.name!=="style"&&(i[n.name]=n.value),i),{}),t=s.getAttribute("title"),r=s.getAttribute("data-fa-title-id");return be.autoA11y&&(t?e["aria-labelledby"]="".concat(be.replacementClass,"-title-").concat(r||qr()):(e["aria-hidden"]="true",e.focusable="false")),e}function Oc(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Mt,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Ea(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:t,prefix:r,rest:i}=Tc(s),n=kc(s),a=os("parseNodeAttributes",{},s);let o=e.styleParser?Dc(s):[];return ae({iconName:t,title:s.getAttribute("title"),titleId:s.getAttribute("data-fa-title-id"),prefix:r,transform:Mt,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:o,attributes:n}},a)}const{styles:Rc}=Ut;function Mu(s){const e=be.autoReplaceSvg==="nest"?Ea(s,{styleParser:!1}):Ea(s);return~e.extra.classes.indexOf(bu)?rr("generateLayersText",s,e):rr("generateSvgReplacementMutation",s,e)}function Nc(){return[...hf,...Qn]}function xa(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Xt)return Promise.resolve();const t=Ze.documentElement.classList,r=c=>t.add("".concat(la,"-").concat(c)),i=c=>t.remove("".concat(la,"-").concat(c)),n=be.autoFetchSvg?Nc():hu.concat(Object.keys(Rc));n.includes("fa")||n.push("fa");const a=[".".concat(bu,":not([").concat(ar,"])")].concat(n.map(c=>".".concat(c,":not([").concat(ar,"])"))).join(", ");if(a.length===0)return Promise.resolve();let o=[];try{o=Dr(s.querySelectorAll(a))}catch{}if(o.length>0)r("pending"),i("complete");else return Promise.resolve();const u=Ps.begin("onTree"),l=o.reduce((c,d)=>{try{const v=Mu(d);v&&c.push(v)}catch(v){vu||v.name}return c},[]);return new Promise((c,d)=>{Promise.all(l).then(v=>{Bu(v,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),u(),c()})}).catch(v=>{u(),d(v)})})}function Ic(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Mu(s).then(t=>{t&&Bu([t],e)})}function Lc(s){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:us(e||{});let{mask:i}=t;return i&&(i=(i||{}).icon?i:us(i||{})),s(r,ae(ae({},t),{},{mask:i}))}}const Pc=function(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=Mt,symbol:r=!1,mask:i=null,maskId:n=null,title:a=null,titleId:o=null,classes:u=[],attributes:l={},styles:c={}}=e;if(!s)return;const{prefix:d,iconName:v,icon:b}=s;return Ii(ae({type:"icon"},s),()=>(or("beforeDOMElementCreation",{iconDefinition:s,params:e}),be.autoA11y&&(a?l["aria-labelledby"]="".concat(be.replacementClass,"-title-").concat(o||qr()):(l["aria-hidden"]="true",l.focusable="false")),Ls({icons:{main:ls(b),mask:i?ls(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:v,transform:ae(ae({},Mt),t),symbol:r,title:a,maskId:n,titleId:o,extra:{attributes:l,styles:c,classes:u}})))};var Fc={mixout(){return{icon:Lc(Pc)}},hooks(){return{mutationObserverCallbacks(s){return s.treeCallback=xa,s.nodeCallback=Ic,s}}},provides(s){s.i2svg=function(e){const{node:t=Ze,callback:r=()=>{}}=e;return xa(t,r)},s.generateSvgReplacementMutation=function(e,t){const{iconName:r,title:i,titleId:n,prefix:a,transform:o,symbol:u,mask:l,maskId:c,extra:d}=t;return new Promise((v,b)=>{Promise.all([fs(r,a),l.iconName?fs(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(_=>{let[w,p]=_;v([e,Ls({icons:{main:w,mask:p},prefix:a,iconName:r,transform:o,symbol:u,maskId:c,title:i,titleId:n,extra:d,watchable:!0})])}).catch(b)})},s.generateAbstractIcon=function(e){let{children:t,attributes:r,main:i,transform:n,styles:a}=e;const o=Oi(a);o.length>0&&(r.style=o);let u;return Rs(n)&&(u=rr("generateAbstractTransformGrouping",{main:i,transform:n,containerWidth:i.width,iconWidth:i.width})),t.push(u||i.icon),{children:t,attributes:r}}}},Bc={mixout(){return{layer(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:t=[]}=e;return Ii({type:"layer"},()=>{or("beforeDOMElementCreation",{assembler:s,params:e});let r=[];return s(i=>{Array.isArray(i)?i.map(n=>{r=r.concat(n.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(be.cssPrefix,"-layers"),...t].join(" ")},children:r}]})}}}},zc={mixout(){return{counter(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:t=null,classes:r=[],attributes:i={},styles:n={}}=e;return Ii({type:"counter",content:s},()=>(or("beforeDOMElementCreation",{content:s,params:e}),mc({content:s.toString(),title:t,extra:{attributes:i,styles:n,classes:["".concat(be.cssPrefix,"-layers-counter"),...r]}})))}}}},Mc={mixout(){return{text(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=Mt,title:r=null,classes:i=[],attributes:n={},styles:a={}}=e;return Ii({type:"text",content:s},()=>(or("beforeDOMElementCreation",{content:s,params:e}),ma({content:s,transform:ae(ae({},Mt),t),title:r,extra:{attributes:n,styles:a,classes:["".concat(be.cssPrefix,"-layers-text"),...i]}})))}}},provides(s){s.generateLayersText=function(e,t){const{title:r,transform:i,extra:n}=t;let a=null,o=null;if(fu){const u=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();a=l.width/u,o=l.height/u}return be.autoA11y&&!r&&(n.attributes["aria-hidden"]="true"),Promise.resolve([e,ma({content:e.innerHTML,width:a,height:o,transform:i,title:r,extra:n,watchable:!0})])}}};const Uc=new RegExp('"',"ug"),_a=[1105920,1112319],Aa=ae(ae(ae(ae({},{FontAwesome:{normal:"fas",400:"fas"}}),lf),Cf),bf),ds=Object.keys(Aa).reduce((s,e)=>(s[e.toLowerCase()]=Aa[e],s),{}),jc=Object.keys(ds).reduce((s,e)=>{const t=ds[e];return s[e]=t[900]||[...Object.entries(t)][0][1],s},{});function qc(s){const e=s.replace(Uc,""),t=Yf(e,0),r=t>=_a[0]&&t<=_a[1],i=e.length===2?e[0]===e[1]:!1;return{value:ss(i?e[0]:e),isSecondary:r||i}}function Wc(s,e){const t=s.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(ds[t]||{})[i]||jc[t]}function Sa(s,e){const t="".concat(Df).concat(e.replace(":","-"));return new Promise((r,i)=>{if(s.getAttribute(t)!==null)return r();const a=Dr(s.children).filter(v=>v.getAttribute(ts)===e)[0],o=er.getComputedStyle(s,e),u=o.getPropertyValue("font-family"),l=u.match(Nf),c=o.getPropertyValue("font-weight"),d=o.getPropertyValue("content");if(a&&!l)return s.removeChild(a),r();if(l&&d!=="none"&&d!==""){const v=o.getPropertyValue("content");let b=Wc(u,c);const{value:_,isSecondary:w}=qc(v),p=l[0].startsWith("FontAwesome");let m=Is(b,_),y=m;if(p){const A=ec(_);A.iconName&&A.prefix&&(m=A.iconName,b=A.prefix)}if(m&&!w&&(!a||a.getAttribute(Ds)!==b||a.getAttribute(Ts)!==y)){s.setAttribute(t,y),a&&s.removeChild(a);const A=Oc(),{extra:N}=A;N.attributes[ts]=e,fs(m,b).then(E=>{const T=Ls(ae(ae({},A),{},{icons:{main:E,mask:Iu()},prefix:b,iconName:y,extra:N,watchable:!0})),O=Ze.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?s.insertBefore(O,s.firstChild):s.appendChild(O),O.outerHTML=T.map(I=>Xr(I)).join(`
`),s.removeAttribute(t),r()}).catch(i)}else r()}else r()})}function Hc(s){return Promise.all([Sa(s,"::before"),Sa(s,"::after")])}function Vc(s){return s.parentNode!==document.head&&!~kf.indexOf(s.tagName.toUpperCase())&&!s.getAttribute(ts)&&(!s.parentNode||s.parentNode.tagName!=="svg")}function Ca(s){if(Xt)return new Promise((e,t)=>{const r=Dr(s.querySelectorAll("*")).filter(Vc).map(Hc),i=Ps.begin("searchPseudoElements");zu(),Promise.all(r).then(()=>{i(),hs(),e()}).catch(()=>{i(),hs(),t()})})}var $c={hooks(){return{mutationObserverCallbacks(s){return s.pseudoElementsCallback=Ca,s}}},provides(s){s.pseudoElements2svg=function(e){const{node:t=Ze}=e;be.searchPseudoElements&&Ca(t)}}};let Da=!1;var Gc={mixout(){return{dom:{unwatch(){zu(),Da=!0}}}},hooks(){return{bootstrap(){wa(os("mutationObserverCallbacks",{}))},noAuto(){Cc()},watch(s){const{observeMutationsRoot:e}=s;Da?hs():wa(os("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const Ta=s=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return s.toLowerCase().split(" ").reduce((t,r)=>{const i=r.toLowerCase().split("-"),n=i[0];let a=i.slice(1).join("-");if(n&&a==="h")return t.flipX=!0,t;if(n&&a==="v")return t.flipY=!0,t;if(a=parseFloat(a),isNaN(a))return t;switch(n){case"grow":t.size=t.size+a;break;case"shrink":t.size=t.size-a;break;case"left":t.x=t.x-a;break;case"right":t.x=t.x+a;break;case"up":t.y=t.y-a;break;case"down":t.y=t.y+a;break;case"rotate":t.rotate=t.rotate+a;break}return t},e)};var Yc={mixout(){return{parse:{transform:s=>Ta(s)}}},hooks(){return{parseNodeAttributes(s,e){const t=e.getAttribute("data-fa-transform");return t&&(s.transform=Ta(t)),s}}},provides(s){s.generateAbstractTransformGrouping=function(e){let{main:t,transform:r,containerWidth:i,iconWidth:n}=e;const a={transform:"translate(".concat(i/2," 256)")},o="translate(".concat(r.x*32,", ").concat(r.y*32,") "),u="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),l="rotate(".concat(r.rotate," 0 0)"),c={transform:"".concat(o," ").concat(u," ").concat(l)},d={transform:"translate(".concat(n/2*-1," -256)")},v={outer:a,inner:c,path:d};return{tag:"g",attributes:ae({},v.outer),children:[{tag:"g",attributes:ae({},v.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:ae(ae({},t.icon.attributes),v.path)}]}]}}}};const sn={x:0,y:0,width:"100%",height:"100%"};function ka(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return s.attributes&&(s.attributes.fill||e)&&(s.attributes.fill="black"),s}function Zc(s){return s.tag==="g"?s.children:[s]}var Xc={hooks(){return{parseNodeAttributes(s,e){const t=e.getAttribute("data-fa-mask"),r=t?Ni(t.split(" ").map(i=>i.trim())):Iu();return r.prefix||(r.prefix=tr()),s.mask=r,s.maskId=e.getAttribute("data-fa-mask-id"),s}}},provides(s){s.generateAbstractMask=function(e){let{children:t,attributes:r,main:i,mask:n,maskId:a,transform:o}=e;const{width:u,icon:l}=i,{width:c,icon:d}=n,v=qf({transform:o,containerWidth:c,iconWidth:u}),b={tag:"rect",attributes:ae(ae({},sn),{},{fill:"white"})},_=l.children?{children:l.children.map(ka)}:{},w={tag:"g",attributes:ae({},v.inner),children:[ka(ae({tag:l.tag,attributes:ae(ae({},l.attributes),v.path)},_))]},p={tag:"g",attributes:ae({},v.outer),children:[w]},m="mask-".concat(a||qr()),y="clip-".concat(a||qr()),A={tag:"mask",attributes:ae(ae({},sn),{},{id:m,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[b,p]},N={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:Zc(d)},A]};return t.push(N,{tag:"rect",attributes:ae({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(m,")")},sn)}),{children:t,attributes:r}}}},Kc={provides(s){let e=!1;er.matchMedia&&(e=er.matchMedia("(prefers-reduced-motion: reduce)").matches),s.missingIconAbstract=function(){const t=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:ae(ae({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const n=ae(ae({},i),{},{attributeName:"opacity"}),a={tag:"circle",attributes:ae(ae({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||a.children.push({tag:"animate",attributes:ae(ae({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ae(ae({},n),{},{values:"1;0;1;1;0;1;"})}),t.push(a),t.push({tag:"path",attributes:ae(ae({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ae(ae({},n),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:ae(ae({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ae(ae({},n),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},Jc={hooks(){return{parseNodeAttributes(s,e){const t=e.getAttribute("data-fa-symbol"),r=t===null?!1:t===""?!0:t;return s.symbol=r,s}}}},Qc=[Vf,Fc,Bc,zc,Mc,$c,Gc,Yc,Xc,Kc,Jc];lc(Qc,{mixoutsTo:St});St.noAuto;St.config;St.library;St.dom;const Ug=St.parse;St.findIconDefinition;St.toHtml;const jg=St.icon;St.layer;St.text;St.counter;/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const qg={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},Wg={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Hg={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]};function Uu(s,e){return function(){return s.apply(e,arguments)}}const{toString:eh}=Object.prototype,{getPrototypeOf:Bs}=Object,{iterator:Li,toStringTag:ju}=Symbol,Pi=(s=>e=>{const t=eh.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Bt=s=>(s=s.toLowerCase(),e=>Pi(e)===s),Fi=s=>e=>typeof e===s,{isArray:Tr}=Array,Hr=Fi("undefined");function th(s){return s!==null&&!Hr(s)&&s.constructor!==null&&!Hr(s.constructor)&&xt(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const qu=Bt("ArrayBuffer");function rh(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&qu(s.buffer),e}const ih=Fi("string"),xt=Fi("function"),Wu=Fi("number"),Bi=s=>s!==null&&typeof s=="object",nh=s=>s===!0||s===!1,li=s=>{if(Pi(s)!=="object")return!1;const e=Bs(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ju in s)&&!(Li in s)},sh=Bt("Date"),ah=Bt("File"),oh=Bt("Blob"),uh=Bt("FileList"),lh=s=>Bi(s)&&xt(s.pipe),fh=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||xt(s.append)&&((e=Pi(s))==="formdata"||e==="object"&&xt(s.toString)&&s.toString()==="[object FormData]"))},ch=Bt("URLSearchParams"),[hh,dh,ph,gh]=["ReadableStream","Request","Response","Headers"].map(Bt),mh=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kr(s,e,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let r,i;if(typeof s!="object"&&(s=[s]),Tr(s))for(r=0,i=s.length;r<i;r++)e.call(null,s[r],r,s);else{const n=t?Object.getOwnPropertyNames(s):Object.keys(s),a=n.length;let o;for(r=0;r<a;r++)o=n[r],e.call(null,s[o],o,s)}}function Hu(s,e){e=e.toLowerCase();const t=Object.keys(s);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const nr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Vu=s=>!Hr(s)&&s!==nr;function ps(){const{caseless:s}=Vu(this)&&this||{},e={},t=(r,i)=>{const n=s&&Hu(e,i)||i;li(e[n])&&li(r)?e[n]=ps(e[n],r):li(r)?e[n]=ps({},r):Tr(r)?e[n]=r.slice():e[n]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Kr(arguments[r],t);return e}const vh=(s,e,t,{allOwnKeys:r}={})=>(Kr(e,(i,n)=>{t&&xt(i)?s[n]=Uu(i,t):s[n]=i},{allOwnKeys:r}),s),yh=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),bh=(s,e,t,r)=>{s.prototype=Object.create(e.prototype,r),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),t&&Object.assign(s.prototype,t)},wh=(s,e,t,r)=>{let i,n,a;const o={};if(e=e||{},s==null)return e;do{for(i=Object.getOwnPropertyNames(s),n=i.length;n-- >0;)a=i[n],(!r||r(a,s,e))&&!o[a]&&(e[a]=s[a],o[a]=!0);s=t!==!1&&Bs(s)}while(s&&(!t||t(s,e))&&s!==Object.prototype);return e},Eh=(s,e,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=e.length;const r=s.indexOf(e,t);return r!==-1&&r===t},xh=s=>{if(!s)return null;if(Tr(s))return s;let e=s.length;if(!Wu(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=s[e];return t},_h=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&Bs(Uint8Array)),Ah=(s,e)=>{const r=(s&&s[Li]).call(s);let i;for(;(i=r.next())&&!i.done;){const n=i.value;e.call(s,n[0],n[1])}},Sh=(s,e)=>{let t;const r=[];for(;(t=s.exec(e))!==null;)r.push(t);return r},Ch=Bt("HTMLFormElement"),Dh=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Oa=(({hasOwnProperty:s})=>(e,t)=>s.call(e,t))(Object.prototype),Th=Bt("RegExp"),$u=(s,e)=>{const t=Object.getOwnPropertyDescriptors(s),r={};Kr(t,(i,n)=>{let a;(a=e(i,n,s))!==!1&&(r[n]=a||i)}),Object.defineProperties(s,r)},kh=s=>{$u(s,(e,t)=>{if(xt(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=s[t];if(xt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Oh=(s,e)=>{const t={},r=i=>{i.forEach(n=>{t[n]=!0})};return Tr(s)?r(s):r(String(s).split(e)),t},Rh=()=>{},Nh=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e;function Ih(s){return!!(s&&xt(s.append)&&s[ju]==="FormData"&&s[Li])}const Lh=s=>{const e=new Array(10),t=(r,i)=>{if(Bi(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const n=Tr(r)?[]:{};return Kr(r,(a,o)=>{const u=t(a,i+1);!Hr(u)&&(n[o]=u)}),e[i]=void 0,n}}return r};return t(s,0)},Ph=Bt("AsyncFunction"),Fh=s=>s&&(Bi(s)||xt(s))&&xt(s.then)&&xt(s.catch),Gu=((s,e)=>s?setImmediate:e?((t,r)=>(nr.addEventListener("message",({source:i,data:n})=>{i===nr&&n===t&&r.length&&r.shift()()},!1),i=>{r.push(i),nr.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",xt(nr.postMessage)),Bh=typeof queueMicrotask<"u"?queueMicrotask.bind(nr):typeof process<"u"&&process.nextTick||Gu,zh=s=>s!=null&&xt(s[Li]),Z={isArray:Tr,isArrayBuffer:qu,isBuffer:th,isFormData:fh,isArrayBufferView:rh,isString:ih,isNumber:Wu,isBoolean:nh,isObject:Bi,isPlainObject:li,isReadableStream:hh,isRequest:dh,isResponse:ph,isHeaders:gh,isUndefined:Hr,isDate:sh,isFile:ah,isBlob:oh,isRegExp:Th,isFunction:xt,isStream:lh,isURLSearchParams:ch,isTypedArray:_h,isFileList:uh,forEach:Kr,merge:ps,extend:vh,trim:mh,stripBOM:yh,inherits:bh,toFlatObject:wh,kindOf:Pi,kindOfTest:Bt,endsWith:Eh,toArray:xh,forEachEntry:Ah,matchAll:Sh,isHTMLForm:Ch,hasOwnProperty:Oa,hasOwnProp:Oa,reduceDescriptors:$u,freezeMethods:kh,toObjectSet:Oh,toCamelCase:Dh,noop:Rh,toFiniteNumber:Nh,findKey:Hu,global:nr,isContextDefined:Vu,isSpecCompliantForm:Ih,toJSONObject:Lh,isAsyncFn:Ph,isThenable:Fh,setImmediate:Gu,asap:Bh,isIterable:zh};function Te(s,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Z.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const Yu=Te.prototype,Zu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Zu[s]={value:s}});Object.defineProperties(Te,Zu);Object.defineProperty(Yu,"isAxiosError",{value:!0});Te.from=(s,e,t,r,i,n)=>{const a=Object.create(Yu);return Z.toFlatObject(s,a,function(u){return u!==Error.prototype},o=>o!=="isAxiosError"),Te.call(a,s.message,e,t,r,i),a.cause=s,a.name=s.name,n&&Object.assign(a,n),a};const Mh=null;function gs(s){return Z.isPlainObject(s)||Z.isArray(s)}function Xu(s){return Z.endsWith(s,"[]")?s.slice(0,-2):s}function Ra(s,e,t){return s?s.concat(e).map(function(i,n){return i=Xu(i),!t&&n?"["+i+"]":i}).join(t?".":""):e}function Uh(s){return Z.isArray(s)&&!s.some(gs)}const jh=Z.toFlatObject(Z,{},null,function(e){return/^is[A-Z]/.test(e)});function zi(s,e,t){if(!Z.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,t=Z.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,p){return!Z.isUndefined(p[w])});const r=t.metaTokens,i=t.visitor||c,n=t.dots,a=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(e);if(!Z.isFunction(i))throw new TypeError("visitor must be a function");function l(_){if(_===null)return"";if(Z.isDate(_))return _.toISOString();if(Z.isBoolean(_))return _.toString();if(!u&&Z.isBlob(_))throw new Te("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(_)||Z.isTypedArray(_)?u&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function c(_,w,p){let m=_;if(_&&!p&&typeof _=="object"){if(Z.endsWith(w,"{}"))w=r?w:w.slice(0,-2),_=JSON.stringify(_);else if(Z.isArray(_)&&Uh(_)||(Z.isFileList(_)||Z.endsWith(w,"[]"))&&(m=Z.toArray(_)))return w=Xu(w),m.forEach(function(A,N){!(Z.isUndefined(A)||A===null)&&e.append(a===!0?Ra([w],N,n):a===null?w:w+"[]",l(A))}),!1}return gs(_)?!0:(e.append(Ra(p,w,n),l(_)),!1)}const d=[],v=Object.assign(jh,{defaultVisitor:c,convertValue:l,isVisitable:gs});function b(_,w){if(!Z.isUndefined(_)){if(d.indexOf(_)!==-1)throw Error("Circular reference detected in "+w.join("."));d.push(_),Z.forEach(_,function(m,y){(!(Z.isUndefined(m)||m===null)&&i.call(e,m,Z.isString(y)?y.trim():y,w,v))===!0&&b(m,w?w.concat(y):[y])}),d.pop()}}if(!Z.isObject(s))throw new TypeError("data must be an object");return b(s),e}function Na(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function zs(s,e){this._pairs=[],s&&zi(s,this,e)}const Ku=zs.prototype;Ku.append=function(e,t){this._pairs.push([e,t])};Ku.toString=function(e){const t=e?function(r){return e.call(this,r,Na)}:Na;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function qh(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ju(s,e,t){if(!e)return s;const r=t&&t.encode||qh;Z.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let n;if(i?n=i(e,t):n=Z.isURLSearchParams(e)?e.toString():new zs(e,t).toString(r),n){const a=s.indexOf("#");a!==-1&&(s=s.slice(0,a)),s+=(s.indexOf("?")===-1?"?":"&")+n}return s}class Ia{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Qu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wh=typeof URLSearchParams<"u"?URLSearchParams:zs,Hh=typeof FormData<"u"?FormData:null,Vh=typeof Blob<"u"?Blob:null,$h={isBrowser:!0,classes:{URLSearchParams:Wh,FormData:Hh,Blob:Vh},protocols:["http","https","file","blob","url","data"]},Ms=typeof window<"u"&&typeof document<"u",ms=typeof navigator=="object"&&navigator||void 0,Gh=Ms&&(!ms||["ReactNative","NativeScript","NS"].indexOf(ms.product)<0),Yh=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zh=Ms&&window.location.href||"http://localhost",Xh=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ms,hasStandardBrowserEnv:Gh,hasStandardBrowserWebWorkerEnv:Yh,navigator:ms,origin:Zh},Symbol.toStringTag,{value:"Module"})),pt={...Xh,...$h};function Kh(s,e){return zi(s,new pt.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,n){return pt.isNode&&Z.isBuffer(t)?(this.append(r,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}function Jh(s){return Z.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Qh(s){const e={},t=Object.keys(s);let r;const i=t.length;let n;for(r=0;r<i;r++)n=t[r],e[n]=s[n];return e}function el(s){function e(t,r,i,n){let a=t[n++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),u=n>=t.length;return a=!a&&Z.isArray(i)?i.length:a,u?(Z.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!o):((!i[a]||!Z.isObject(i[a]))&&(i[a]=[]),e(t,r,i[a],n)&&Z.isArray(i[a])&&(i[a]=Qh(i[a])),!o)}if(Z.isFormData(s)&&Z.isFunction(s.entries)){const t={};return Z.forEachEntry(s,(r,i)=>{e(Jh(r),i,t,0)}),t}return null}function ed(s,e,t){if(Z.isString(s))try{return(e||JSON.parse)(s),Z.trim(s)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(s)}const Jr={transitional:Qu,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,n=Z.isObject(e);if(n&&Z.isHTMLForm(e)&&(e=new FormData(e)),Z.isFormData(e))return i?JSON.stringify(el(e)):e;if(Z.isArrayBuffer(e)||Z.isBuffer(e)||Z.isStream(e)||Z.isFile(e)||Z.isBlob(e)||Z.isReadableStream(e))return e;if(Z.isArrayBufferView(e))return e.buffer;if(Z.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(n){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Kh(e,this.formSerializer).toString();if((o=Z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return zi(o?{"files[]":e}:e,u&&new u,this.formSerializer)}}return n||i?(t.setContentType("application/json",!1),ed(e)):e}],transformResponse:[function(e){const t=this.transitional||Jr.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Z.isResponse(e)||Z.isReadableStream(e))return e;if(e&&Z.isString(e)&&(r&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Te.from(o,Te.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pt.classes.FormData,Blob:pt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],s=>{Jr.headers[s]={}});const td=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rd=s=>{const e={};let t,r,i;return s&&s.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!t||e[t]&&td[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},La=Symbol("internals");function Ir(s){return s&&String(s).trim().toLowerCase()}function fi(s){return s===!1||s==null?s:Z.isArray(s)?s.map(fi):String(s)}function id(s){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(s);)e[r[1]]=r[2];return e}const nd=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function an(s,e,t,r,i){if(Z.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Z.isString(e)){if(Z.isString(r))return e.indexOf(r)!==-1;if(Z.isRegExp(r))return r.test(e)}}function sd(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function ad(s,e){const t=Z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(s,r+t,{value:function(i,n,a){return this[r].call(this,e,i,n,a)},configurable:!0})})}let _t=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function n(o,u,l){const c=Ir(u);if(!c)throw new Error("header name must be a non-empty string");const d=Z.findKey(i,c);(!d||i[d]===void 0||l===!0||l===void 0&&i[d]!==!1)&&(i[d||u]=fi(o))}const a=(o,u)=>Z.forEach(o,(l,c)=>n(l,c,u));if(Z.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Z.isString(e)&&(e=e.trim())&&!nd(e))a(rd(e),t);else if(Z.isObject(e)&&Z.isIterable(e)){let o={},u,l;for(const c of e){if(!Z.isArray(c))throw TypeError("Object iterator must return a key-value pair");o[l=c[0]]=(u=o[l])?Z.isArray(u)?[...u,c[1]]:[u,c[1]]:c[1]}a(o,t)}else e!=null&&n(t,e,r);return this}get(e,t){if(e=Ir(e),e){const r=Z.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return id(i);if(Z.isFunction(t))return t.call(this,i,r);if(Z.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ir(e),e){const r=Z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||an(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function n(a){if(a=Ir(a),a){const o=Z.findKey(r,a);o&&(!t||an(r,r[o],o,t))&&(delete r[o],i=!0)}}return Z.isArray(e)?e.forEach(n):n(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const n=t[r];(!e||an(this,this[n],n,e,!0))&&(delete this[n],i=!0)}return i}normalize(e){const t=this,r={};return Z.forEach(this,(i,n)=>{const a=Z.findKey(r,n);if(a){t[a]=fi(i),delete t[n];return}const o=e?sd(n):String(n).trim();o!==n&&delete t[n],t[o]=fi(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Z.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Z.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[La]=this[La]={accessors:{}}).accessors,i=this.prototype;function n(a){const o=Ir(a);r[o]||(ad(i,a),r[o]=!0)}return Z.isArray(e)?e.forEach(n):n(e),this}};_t.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(_t.prototype,({value:s},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(r){this[t]=r}}});Z.freezeMethods(_t);function on(s,e){const t=this||Jr,r=e||t,i=_t.from(r.headers);let n=r.data;return Z.forEach(s,function(o){n=o.call(t,n,i.normalize(),e?e.status:void 0)}),i.normalize(),n}function tl(s){return!!(s&&s.__CANCEL__)}function kr(s,e,t){Te.call(this,s??"canceled",Te.ERR_CANCELED,e,t),this.name="CanceledError"}Z.inherits(kr,Te,{__CANCEL__:!0});function rl(s,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?s(t):e(new Te("Request failed with status code "+t.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function od(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function ud(s,e){s=s||10;const t=new Array(s),r=new Array(s);let i=0,n=0,a;return e=e!==void 0?e:1e3,function(u){const l=Date.now(),c=r[n];a||(a=l),t[i]=u,r[i]=l;let d=n,v=0;for(;d!==i;)v+=t[d++],d=d%s;if(i=(i+1)%s,i===n&&(n=(n+1)%s),l-a<e)return;const b=c&&l-c;return b?Math.round(v*1e3/b):void 0}}function ld(s,e){let t=0,r=1e3/e,i,n;const a=(l,c=Date.now())=>{t=c,i=null,n&&(clearTimeout(n),n=null),s.apply(null,l)};return[(...l)=>{const c=Date.now(),d=c-t;d>=r?a(l,c):(i=l,n||(n=setTimeout(()=>{n=null,a(i)},r-d)))},()=>i&&a(i)]}const mi=(s,e,t=3)=>{let r=0;const i=ud(50,250);return ld(n=>{const a=n.loaded,o=n.lengthComputable?n.total:void 0,u=a-r,l=i(u),c=a<=o;r=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:l||void 0,estimated:l&&o&&c?(o-a)/l:void 0,event:n,lengthComputable:o!=null,[e?"download":"upload"]:!0};s(d)},t)},Pa=(s,e)=>{const t=s!=null;return[r=>e[0]({lengthComputable:t,total:s,loaded:r}),e[1]]},Fa=s=>(...e)=>Z.asap(()=>s(...e)),fd=pt.hasStandardBrowserEnv?((s,e)=>t=>(t=new URL(t,pt.origin),s.protocol===t.protocol&&s.host===t.host&&(e||s.port===t.port)))(new URL(pt.origin),pt.navigator&&/(msie|trident)/i.test(pt.navigator.userAgent)):()=>!0,cd=pt.hasStandardBrowserEnv?{write(s,e,t,r,i,n){const a=[s+"="+encodeURIComponent(e)];Z.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),Z.isString(r)&&a.push("path="+r),Z.isString(i)&&a.push("domain="+i),n===!0&&a.push("secure"),document.cookie=a.join("; ")},read(s){const e=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function hd(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function dd(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function il(s,e,t){let r=!hd(e);return s&&(r||t==!1)?dd(s,e):e}const Ba=s=>s instanceof _t?{...s}:s;function ur(s,e){e=e||{};const t={};function r(l,c,d,v){return Z.isPlainObject(l)&&Z.isPlainObject(c)?Z.merge.call({caseless:v},l,c):Z.isPlainObject(c)?Z.merge({},c):Z.isArray(c)?c.slice():c}function i(l,c,d,v){if(Z.isUndefined(c)){if(!Z.isUndefined(l))return r(void 0,l,d,v)}else return r(l,c,d,v)}function n(l,c){if(!Z.isUndefined(c))return r(void 0,c)}function a(l,c){if(Z.isUndefined(c)){if(!Z.isUndefined(l))return r(void 0,l)}else return r(void 0,c)}function o(l,c,d){if(d in e)return r(l,c);if(d in s)return r(void 0,l)}const u={url:n,method:n,data:n,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(l,c,d)=>i(Ba(l),Ba(c),d,!0)};return Z.forEach(Object.keys(Object.assign({},s,e)),function(c){const d=u[c]||i,v=d(s[c],e[c],c);Z.isUndefined(v)&&d!==o||(t[c]=v)}),t}const nl=s=>{const e=ur({},s);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:n,headers:a,auth:o}=e;e.headers=a=_t.from(a),e.url=Ju(il(e.baseURL,e.url,e.allowAbsoluteUrls),s.params,s.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let u;if(Z.isFormData(t)){if(pt.hasStandardBrowserEnv||pt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((u=a.getContentType())!==!1){const[l,...c]=u?u.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([l||"multipart/form-data",...c].join("; "))}}if(pt.hasStandardBrowserEnv&&(r&&Z.isFunction(r)&&(r=r(e)),r||r!==!1&&fd(e.url))){const l=i&&n&&cd.read(n);l&&a.set(i,l)}return e},pd=typeof XMLHttpRequest<"u",gd=pd&&function(s){return new Promise(function(t,r){const i=nl(s);let n=i.data;const a=_t.from(i.headers).normalize();let{responseType:o,onUploadProgress:u,onDownloadProgress:l}=i,c,d,v,b,_;function w(){b&&b(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let p=new XMLHttpRequest;p.open(i.method.toUpperCase(),i.url,!0),p.timeout=i.timeout;function m(){if(!p)return;const A=_t.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:A,config:s,request:p};rl(function(O){t(O),w()},function(O){r(O),w()},E),p=null}"onloadend"in p?p.onloadend=m:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(m)},p.onabort=function(){p&&(r(new Te("Request aborted",Te.ECONNABORTED,s,p)),p=null)},p.onerror=function(){r(new Te("Network Error",Te.ERR_NETWORK,s,p)),p=null},p.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||Qu;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),r(new Te(N,E.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,s,p)),p=null},n===void 0&&a.setContentType(null),"setRequestHeader"in p&&Z.forEach(a.toJSON(),function(N,E){p.setRequestHeader(E,N)}),Z.isUndefined(i.withCredentials)||(p.withCredentials=!!i.withCredentials),o&&o!=="json"&&(p.responseType=i.responseType),l&&([v,_]=mi(l,!0),p.addEventListener("progress",v)),u&&p.upload&&([d,b]=mi(u),p.upload.addEventListener("progress",d),p.upload.addEventListener("loadend",b)),(i.cancelToken||i.signal)&&(c=A=>{p&&(r(!A||A.type?new kr(null,s,p):A),p.abort(),p=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const y=od(i.url);if(y&&pt.protocols.indexOf(y)===-1){r(new Te("Unsupported protocol "+y+":",Te.ERR_BAD_REQUEST,s));return}p.send(n||null)})},md=(s,e)=>{const{length:t}=s=s?s.filter(Boolean):[];if(e||t){let r=new AbortController,i;const n=function(l){if(!i){i=!0,o();const c=l instanceof Error?l:this.reason;r.abort(c instanceof Te?c:new kr(c instanceof Error?c.message:c))}};let a=e&&setTimeout(()=>{a=null,n(new Te(`timeout ${e} of ms exceeded`,Te.ETIMEDOUT))},e);const o=()=>{s&&(a&&clearTimeout(a),a=null,s.forEach(l=>{l.unsubscribe?l.unsubscribe(n):l.removeEventListener("abort",n)}),s=null)};s.forEach(l=>l.addEventListener("abort",n));const{signal:u}=r;return u.unsubscribe=()=>Z.asap(o),u}},vd=function*(s,e){let t=s.byteLength;if(t<e){yield s;return}let r=0,i;for(;r<t;)i=r+e,yield s.slice(r,i),r=i},yd=async function*(s,e){for await(const t of bd(s))yield*vd(t,e)},bd=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},za=(s,e,t,r)=>{const i=yd(s,e);let n=0,a,o=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:l,value:c}=await i.next();if(l){o(),u.close();return}let d=c.byteLength;if(t){let v=n+=d;t(v)}u.enqueue(new Uint8Array(c))}catch(l){throw o(l),l}},cancel(u){return o(u),i.return()}},{highWaterMark:2})},Mi=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sl=Mi&&typeof ReadableStream=="function",wd=Mi&&(typeof TextEncoder=="function"?(s=>e=>s.encode(e))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),al=(s,...e)=>{try{return!!s(...e)}catch{return!1}},Ed=sl&&al(()=>{let s=!1;const e=new Request(pt.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!e}),Ma=64*1024,vs=sl&&al(()=>Z.isReadableStream(new Response("").body)),vi={stream:vs&&(s=>s.body)};Mi&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!vi[e]&&(vi[e]=Z.isFunction(s[e])?t=>t[e]():(t,r)=>{throw new Te(`Response type '${e}' is not supported`,Te.ERR_NOT_SUPPORT,r)})})})(new Response);const xd=async s=>{if(s==null)return 0;if(Z.isBlob(s))return s.size;if(Z.isSpecCompliantForm(s))return(await new Request(pt.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(s)||Z.isArrayBuffer(s))return s.byteLength;if(Z.isURLSearchParams(s)&&(s=s+""),Z.isString(s))return(await wd(s)).byteLength},_d=async(s,e)=>{const t=Z.toFiniteNumber(s.getContentLength());return t??xd(e)},Ad=Mi&&(async s=>{let{url:e,method:t,data:r,signal:i,cancelToken:n,timeout:a,onDownloadProgress:o,onUploadProgress:u,responseType:l,headers:c,withCredentials:d="same-origin",fetchOptions:v}=nl(s);l=l?(l+"").toLowerCase():"text";let b=md([i,n&&n.toAbortSignal()],a),_;const w=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let p;try{if(u&&Ed&&t!=="get"&&t!=="head"&&(p=await _d(c,r))!==0){let E=new Request(e,{method:"POST",body:r,duplex:"half"}),T;if(Z.isFormData(r)&&(T=E.headers.get("content-type"))&&c.setContentType(T),E.body){const[O,I]=Pa(p,mi(Fa(u)));r=za(E.body,Ma,O,I)}}Z.isString(d)||(d=d?"include":"omit");const m="credentials"in Request.prototype;_=new Request(e,{...v,signal:b,method:t.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:m?d:void 0});let y=await fetch(_,v);const A=vs&&(l==="stream"||l==="response");if(vs&&(o||A&&w)){const E={};["status","statusText","headers"].forEach(R=>{E[R]=y[R]});const T=Z.toFiniteNumber(y.headers.get("content-length")),[O,I]=o&&Pa(T,mi(Fa(o),!0))||[];y=new Response(za(y.body,Ma,O,()=>{I&&I(),w&&w()}),E)}l=l||"text";let N=await vi[Z.findKey(vi,l)||"text"](y,s);return!A&&w&&w(),await new Promise((E,T)=>{rl(E,T,{data:N,headers:_t.from(y.headers),status:y.status,statusText:y.statusText,config:s,request:_})})}catch(m){throw w&&w(),m&&m.name==="TypeError"&&/Load failed|fetch/i.test(m.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,s,_),{cause:m.cause||m}):Te.from(m,m&&m.code,s,_)}}),ys={http:Mh,xhr:gd,fetch:Ad};Z.forEach(ys,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const Ua=s=>`- ${s}`,Sd=s=>Z.isFunction(s)||s===null||s===!1,ol={getAdapter:s=>{s=Z.isArray(s)?s:[s];const{length:e}=s;let t,r;const i={};for(let n=0;n<e;n++){t=s[n];let a;if(r=t,!Sd(t)&&(r=ys[(a=String(t)).toLowerCase()],r===void 0))throw new Te(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+n]=r}if(!r){const n=Object.entries(i).map(([o,u])=>`adapter ${o} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=e?n.length>1?`since :
`+n.map(Ua).join(`
`):" "+Ua(n[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:ys};function un(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new kr(null,s)}function ja(s){return un(s),s.headers=_t.from(s.headers),s.data=on.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),ol.getAdapter(s.adapter||Jr.adapter)(s).then(function(r){return un(s),r.data=on.call(s,s.transformResponse,r),r.headers=_t.from(r.headers),r},function(r){return tl(r)||(un(s),r&&r.response&&(r.response.data=on.call(s,s.transformResponse,r.response),r.response.headers=_t.from(r.response.headers))),Promise.reject(r)})}const ul="1.10.0",Ui={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{Ui[s]=function(r){return typeof r===s||"a"+(e<1?"n ":" ")+s}});const qa={};Ui.transitional=function(e,t,r){function i(n,a){return"[Axios v"+ul+"] Transitional option '"+n+"'"+a+(r?". "+r:"")}return(n,a,o)=>{if(e===!1)throw new Te(i(a," has been removed"+(t?" in "+t:"")),Te.ERR_DEPRECATED);return t&&!qa[a]&&(qa[a]=!0),e?e(n,a,o):!0}};Ui.spelling=function(e){return(t,r)=>!0};function Cd(s,e,t){if(typeof s!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const r=Object.keys(s);let i=r.length;for(;i-- >0;){const n=r[i],a=e[n];if(a){const o=s[n],u=o===void 0||a(o,n,s);if(u!==!0)throw new Te("option "+n+" must be "+u,Te.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Te("Unknown option "+n,Te.ERR_BAD_OPTION)}}const ci={assertOptions:Cd,validators:Ui},zt=ci.validators;let sr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ia,response:new Ia}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const n=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?n&&!String(r.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+n):r.stack=n}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ur(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:n}=t;r!==void 0&&ci.assertOptions(r,{silentJSONParsing:zt.transitional(zt.boolean),forcedJSONParsing:zt.transitional(zt.boolean),clarifyTimeoutError:zt.transitional(zt.boolean)},!1),i!=null&&(Z.isFunction(i)?t.paramsSerializer={serialize:i}:ci.assertOptions(i,{encode:zt.function,serialize:zt.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ci.assertOptions(t,{baseUrl:zt.spelling("baseURL"),withXsrfToken:zt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=n&&Z.merge(n.common,n[t.method]);n&&Z.forEach(["delete","get","head","post","put","patch","common"],_=>{delete n[_]}),t.headers=_t.concat(a,n);const o=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(u=u&&w.synchronous,o.unshift(w.fulfilled,w.rejected))});const l=[];this.interceptors.response.forEach(function(w){l.push(w.fulfilled,w.rejected)});let c,d=0,v;if(!u){const _=[ja.bind(this),void 0];for(_.unshift.apply(_,o),_.push.apply(_,l),v=_.length,c=Promise.resolve(t);d<v;)c=c.then(_[d++],_[d++]);return c}v=o.length;let b=t;for(d=0;d<v;){const _=o[d++],w=o[d++];try{b=_(b)}catch(p){w.call(this,p);break}}try{c=ja.call(this,b)}catch(_){return Promise.reject(_)}for(d=0,v=l.length;d<v;)c=c.then(l[d++],l[d++]);return c}getUri(e){e=ur(this.defaults,e);const t=il(e.baseURL,e.url,e.allowAbsoluteUrls);return Ju(t,e.params,e.paramsSerializer)}};Z.forEach(["delete","get","head","options"],function(e){sr.prototype[e]=function(t,r){return this.request(ur(r||{},{method:e,url:t,data:(r||{}).data}))}});Z.forEach(["post","put","patch"],function(e){function t(r){return function(n,a,o){return this.request(ur(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}sr.prototype[e]=t(),sr.prototype[e+"Form"]=t(!0)});let Dd=class ll{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(n){t=n});const r=this;this.promise.then(i=>{if(!r._listeners)return;let n=r._listeners.length;for(;n-- >0;)r._listeners[n](i);r._listeners=null}),this.promise.then=i=>{let n;const a=new Promise(o=>{r.subscribe(o),n=o}).then(i);return a.cancel=function(){r.unsubscribe(n)},a},e(function(n,a,o){r.reason||(r.reason=new kr(n,a,o),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ll(function(i){e=i}),cancel:e}}};function Td(s){return function(t){return s.apply(null,t)}}function kd(s){return Z.isObject(s)&&s.isAxiosError===!0}const bs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bs).forEach(([s,e])=>{bs[e]=s});function fl(s){const e=new sr(s),t=Uu(sr.prototype.request,e);return Z.extend(t,sr.prototype,e,{allOwnKeys:!0}),Z.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return fl(ur(s,i))},t}const ut=fl(Jr);ut.Axios=sr;ut.CanceledError=kr;ut.CancelToken=Dd;ut.isCancel=tl;ut.VERSION=ul;ut.toFormData=zi;ut.AxiosError=Te;ut.Cancel=ut.CanceledError;ut.all=function(e){return Promise.all(e)};ut.spread=Td;ut.isAxiosError=kd;ut.mergeConfig=ur;ut.AxiosHeaders=_t;ut.formToJSON=s=>el(Z.isHTMLForm(s)?new FormData(s):s);ut.getAdapter=ol.getAdapter;ut.HttpStatusCode=bs;ut.default=ut;const{Axios:Gg,AxiosError:Yg,CanceledError:Zg,isCancel:Xg,CancelToken:Kg,VERSION:Jg,all:Qg,Cancel:em,isAxiosError:tm,spread:rm,toFormData:im,AxiosHeaders:nm,HttpStatusCode:sm,formToJSON:am,getAdapter:om,mergeConfig:um}=ut,Ae=s=>typeof s=="string",Lr=()=>{let s,e;const t=new Promise((r,i)=>{s=r,e=i});return t.resolve=s,t.reject=e,t},Wa=s=>s==null?"":""+s,Od=(s,e,t)=>{s.forEach(r=>{e[r]&&(t[r]=e[r])})},Rd=/###/g,Ha=s=>s&&s.indexOf("###")>-1?s.replace(Rd,"."):s,Va=s=>!s||Ae(s),jr=(s,e,t)=>{const r=Ae(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(Va(s))return{};const n=Ha(r[i]);!s[n]&&t&&(s[n]=new t),Object.prototype.hasOwnProperty.call(s,n)?s=s[n]:s={},++i}return Va(s)?{}:{obj:s,k:Ha(r[i])}},$a=(s,e,t)=>{const{obj:r,k:i}=jr(s,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let n=e[e.length-1],a=e.slice(0,e.length-1),o=jr(s,a,Object);for(;o.obj===void 0&&a.length;)n=`${a[a.length-1]}.${n}`,a=a.slice(0,a.length-1),o=jr(s,a,Object),o?.obj&&typeof o.obj[`${o.k}.${n}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${n}`]=t},Nd=(s,e,t,r)=>{const{obj:i,k:n}=jr(s,e,Object);i[n]=i[n]||[],i[n].push(t)},yi=(s,e)=>{const{obj:t,k:r}=jr(s,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},Id=(s,e,t)=>{const r=yi(s,t);return r!==void 0?r:yi(e,t)},cl=(s,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in s?Ae(s[r])||s[r]instanceof String||Ae(e[r])||e[r]instanceof String?t&&(s[r]=e[r]):cl(s[r],e[r],t):s[r]=e[r]);return s},hr=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ld={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Pd=s=>Ae(s)?s.replace(/[&<>"'\/]/g,e=>Ld[e]):s;class Fd{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Bd=[" ",",","?","!",";"],zd=new Fd(20),Md=(s,e,t)=>{e=e||"",t=t||"";const r=Bd.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(r.length===0)return!0;const i=zd.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let n=!i.test(s);if(!n){const a=s.indexOf(t);a>0&&!i.test(s.substring(0,a))&&(n=!0)}return n},ws=(s,e,t=".")=>{if(!s)return;if(s[e])return Object.prototype.hasOwnProperty.call(s,e)?s[e]:void 0;const r=e.split(t);let i=s;for(let n=0;n<r.length;){if(!i||typeof i!="object")return;let a,o="";for(let u=n;u<r.length;++u)if(u!==n&&(o+=t),o+=r[u],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&u<r.length-1)continue;n+=u-n+1;break}i=a}return i},Vr=s=>s?.replace("_","-"),Ud={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){console?.[s]?.apply?.(console,e)}};class bi{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||Ud,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(Ae(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new bi(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new bi(this.logger,e)}}var jt=new bi;let ji=class{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,n])=>{for(let a=0;a<n;a++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,n])=>{for(let a=0;a<n;a++)i.apply(i,[e,...t])})}};class Ga extends ji{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,i={}){const n=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],r&&(Array.isArray(r)?o.push(...r):Ae(r)&&n?o.push(...r.split(n)):o.push(r)));const u=yi(this.data,o);return!u&&!t&&!r&&e.indexOf(".")>-1&&(e=o[0],t=o[1],r=o.slice(2).join(".")),u||!a||!Ae(r)?u:ws(this.data?.[e]?.[t],r,n)}addResource(e,t,r,i,n={silent:!1}){const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=[e,t];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),i=t,t=o[1]),this.addNamespaces(t),$a(this.data,o,i),n.silent||this.emit("added",e,t,r,i)}addResources(e,t,r,i={silent:!1}){for(const n in r)(Ae(r[n])||Array.isArray(r[n]))&&this.addResource(e,t,n,r[n],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,n,a={silent:!1,skipCopy:!1}){let o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),i=r,r=t,t=o[1]),this.addNamespaces(t);let u=yi(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?cl(u,r,n):u={...u,...r},$a(this.data,o,u),a.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var hl={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,t,r,i){return s.forEach(n=>{e=this.processors[n]?.process(e,t,r,i)??e}),e}};const Ya={},Za=s=>!Ae(s)&&typeof s!="boolean"&&typeof s!="number";class wi extends ji{constructor(e,t={}){super(),Od(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=jt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let n=t.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Md(e,r,i);if(a&&!o){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:Ae(n)?[n]:n};const l=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(l[0])>-1)&&(n=l.shift()),e=l.join(i)}return{key:e,namespaces:Ae(n)?[n]:n}}translate(e,t,r){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const n=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:u}=this.extractFromKey(e[e.length-1],i),l=u[u.length-1];let c=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");const d=i.lng||this.language,v=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d?.toLowerCase()==="cimode")return v?n?{res:`${l}${c}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:`${l}${c}${o}`:n?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:o;const b=this.resolve(e,i);let _=b?.res;const w=b?.usedKey||o,p=b?.exactUsedKey||o,m=["[object Number]","[object Function]","[object RegExp]"],y=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,N=i.count!==void 0&&!Ae(i.count),E=wi.hasDefaultValue(i),T=N?this.pluralResolver.getSuffix(d,i.count,i):"",O=i.ordinal&&N?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",I=N&&!i.ordinal&&i.count===0,R=I&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${T}`]||i[`defaultValue${O}`]||i.defaultValue;let L=_;A&&!_&&E&&(L=R);const Y=Za(L),q=Object.prototype.toString.apply(L);if(A&&L&&Y&&m.indexOf(q)<0&&!(Ae(y)&&Array.isArray(L))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const G=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,L,{...i,ns:u}):`key '${o} (${this.language})' returned an object instead of string.`;return n?(b.res=G,b.usedParams=this.getUsedParamsDetails(i),b):G}if(a){const G=Array.isArray(L),ee=G?[]:{},re=G?p:w;for(const fe in L)if(Object.prototype.hasOwnProperty.call(L,fe)){const te=`${re}${a}${fe}`;E&&!_?ee[fe]=this.translate(te,{...i,defaultValue:Za(R)?R[fe]:void 0,joinArrays:!1,ns:u}):ee[fe]=this.translate(te,{...i,joinArrays:!1,ns:u}),ee[fe]===te&&(ee[fe]=L[fe])}_=ee}}else if(A&&Ae(y)&&Array.isArray(_))_=_.join(y),_&&(_=this.extendTranslation(_,e,i,r));else{let G=!1,ee=!1;!this.isValidLookup(_)&&E&&(G=!0,_=R),this.isValidLookup(_)||(ee=!0,_=o);const fe=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ee?void 0:_,te=E&&R!==_&&this.options.updateMissing;if(ee||G||te){if(this.logger.log(te?"updateKey":"missingKey",d,l,o,te?R:_),a){const K=this.resolve(o,{...i,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const X=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&X&&X[0])for(let K=0;K<X.length;K++)W.push(X[K]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(i.lng||this.language):W.push(i.lng||this.language);const oe=(K,ne,Ee)=>{const ve=E&&Ee!==_?Ee:fe;this.options.missingKeyHandler?this.options.missingKeyHandler(K,l,ne,ve,te,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(K,l,ne,ve,te,i),this.emit("missingKey",K,l,ne,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?W.forEach(K=>{const ne=this.pluralResolver.getSuffixes(K,i);I&&i[`defaultValue${this.options.pluralSeparator}zero`]&&ne.indexOf(`${this.options.pluralSeparator}zero`)<0&&ne.push(`${this.options.pluralSeparator}zero`),ne.forEach(Ee=>{oe([K],o+Ee,i[`defaultValue${Ee}`]||R)})}):oe(W,o,R))}_=this.extendTranslation(_,e,i,b,r),ee&&_===o&&this.options.appendNamespaceToMissingKey&&(_=`${l}${c}${o}`),(ee||G)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${c}${o}`:o,G?_:void 0,i))}return n?(b.res=_,b.usedParams=this.getUsedParamsDetails(i),b):_}extendTranslation(e,t,r,i,n){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=Ae(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(u){const d=e.match(this.interpolator.nestingRegexp);l=d&&d.length}let c=r.replace&&!Ae(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),e=this.interpolator.interpolate(e,c,r.lng||this.language||i.usedLng,r),u){const d=e.match(this.interpolator.nestingRegexp),v=d&&d.length;l<v&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...d)=>n?.[0]===d[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${t[0]}`),null):this.translate(...d,t),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,o=Ae(a)?[a]:a;return e!=null&&o?.length&&r.applyPostProcessor!==!1&&(e=hl.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,i,n,a,o;return Ae(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const l=this.extractFromKey(u,t),c=l.key;i=c;let d=l.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const v=t.count!==void 0&&!Ae(t.count),b=v&&!t.ordinal&&t.count===0,_=t.context!==void 0&&(Ae(t.context)||typeof t.context=="number")&&t.context!=="",w=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);d.forEach(p=>{this.isValidLookup(r)||(o=p,!Ya[`${w[0]}-${p}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(Ya[`${w[0]}-${p}`]=!0,this.logger.warn(`key "${i}" for languages "${w.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(m=>{if(this.isValidLookup(r))return;a=m;const y=[c];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(y,c,m,p,t);else{let N;v&&(N=this.pluralResolver.getSuffix(m,t.count,t));const E=`${this.options.pluralSeparator}zero`,T=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(y.push(c+N),t.ordinal&&N.indexOf(T)===0&&y.push(c+N.replace(T,this.options.pluralSeparator)),b&&y.push(c+E)),_){const O=`${c}${this.options.contextSeparator}${t.context}`;y.push(O),v&&(y.push(O+N),t.ordinal&&N.indexOf(T)===0&&y.push(O+N.replace(T,this.options.pluralSeparator)),b&&y.push(O+E))}}let A;for(;A=y.pop();)this.isValidLookup(r)||(n=A,r=this.getResource(m,p,A,t))}))})}),{res:r,usedKey:i,exactUsedKey:n,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ae(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const n of t)delete i[n]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class Xa{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=jt.create("languageUtils")}getScriptPartFromCode(e){if(e=Vr(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Vr(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Ae(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return t=i;const n=this.getLanguagePartFromCode(r);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(a=>{if(a===n)return a;if(!(a.indexOf("-")<0&&n.indexOf("-")<0)&&(a.indexOf("-")>0&&n.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===n||a.indexOf(n)===0&&n.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Ae(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],n=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Ae(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&n(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&n(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&n(this.getLanguagePartFromCode(e))):Ae(e)&&n(this.formatLanguageCode(e)),r.forEach(a=>{i.indexOf(a)<0&&n(this.formatLanguageCode(a))}),i}}const Ka={zero:0,one:1,two:2,few:3,many:4,other:5},Ja={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class jd{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=jt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=Vr(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",n=JSON.stringify({cleanedCode:r,type:i});if(n in this.pluralRulesCache)return this.pluralRulesCache[n];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ja;if(!e.match(/-|_/))return Ja;const u=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(u,t)}return this.pluralRulesCache[n]=a,a}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,n)=>Ka[i]-Ka[n]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const Qa=(s,e,t,r=".",i=!0)=>{let n=Id(s,e,t);return!n&&i&&Ae(t)&&(n=ws(s,t,r),n===void 0&&(n=ws(e,t,r))),n},ln=s=>s.replace(/\$/g,"$$$$");class qd{constructor(e={}){this.logger=jt.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:n,prefixEscaped:a,suffix:o,suffixEscaped:u,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:v,nestingPrefixEscaped:b,nestingSuffix:_,nestingSuffixEscaped:w,nestingOptionsSeparator:p,maxReplaces:m,alwaysFormat:y}=e.interpolation;this.escape=t!==void 0?t:Pd,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=n?hr(n):a||"{{",this.suffix=o?hr(o):u||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=v?hr(v):b||hr("$t("),this.nestingSuffix=_?hr(_):w||hr(")"),this.nestingOptionsSeparator=p||",",this.maxReplaces=m||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t?.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,i){let n,a,o;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=b=>{if(b.indexOf(this.formatSeparator)<0){const m=Qa(t,u,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,r,{...i,...t,interpolationkey:b}):m}const _=b.split(this.formatSeparator),w=_.shift().trim(),p=_.join(this.formatSeparator).trim();return this.format(Qa(t,u,w,this.options.keySeparator,this.options.ignoreJSONStructure),p,r,{...i,...t,interpolationkey:w})};this.resetRegExp();const c=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>ln(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?ln(this.escape(b)):ln(b)}].forEach(b=>{for(o=0;n=b.regex.exec(e);){const _=n[1].trim();if(a=l(_),a===void 0)if(typeof c=="function"){const p=c(e,n,i);a=Ae(p)?p:""}else if(i&&Object.prototype.hasOwnProperty.call(i,_))a="";else if(d){a=n[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${e}`),a="";else!Ae(a)&&!this.useRawValueToEscape&&(a=Wa(a));const w=b.safeValue(a);if(e=e.replace(n[0],w),d?(b.regex.lastIndex+=a.length,b.regex.lastIndex-=n[0].length):b.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t,r={}){let i,n,a;const o=(u,l)=>{const c=this.nestingOptionsSeparator;if(u.indexOf(c)<0)return u;const d=u.split(new RegExp(`${c}[ ]*{`));let v=`{${d[1]}`;u=d[0],v=this.interpolate(v,a);const b=v.match(/'/g),_=v.match(/"/g);((b?.length??0)%2===0&&!_||_.length%2!==0)&&(v=v.replace(/'/g,'"'));try{a=JSON.parse(v),l&&(a={...l,...a})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,w),`${u}${c}${v}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,u};for(;i=this.nestingRegexp.exec(e);){let u=[];a={...r},a=a.replace&&!Ae(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const l=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(l!==-1&&(u=i[1].slice(l).split(this.formatSeparator).map(c=>c.trim()).filter(Boolean),i[1]=i[1].slice(0,l)),n=t(o.call(this,i[1].trim(),a),a),n&&i[0]===e&&!Ae(n))return n;Ae(n)||(n=Wa(n)),n||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),n=""),u.length&&(n=u.reduce((c,d)=>this.format(c,d,r.lng,{...r,interpolationkey:i[1].trim()}),n.trim())),e=e.replace(i[0],n),this.regexp.lastIndex=0}return e}}const Wd=s=>{let e=s.toLowerCase().trim();const t={};if(s.indexOf("(")>-1){const r=s.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...u]=a.split(":"),l=u.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();t[c]||(t[c]=l),l==="false"&&(t[c]=!1),l==="true"&&(t[c]=!0),isNaN(l)||(t[c]=parseInt(l,10))}})}return{formatName:e,formatOptions:t}},eo=s=>{const e={};return(t,r,i)=>{let n=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(n={...n,[i.interpolationkey]:void 0});const a=r+JSON.stringify(n);let o=e[a];return o||(o=s(Vr(r),i),e[a]=o),o(t)}},Hd=s=>(e,t,r)=>s(Vr(t),r)(e);class Vd{constructor(e={}){this.logger=jt.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?eo:Hd;this.formats={number:r((i,n)=>{const a=new Intl.NumberFormat(i,{...n});return o=>a.format(o)}),currency:r((i,n)=>{const a=new Intl.NumberFormat(i,{...n,style:"currency"});return o=>a.format(o)}),datetime:r((i,n)=>{const a=new Intl.DateTimeFormat(i,{...n});return o=>a.format(o)}),relativetime:r((i,n)=>{const a=new Intl.RelativeTimeFormat(i,{...n});return o=>a.format(o,n.range||"day")}),list:r((i,n)=>{const a=new Intl.ListFormat(i,{...n});return o=>a.format(o)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=eo(t)}format(e,t,r,i={}){const n=t.split(this.formatSeparator);if(n.length>1&&n[0].indexOf("(")>1&&n[0].indexOf(")")<0&&n.find(o=>o.indexOf(")")>-1)){const o=n.findIndex(u=>u.indexOf(")")>-1);n[0]=[n[0],...n.splice(1,o)].join(this.formatSeparator)}return n.reduce((o,u)=>{const{formatName:l,formatOptions:c}=Wd(u);if(this.formats[l]){let d=o;try{const v=i?.formatParams?.[i.interpolationkey]||{},b=v.locale||v.lng||i.locale||i.lng||r;d=this.formats[l](o,b,{...c,...i,...v})}catch(v){this.logger.warn(v)}return d}else this.logger.warn(`there was no format function for ${l}`);return o},e)}}const $d=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};class Gd extends ji{constructor(e,t,r,i={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=jt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(e,t,r,i){const n={},a={},o={},u={};return e.forEach(l=>{let c=!0;t.forEach(d=>{const v=`${l}|${d}`;!r.reload&&this.store.hasResourceBundle(l,d)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?a[v]===void 0&&(a[v]=!0):(this.state[v]=1,c=!1,a[v]===void 0&&(a[v]=!0),n[v]===void 0&&(n[v]=!0),u[d]===void 0&&(u[d]=!0)))}),c||(o[l]=!0)}),(Object.keys(n).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(n),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(u)}}loaded(e,t,r){const i=e.split("|"),n=i[0],a=i[1];t&&this.emit("failedLoading",n,a,t),!t&&r&&this.store.addResourceBundle(n,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const o={};this.queue.forEach(u=>{Nd(u.loaded,[n],a),$d(u,e),t&&u.errors.push(t),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(l=>{o[l]||(o[l]={});const c=u.loaded[l];c.length&&c.forEach(d=>{o[l][d]===void 0&&(o[l][d]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(u=>!u.done)}read(e,t,r,i=0,n=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:n,callback:a});return}this.readingCalls++;const o=(l,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(l&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,n*2,a)},n);return}a(l,c)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const l=u(e,t);l&&typeof l.then=="function"?l.then(c=>o(null,c)).catch(o):o(null,l)}catch(l){o(l)}return}return u(e,t,o)}prepareLoading(e,t,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Ae(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ae(t)&&(t=[t]);const n=this.queueLoad(e,t,r,i);if(!n.toLoad.length)return n.pending.length||i(),null;n.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),i=r[0],n=r[1];this.read(i,n,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${n} for language ${i} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${n} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,t,r,i,n,a={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const u={...a,isUpdate:n},l=this.backend.create.bind(this.backend);if(l.length<6)try{let c;l.length===5?c=l(e,t,r,i,u):c=l(e,t,r,i),c&&typeof c.then=="function"?c.then(d=>o(null,d)).catch(o):o(null,c)}catch(c){o(c)}else l(e,t,r,i,o,u)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}const to=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),Ae(s[1])&&(e.defaultValue=s[1]),Ae(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const t=s[3]||s[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),ro=s=>(Ae(s.ns)&&(s.ns=[s.ns]),Ae(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),Ae(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),s.supportedLngs?.indexOf?.("cimode")<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s),ii=()=>{},Yd=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(t=>{typeof s[t]=="function"&&(s[t]=s[t].bind(s))})};class $r extends ji{constructor(e={},t){if(super(),this.options=ro(e),this.services={},this.logger=jt,this.modules={external:[]},Yd(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Ae(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=to();this.options={...r,...this.options,...ro(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?jt.init(i(this.modules.logger),this.options):jt.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:l=Vd;const c=new Xa(this.options);this.store=new Ga(this.options.resources,this.options);const d=this.services;d.logger=jt,d.resourceStore=this.store,d.languageUtils=c,d.pluralResolver=new jd(c,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),l&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(l),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new qd(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Gd(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(b,..._)=>{this.emit(b,..._)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new wi(this.services,this.options),this.translator.on("*",(b,..._)=>{this.emit(b,..._)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,t||(t=ii),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=(...c)=>this.store[l](...c)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=(...c)=>(this.store[l](...c),this)});const o=Lr(),u=()=>{const l=(c,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(d),t(c,d)};if(this.languages&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),o}loadResources(e,t=ii){let r=t;const i=Ae(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const n=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(l=>{l!=="cimode"&&n.indexOf(l)<0&&n.push(l)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>a(u)),this.options.preload?.forEach?.(o=>a(o)),this.services.backendConnector.load(n,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,t,r){const i=Lr();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=ii),this.services.backendConnector.reload(e,t,n=>{i.resolve(),r(n)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&hl.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Lr();this.emit("languageChanging",e);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},n=(o,u)=>{u?this.isLanguageChangingTo===e&&(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...l)=>this.t(...l)),t&&t(o,(...l)=>this.t(...l))},a=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const u=Ae(o)?o:o&&o[0],l=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(Ae(o)?[o]:o);l&&(this.language||i(l),this.translator.language||this.translator.changeLanguage(l),this.services.languageDetector?.cacheUserLanguage?.(l)),this.loadResources(l,c=>{n(c,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,t,r){const i=(n,a,...o)=>{let u;typeof a!="object"?u=this.options.overloadTranslationOptionHandler([n,a].concat(o)):u={...a},u.lng=u.lng||i.lng,u.lngs=u.lngs||i.lngs,u.ns=u.ns||i.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||i.keyPrefix);const l=this.options.keySeparator||".";let c;return u.keyPrefix&&Array.isArray(n)?c=n.map(d=>`${u.keyPrefix}${l}${d}`):c=u.keyPrefix?`${u.keyPrefix}${l}${n}`:n,this.t(c,u)};return Ae(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,n=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,u)=>{const l=this.services.backendConnector.state[`${o}|${u}`];return l===-1||l===0||l===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!i||a(n,e)))}loadNamespaces(e,t){const r=Lr();return this.options.ns?(Ae(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Lr();Ae(e)&&(e=[e]);const i=this.options.preload||[],n=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return n.length?(this.options.preload=i.concat(n),this.loadResources(a=>{r.resolve(),t&&t(a)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const n=i.getTextInfo();if(n&&n.direction)return n.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new Xa(to());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new $r(e,t)}cloneInstance(e={},t=ii){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},n=new $r(i);if((e.debug!==void 0||e.prefix!==void 0)&&(n.logger=n.logger.clone(e)),["store","services","language"].forEach(o=>{n[o]=this[o]}),n.services={...this.services},n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},r){const o=Object.keys(this.store.data).reduce((u,l)=>(u[l]={...this.store.data[l]},u[l]=Object.keys(u[l]).reduce((c,d)=>(c[d]={...u[l][d]},c),u[l]),u),{});n.store=new Ga(o,i),n.services.resourceStore=n.store}return n.translator=new wi(n.services,i),n.translator.on("*",(o,...u)=>{n.emit(o,...u)}),n.init(i,t),n.translator.options=i,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const yt=$r.createInstance();yt.createInstance=$r.createInstance;yt.createInstance;yt.dir;yt.init;yt.loadResources;yt.reloadResources;yt.use;yt.changeLanguage;yt.getFixedT;yt.t;yt.exists;yt.setDefaultNamespace;yt.hasLoadedNamespace;yt.loadNamespaces;yt.loadLanguages;const{slice:Zd,forEach:Xd}=[];function Kd(s){return Xd.call(Zd.call(arguments,1),e=>{if(e)for(const t in e)s[t]===void 0&&(s[t]=e[t])}),s}function Jd(s){return typeof s!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(s))}const io=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Qd=function(s,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let n=`${s}=${i}`;if(r.maxAge>0){const a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");n+=`; Max-Age=${Math.floor(a)}`}if(r.domain){if(!io.test(r.domain))throw new TypeError("option domain is invalid");n+=`; Domain=${r.domain}`}if(r.path){if(!io.test(r.path))throw new TypeError("option path is invalid");n+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");n+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(n+="; HttpOnly"),r.secure&&(n+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"strict":n+="; SameSite=Strict";break;case"none":n+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(n+="; Partitioned"),n},no={create(s,e,t,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),r&&(i.domain=r),document.cookie=Qd(s,e,i)},read(s){const e=`${s}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let i=t[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(s,e){this.create(s,"",-1,e)}};var ep={name:"cookie",lookup(s){let{lookupCookie:e}=s;if(e&&typeof document<"u")return no.read(e)||void 0},cacheUserLanguage(s,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:i,cookieOptions:n}=e;t&&typeof document<"u"&&no.create(t,s,r,i,n)}},tp={name:"querystring",lookup(s){let{lookupQuerystring:e}=s,t;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const n=r.substring(1).split("&");for(let a=0;a<n.length;a++){const o=n[a].indexOf("=");o>0&&n[a].substring(0,o)===e&&(t=n[a].substring(o+1))}}return t}},rp={name:"hash",lookup(s){let{lookupHash:e,lookupFromHashIndex:t}=s,r;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const n=i.substring(1);if(e){const a=n.split("&");for(let o=0;o<a.length;o++){const u=a[o].indexOf("=");u>0&&a[o].substring(0,u)===e&&(r=a[o].substring(u+1))}}if(r)return r;if(!r&&t>-1){const a=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?a[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return r}};let dr=null;const so=()=>{if(dr!==null)return dr;try{if(dr=typeof window<"u"&&window.localStorage!==null,!dr)return!1;const s="i18next.translate.boo";window.localStorage.setItem(s,"foo"),window.localStorage.removeItem(s)}catch{dr=!1}return dr};var ip={name:"localStorage",lookup(s){let{lookupLocalStorage:e}=s;if(e&&so())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupLocalStorage:t}=e;t&&so()&&window.localStorage.setItem(t,s)}};let pr=null;const ao=()=>{if(pr!==null)return pr;try{if(pr=typeof window<"u"&&window.sessionStorage!==null,!pr)return!1;const s="i18next.translate.boo";window.sessionStorage.setItem(s,"foo"),window.sessionStorage.removeItem(s)}catch{pr=!1}return pr};var np={name:"sessionStorage",lookup(s){let{lookupSessionStorage:e}=s;if(e&&ao())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupSessionStorage:t}=e;t&&ao()&&window.sessionStorage.setItem(t,s)}},sp={name:"navigator",lookup(s){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:i}=navigator;if(t)for(let n=0;n<t.length;n++)e.push(t[n]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},ap={name:"htmlTag",lookup(s){let{htmlTag:e}=s,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},op={name:"path",lookup(s){let{lookupFromPathIndex:e}=s;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},up={name:"subdomain",lookup(s){let{lookupFromSubdomainIndex:e}=s;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}};let dl=!1;try{document.cookie,dl=!0}catch{}const pl=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];dl||pl.splice(1,1);const lp=()=>({order:pl,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:s=>s});class fp{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=Kd(t,this.options||{},lp()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(ep),this.addDetector(tp),this.addDetector(ip),this.addDetector(np),this.addDetector(sp),this.addDetector(ap),this.addDetector(op),this.addDetector(up),this.addDetector(rp)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(r=>r!=null&&!Jd(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}fp.type="languageDetector";var ni={exports:{}},fn={exports:{}},cn,oo;function gl(){if(oo)return cn;oo=1;var s=void 0;return cn=function(e){return e!==s&&e!==null},cn}var hn,uo;function cp(){if(uo)return hn;uo=1;var s=gl(),e={object:!0,function:!0,undefined:!0};return hn=function(t){return s(t)?hasOwnProperty.call(e,typeof t):!1},hn}var dn,lo;function hp(){if(lo)return dn;lo=1;var s=cp();return dn=function(e){if(!s(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch{return!1}},dn}var pn,fo;function dp(){if(fo)return pn;fo=1;var s=hp();return pn=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch{return!1}return!s(e)},pn}var gn,co;function pp(){if(co)return gn;co=1;var s=dp(),e=/^\s*class[\s{/}]/,t=Function.prototype.toString;return gn=function(r){return!(!s(r)||e.test(t.call(r)))},gn}var mn,ho;function gp(){return ho||(ho=1,mn=function(){var s=Object.assign,e;return typeof s!="function"?!1:(e={foo:"raz"},s(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}),mn}var vn,po;function mp(){return po||(po=1,vn=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),vn}var yn,go;function vp(){return go||(go=1,yn=function(){}),yn}var bn,mo;function Us(){if(mo)return bn;mo=1;var s=vp()();return bn=function(e){return e!==s&&e!==null},bn}var wn,vo;function yp(){if(vo)return wn;vo=1;var s=Us(),e=Object.keys;return wn=function(t){return e(s(t)?Object(t):t)},wn}var En,yo;function bp(){return yo||(yo=1,En=mp()()?Object.keys:yp()),En}var xn,bo;function wp(){if(bo)return xn;bo=1;var s=Us();return xn=function(e){if(!s(e))throw new TypeError("Cannot use null or undefined");return e},xn}var _n,wo;function Ep(){if(wo)return _n;wo=1;var s=bp(),e=wp(),t=Math.max;return _n=function(r,i){var n,a,o=t(arguments.length,2),u;for(r=Object(e(r)),u=function(l){try{r[l]=i[l]}catch(c){n||(n=c)}},a=1;a<o;++a)i=arguments[a],s(i).forEach(u);if(n!==void 0)throw n;return r},_n}var An,Eo;function xp(){return Eo||(Eo=1,An=gp()()?Object.assign:Ep()),An}var Sn,xo;function _p(){if(xo)return Sn;xo=1;var s=Us(),e=Array.prototype.forEach,t=Object.create,r=function(i,n){var a;for(a in i)n[a]=i[a]};return Sn=function(i){var n=t(null);return e.call(arguments,function(a){s(a)&&r(Object(a),n)}),n},Sn}var Cn,_o;function Ap(){if(_o)return Cn;_o=1;var s="razdwatrzy";return Cn=function(){return typeof s.contains!="function"?!1:s.contains("dwa")===!0&&s.contains("foo")===!1},Cn}var Dn,Ao;function Sp(){if(Ao)return Dn;Ao=1;var s=String.prototype.indexOf;return Dn=function(e){return s.call(this,e,arguments[1])>-1},Dn}var Tn,So;function Cp(){return So||(So=1,Tn=Ap()()?String.prototype.contains:Sp()),Tn}var Co;function Dp(){if(Co)return fn.exports;Co=1;var s=gl(),e=pp(),t=xp(),r=_p(),i=Cp(),n=fn.exports=function(a,o){var u,l,c,d,v;return arguments.length<2||typeof a!="string"?(d=o,o=a,a=null):d=arguments[2],s(a)?(u=i.call(a,"c"),l=i.call(a,"e"),c=i.call(a,"w")):(u=c=!0,l=!1),v={value:o,configurable:u,enumerable:l,writable:c},d?t(r(d),v):v};return n.gs=function(a,o,u){var l,c,d,v;return typeof a!="string"?(d=u,u=o,o=a,a=null):d=arguments[3],s(o)?e(o)?s(u)?e(u)||(d=u,u=void 0):u=void 0:(d=o,o=u=void 0):o=void 0,s(a)?(l=i.call(a,"c"),c=i.call(a,"e")):(l=!0,c=!1),v={get:o,set:u,configurable:l,enumerable:c},d?t(r(d),v):v},fn.exports}var kn,Do;function Tp(){return Do||(Do=1,kn=function(s){if(typeof s!="function")throw new TypeError(s+" is not a function");return s}),kn}var To;function kp(){return To||(To=1,function(s,e){var t=Dp(),r=Tp(),i=Function.prototype.apply,n=Function.prototype.call,a=Object.create,o=Object.defineProperty,u=Object.defineProperties,l=Object.prototype.hasOwnProperty,c={configurable:!0,enumerable:!1,writable:!0},d,v,b,_,w,p,m;d=function(y,A){var N;return r(A),l.call(this,"__ee__")?N=this.__ee__:(N=c.value=a(null),o(this,"__ee__",c),c.value=null),N[y]?typeof N[y]=="object"?N[y].push(A):N[y]=[N[y],A]:N[y]=A,this},v=function(y,A){var N,E;return r(A),E=this,d.call(this,y,N=function(){b.call(E,y,N),i.call(A,this,arguments)}),N.__eeOnceListener__=A,this},b=function(y,A){var N,E,T,O;if(r(A),!l.call(this,"__ee__"))return this;if(N=this.__ee__,!N[y])return this;if(E=N[y],typeof E=="object")for(O=0;T=E[O];++O)(T===A||T.__eeOnceListener__===A)&&(E.length===2?N[y]=E[O?0:1]:E.splice(O,1));else(E===A||E.__eeOnceListener__===A)&&delete N[y];return this},_=function(y){var A,N,E,T,O;if(l.call(this,"__ee__")&&(T=this.__ee__[y],!!T))if(typeof T=="object"){for(N=arguments.length,O=new Array(N-1),A=1;A<N;++A)O[A-1]=arguments[A];for(T=T.slice(),A=0;E=T[A];++A)i.call(E,this,O)}else switch(arguments.length){case 1:n.call(T,this);break;case 2:n.call(T,this,arguments[1]);break;case 3:n.call(T,this,arguments[1],arguments[2]);break;default:for(N=arguments.length,O=new Array(N-1),A=1;A<N;++A)O[A-1]=arguments[A];i.call(T,this,O)}},w={on:d,once:v,off:b,emit:_},p={on:t(d),once:t(v),off:t(b),emit:t(_)},m=u({},p),s.exports=e=function(y){return y==null?a(m):u(Object(y),p)},e.methods=w}(ni,ni.exports)),ni.exports}var Op=kp();const Wt=lr(Op);var Pr={},Vt={},gr={},ko;function qi(){if(ko)return gr;ko=1;function s(i,n,a){if(a===void 0&&(a=Array.prototype),i&&typeof a.find=="function")return a.find.call(i,n);for(var o=0;o<i.length;o++)if(Object.prototype.hasOwnProperty.call(i,o)){var u=i[o];if(n.call(void 0,u,o,i))return u}}function e(i,n){return n===void 0&&(n=Object),n&&typeof n.freeze=="function"?n.freeze(i):i}var t=e({HTML:"text/html",isHTML:function(i){return i===t.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(i){return i===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return gr.find=s,gr.freeze=e,gr.MIME_TYPE=t,gr.NAMESPACE=r,gr}var Oo;function ml(){if(Oo)return Vt;Oo=1;var s=qi(),e=s.find,t=s.NAMESPACE;function r(g){return g!==""}function i(g){return g?g.split(/[\t\n\f\r ]+/).filter(r):[]}function n(g,f){return g.hasOwnProperty(f)||(g[f]=!0),g}function a(g){if(!g)return[];var f=i(g);return Object.keys(f.reduce(n,{}))}function o(g){return function(f){return g&&g.indexOf(f)!==-1}}function u(g,f){for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(f[S]=g[S])}function l(g,f){var S=g.prototype;if(!(S instanceof f)){let z=function(){};z.prototype=f.prototype,z=new z,u(S,z),g.prototype=S=z}S.constructor!=g&&(S.constructor=g)}var c={},d=c.ELEMENT_NODE=1,v=c.ATTRIBUTE_NODE=2,b=c.TEXT_NODE=3,_=c.CDATA_SECTION_NODE=4,w=c.ENTITY_REFERENCE_NODE=5,p=c.ENTITY_NODE=6,m=c.PROCESSING_INSTRUCTION_NODE=7,y=c.COMMENT_NODE=8,A=c.DOCUMENT_NODE=9,N=c.DOCUMENT_TYPE_NODE=10,E=c.DOCUMENT_FRAGMENT_NODE=11,T=c.NOTATION_NODE=12,O={},I={};O.INDEX_SIZE_ERR=(I[1]="Index size error",1),O.DOMSTRING_SIZE_ERR=(I[2]="DOMString size error",2);var R=O.HIERARCHY_REQUEST_ERR=(I[3]="Hierarchy request error",3);O.WRONG_DOCUMENT_ERR=(I[4]="Wrong document",4),O.INVALID_CHARACTER_ERR=(I[5]="Invalid character",5),O.NO_DATA_ALLOWED_ERR=(I[6]="No data allowed",6),O.NO_MODIFICATION_ALLOWED_ERR=(I[7]="No modification allowed",7);var L=O.NOT_FOUND_ERR=(I[8]="Not found",8);O.NOT_SUPPORTED_ERR=(I[9]="Not supported",9);var Y=O.INUSE_ATTRIBUTE_ERR=(I[10]="Attribute in use",10);O.INVALID_STATE_ERR=(I[11]="Invalid state",11),O.SYNTAX_ERR=(I[12]="Syntax error",12),O.INVALID_MODIFICATION_ERR=(I[13]="Invalid modification",13),O.NAMESPACE_ERR=(I[14]="Invalid namespace",14),O.INVALID_ACCESS_ERR=(I[15]="Invalid access",15);function q(g,f){if(f instanceof Error)var S=f;else S=this,Error.call(this,I[g]),this.message=I[g],Error.captureStackTrace&&Error.captureStackTrace(this,q);return S.code=g,f&&(this.message=this.message+": "+f),S}q.prototype=Error.prototype,u(O,q);function G(){}G.prototype={length:0,item:function(g){return g>=0&&g<this.length?this[g]:null},toString:function(g,f){for(var S=[],z=0;z<this.length;z++)Q(this[z],S,g,f);return S.join("")},filter:function(g){return Array.prototype.filter.call(this,g)},indexOf:function(g){return Array.prototype.indexOf.call(this,g)}};function ee(g,f){this._node=g,this._refresh=f,re(this)}function re(g){var f=g._node._inc||g._node.ownerDocument._inc;if(g._inc!==f){var S=g._refresh(g._node);if(B(g,"length",S.length),!g.$$length||S.length<g.$$length)for(var z=S.length;z in g;z++)Object.prototype.hasOwnProperty.call(g,z)&&delete g[z];u(S,g),g._inc=f}}ee.prototype.item=function(g){return re(this),this[g]||null},l(ee,G);function fe(){}function te(g,f){for(var S=g.length;S--;)if(g[S]===f)return S}function W(g,f,S,z){if(z?f[te(f,z)]=S:f[f.length++]=S,g){S.ownerElement=g;var h=g.ownerDocument;h&&(z&&Ue(h,g,z),ke(h,g,S))}}function X(g,f,S){var z=te(f,S);if(z>=0){for(var h=f.length-1;z<h;)f[z]=f[++z];if(f.length=h,g){var M=g.ownerDocument;M&&(Ue(M,g,S),S.ownerElement=null)}}else throw new q(L,new Error(g.tagName+"@"+S))}fe.prototype={length:0,item:G.prototype.item,getNamedItem:function(g){for(var f=this.length;f--;){var S=this[f];if(S.nodeName==g)return S}},setNamedItem:function(g){var f=g.ownerElement;if(f&&f!=this._ownerElement)throw new q(Y);var S=this.getNamedItem(g.nodeName);return W(this._ownerElement,this,g,S),S},setNamedItemNS:function(g){var f=g.ownerElement,S;if(f&&f!=this._ownerElement)throw new q(Y);return S=this.getNamedItemNS(g.namespaceURI,g.localName),W(this._ownerElement,this,g,S),S},removeNamedItem:function(g){var f=this.getNamedItem(g);return X(this._ownerElement,this,f),f},removeNamedItemNS:function(g,f){var S=this.getNamedItemNS(g,f);return X(this._ownerElement,this,S),S},getNamedItemNS:function(g,f){for(var S=this.length;S--;){var z=this[S];if(z.localName==f&&z.namespaceURI==g)return z}return null}};function oe(){}oe.prototype={hasFeature:function(g,f){return!0},createDocument:function(g,f,S){var z=new ve;if(z.implementation=this,z.childNodes=new G,z.doctype=S||null,S&&z.appendChild(S),f){var h=z.createElementNS(g,f);z.appendChild(h)}return z},createDocumentType:function(g,f,S){var z=new at;return z.name=g,z.nodeName=g,z.publicId=f||"",z.systemId=S||"",z}};function K(){}K.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(g,f){return st(this,g,f)},replaceChild:function(g,f){st(this,g,f,Xe),f&&this.removeChild(f)},removeChild:function(g){return we(this,g)},appendChild:function(g){return this.insertBefore(g,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(g){return ge(this.ownerDocument||this,this,g)},normalize:function(){for(var g=this.firstChild;g;){var f=g.nextSibling;f&&f.nodeType==b&&g.nodeType==b?(this.removeChild(f),g.appendData(f.data)):(g.normalize(),g=f)}},isSupported:function(g,f){return this.ownerDocument.implementation.hasFeature(g,f)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(g){for(var f=this;f;){var S=f._nsMap;if(S){for(var z in S)if(Object.prototype.hasOwnProperty.call(S,z)&&S[z]===g)return z}f=f.nodeType==v?f.ownerDocument:f.parentNode}return null},lookupNamespaceURI:function(g){for(var f=this;f;){var S=f._nsMap;if(S&&g in S&&Object.prototype.hasOwnProperty.call(S,g))return S[g];f=f.nodeType==v?f.ownerDocument:f.parentNode}return null},isDefaultNamespace:function(g){var f=this.lookupPrefix(g);return f==null}};function ne(g){return g=="<"&&"&lt;"||g==">"&&"&gt;"||g=="&"&&"&amp;"||g=='"'&&"&quot;"||"&#"+g.charCodeAt()+";"}u(c,K),u(c,K.prototype);function Ee(g,f){if(f(g))return!0;if(g=g.firstChild)do if(Ee(g,f))return!0;while(g=g.nextSibling)}function ve(){this.ownerDocument=this}function ke(g,f,S){g&&g._inc++;var z=S.namespaceURI;z===t.XMLNS&&(f._nsMap[S.prefix?S.localName:""]=S.value)}function Ue(g,f,S,z){g&&g._inc++;var h=S.namespaceURI;h===t.XMLNS&&delete f._nsMap[S.prefix?S.localName:""]}function Fe(g,f,S){if(g&&g._inc){g._inc++;var z=f.childNodes;if(S)z[z.length++]=S;else{for(var h=f.firstChild,M=0;h;)z[M++]=h,h=h.nextSibling;z.length=M,delete z[z.length]}}}function we(g,f){var S=f.previousSibling,z=f.nextSibling;return S?S.nextSibling=z:g.firstChild=z,z?z.previousSibling=S:g.lastChild=S,f.parentNode=null,f.previousSibling=null,f.nextSibling=null,Fe(g.ownerDocument,g),f}function We(g){return g&&(g.nodeType===K.DOCUMENT_NODE||g.nodeType===K.DOCUMENT_FRAGMENT_NODE||g.nodeType===K.ELEMENT_NODE)}function $e(g){return g&&(Le(g)||Re(g)||De(g)||g.nodeType===K.DOCUMENT_FRAGMENT_NODE||g.nodeType===K.COMMENT_NODE||g.nodeType===K.PROCESSING_INSTRUCTION_NODE)}function De(g){return g&&g.nodeType===K.DOCUMENT_TYPE_NODE}function Le(g){return g&&g.nodeType===K.ELEMENT_NODE}function Re(g){return g&&g.nodeType===K.TEXT_NODE}function Be(g,f){var S=g.childNodes||[];if(e(S,Le)||De(f))return!1;var z=e(S,De);return!(f&&z&&S.indexOf(z)>S.indexOf(f))}function Ge(g,f){var S=g.childNodes||[];function z(M){return Le(M)&&M!==f}if(e(S,z))return!1;var h=e(S,De);return!(f&&h&&S.indexOf(h)>S.indexOf(f))}function je(g,f,S){if(!We(g))throw new q(R,"Unexpected parent node type "+g.nodeType);if(S&&S.parentNode!==g)throw new q(L,"child not in parent");if(!$e(f)||De(f)&&g.nodeType!==K.DOCUMENT_NODE)throw new q(R,"Unexpected node type "+f.nodeType+" for parent node type "+g.nodeType)}function Pe(g,f,S){var z=g.childNodes||[],h=f.childNodes||[];if(f.nodeType===K.DOCUMENT_FRAGMENT_NODE){var M=h.filter(Le);if(M.length>1||e(h,Re))throw new q(R,"More than one element or text in fragment");if(M.length===1&&!Be(g,S))throw new q(R,"Element in fragment can not be inserted before doctype")}if(Le(f)&&!Be(g,S))throw new q(R,"Only one element can be added and only after doctype");if(De(f)){if(e(z,De))throw new q(R,"Only one doctype is allowed");var V=e(z,Le);if(S&&z.indexOf(V)<z.indexOf(S))throw new q(R,"Doctype can only be inserted before an element");if(!S&&V)throw new q(R,"Doctype can not be appended since element is present")}}function Xe(g,f,S){var z=g.childNodes||[],h=f.childNodes||[];if(f.nodeType===K.DOCUMENT_FRAGMENT_NODE){var M=h.filter(Le);if(M.length>1||e(h,Re))throw new q(R,"More than one element or text in fragment");if(M.length===1&&!Ge(g,S))throw new q(R,"Element in fragment can not be inserted before doctype")}if(Le(f)&&!Ge(g,S))throw new q(R,"Only one element can be added and only after doctype");if(De(f)){if(e(z,function(P){return De(P)&&P!==S}))throw new q(R,"Only one doctype is allowed");var V=e(z,Le);if(S&&z.indexOf(V)<z.indexOf(S))throw new q(R,"Doctype can only be inserted before an element")}}function st(g,f,S,z){je(g,f,S),g.nodeType===K.DOCUMENT_NODE&&(z||Pe)(g,f,S);var h=f.parentNode;if(h&&h.removeChild(f),f.nodeType===E){var M=f.firstChild;if(M==null)return f;var V=f.lastChild}else M=V=f;var x=S?S.previousSibling:g.lastChild;M.previousSibling=x,V.nextSibling=S,x?x.nextSibling=M:g.firstChild=M,S==null?g.lastChild=V:S.previousSibling=V;do M.parentNode=g;while(M!==V&&(M=M.nextSibling));return Fe(g.ownerDocument||g,g),f.nodeType==E&&(f.firstChild=f.lastChild=null),f}function rt(g,f){return f.parentNode&&f.parentNode.removeChild(f),f.parentNode=g,f.previousSibling=g.lastChild,f.nextSibling=null,f.previousSibling?f.previousSibling.nextSibling=f:g.firstChild=f,g.lastChild=f,Fe(g.ownerDocument,g,f),f}ve.prototype={nodeName:"#document",nodeType:A,doctype:null,documentElement:null,_inc:1,insertBefore:function(g,f){if(g.nodeType==E){for(var S=g.firstChild;S;){var z=S.nextSibling;this.insertBefore(S,f),S=z}return g}return st(this,g,f),g.ownerDocument=this,this.documentElement===null&&g.nodeType===d&&(this.documentElement=g),g},removeChild:function(g){return this.documentElement==g&&(this.documentElement=null),we(this,g)},replaceChild:function(g,f){st(this,g,f,Xe),g.ownerDocument=this,f&&this.removeChild(f),Le(g)&&(this.documentElement=g)},importNode:function(g,f){return se(this,g,f)},getElementById:function(g){var f=null;return Ee(this.documentElement,function(S){if(S.nodeType==d&&S.getAttribute("id")==g)return f=S,!0}),f},getElementsByClassName:function(g){var f=a(g);return new ee(this,function(S){var z=[];return f.length>0&&Ee(S.documentElement,function(h){if(h!==S&&h.nodeType===d){var M=h.getAttribute("class");if(M){var V=g===M;if(!V){var x=a(M);V=f.every(o(x))}V&&z.push(h)}}}),z})},createElement:function(g){var f=new _e;f.ownerDocument=this,f.nodeName=g,f.tagName=g,f.localName=g,f.childNodes=new G;var S=f.attributes=new fe;return S._ownerElement=f,f},createDocumentFragment:function(){var g=new wt;return g.ownerDocument=this,g.childNodes=new G,g},createTextNode:function(g){var f=new lt;return f.ownerDocument=this,f.appendData(g),f},createComment:function(g){var f=new At;return f.ownerDocument=this,f.appendData(g),f},createCDATASection:function(g){var f=new mt;return f.ownerDocument=this,f.appendData(g),f},createProcessingInstruction:function(g,f){var S=new vt;return S.ownerDocument=this,S.tagName=S.nodeName=S.target=g,S.nodeValue=S.data=f,S},createAttribute:function(g){var f=new Ce;return f.ownerDocument=this,f.name=g,f.nodeName=g,f.localName=g,f.specified=!0,f},createEntityReference:function(g){var f=new ct;return f.ownerDocument=this,f.nodeName=g,f},createElementNS:function(g,f){var S=new _e,z=f.split(":"),h=S.attributes=new fe;return S.childNodes=new G,S.ownerDocument=this,S.nodeName=f,S.tagName=f,S.namespaceURI=g,z.length==2?(S.prefix=z[0],S.localName=z[1]):S.localName=f,h._ownerElement=S,S},createAttributeNS:function(g,f){var S=new Ce,z=f.split(":");return S.ownerDocument=this,S.nodeName=f,S.name=f,S.namespaceURI=g,S.specified=!0,z.length==2?(S.prefix=z[0],S.localName=z[1]):S.localName=f,S}},l(ve,K);function _e(){this._nsMap={}}_e.prototype={nodeType:d,hasAttribute:function(g){return this.getAttributeNode(g)!=null},getAttribute:function(g){var f=this.getAttributeNode(g);return f&&f.value||""},getAttributeNode:function(g){return this.attributes.getNamedItem(g)},setAttribute:function(g,f){var S=this.ownerDocument.createAttribute(g);S.value=S.nodeValue=""+f,this.setAttributeNode(S)},removeAttribute:function(g){var f=this.getAttributeNode(g);f&&this.removeAttributeNode(f)},appendChild:function(g){return g.nodeType===E?this.insertBefore(g,null):rt(this,g)},setAttributeNode:function(g){return this.attributes.setNamedItem(g)},setAttributeNodeNS:function(g){return this.attributes.setNamedItemNS(g)},removeAttributeNode:function(g){return this.attributes.removeNamedItem(g.nodeName)},removeAttributeNS:function(g,f){var S=this.getAttributeNodeNS(g,f);S&&this.removeAttributeNode(S)},hasAttributeNS:function(g,f){return this.getAttributeNodeNS(g,f)!=null},getAttributeNS:function(g,f){var S=this.getAttributeNodeNS(g,f);return S&&S.value||""},setAttributeNS:function(g,f,S){var z=this.ownerDocument.createAttributeNS(g,f);z.value=z.nodeValue=""+S,this.setAttributeNode(z)},getAttributeNodeNS:function(g,f){return this.attributes.getNamedItemNS(g,f)},getElementsByTagName:function(g){return new ee(this,function(f){var S=[];return Ee(f,function(z){z!==f&&z.nodeType==d&&(g==="*"||z.tagName==g)&&S.push(z)}),S})},getElementsByTagNameNS:function(g,f){return new ee(this,function(S){var z=[];return Ee(S,function(h){h!==S&&h.nodeType===d&&(g==="*"||h.namespaceURI===g)&&(f==="*"||h.localName==f)&&z.push(h)}),z})}},ve.prototype.getElementsByTagName=_e.prototype.getElementsByTagName,ve.prototype.getElementsByTagNameNS=_e.prototype.getElementsByTagNameNS,l(_e,K);function Ce(){}Ce.prototype.nodeType=v,l(Ce,K);function xe(){}xe.prototype={data:"",substringData:function(g,f){return this.data.substring(g,g+f)},appendData:function(g){g=this.data+g,this.nodeValue=this.data=g,this.length=g.length},insertData:function(g,f){this.replaceData(g,0,f)},appendChild:function(g){throw new Error(I[R])},deleteData:function(g,f){this.replaceData(g,f,"")},replaceData:function(g,f,S){var z=this.data.substring(0,g),h=this.data.substring(g+f);S=z+S+h,this.nodeValue=this.data=S,this.length=S.length}},l(xe,K);function lt(){}lt.prototype={nodeName:"#text",nodeType:b,splitText:function(g){var f=this.data,S=f.substring(g);f=f.substring(0,g),this.data=this.nodeValue=f,this.length=f.length;var z=this.ownerDocument.createTextNode(S);return this.parentNode&&this.parentNode.insertBefore(z,this.nextSibling),z}},l(lt,xe);function At(){}At.prototype={nodeName:"#comment",nodeType:y},l(At,xe);function mt(){}mt.prototype={nodeName:"#cdata-section",nodeType:_},l(mt,xe);function at(){}at.prototype.nodeType=N,l(at,K);function Ct(){}Ct.prototype.nodeType=T,l(Ct,K);function bt(){}bt.prototype.nodeType=p,l(bt,K);function ct(){}ct.prototype.nodeType=w,l(ct,K);function wt(){}wt.prototype.nodeName="#document-fragment",wt.prototype.nodeType=E,l(wt,K);function vt(){}vt.prototype.nodeType=m,l(vt,K);function Je(){}Je.prototype.serializeToString=function(g,f,S){return ht.call(g,f,S)},K.prototype.toString=ht;function ht(g,f){var S=[],z=this.nodeType==9&&this.documentElement||this,h=z.prefix,M=z.namespaceURI;if(M&&h==null){var h=z.lookupPrefix(M);if(h==null)var V=[{namespace:M,prefix:null}]}return Q(this,S,g,f,V),S.join("")}function Rt(g,f,S){var z=g.prefix||"",h=g.namespaceURI;if(!h||z==="xml"&&h===t.XML||h===t.XMLNS)return!1;for(var M=S.length;M--;){var V=S[M];if(V.prefix===z)return V.namespace!==h}return!0}function D(g,f,S){g.push(" ",f,'="',S.replace(/[<&"]/g,ne),'"')}function Q(g,f,S,z,h){if(h||(h=[]),z)if(g=z(g),g){if(typeof g=="string"){f.push(g);return}}else return;switch(g.nodeType){case d:var M=g.attributes,V=M.length,Ne=g.firstChild,x=g.tagName;S=t.isHTML(g.namespaceURI)||S;var P=x;if(!S&&!g.prefix&&g.namespaceURI){for(var $,me=0;me<M.length;me++)if(M.item(me).name==="xmlns"){$=M.item(me).value;break}if(!$)for(var he=h.length-1;he>=0;he--){var de=h[he];if(de.prefix===""&&de.namespace===g.namespaceURI){$=de.namespace;break}}if($!==g.namespaceURI)for(var he=h.length-1;he>=0;he--){var de=h[he];if(de.namespace===g.namespaceURI){de.prefix&&(P=de.prefix+":"+x);break}}}f.push("<",P);for(var Se=0;Se<V;Se++){var Qe=M.item(Se);Qe.prefix=="xmlns"?h.push({prefix:Qe.localName,namespace:Qe.value}):Qe.nodeName=="xmlns"&&h.push({prefix:"",namespace:Qe.value})}for(var Se=0;Se<V;Se++){var Qe=M.item(Se);if(Rt(Qe,S,h)){var qe=Qe.prefix||"",Oe=Qe.namespaceURI;D(f,qe?"xmlns:"+qe:"xmlns",Oe),h.push({prefix:qe,namespace:Oe})}Q(Qe,f,S,z,h)}if(x===P&&Rt(g,S,h)){var qe=g.prefix||"",Oe=g.namespaceURI;D(f,qe?"xmlns:"+qe:"xmlns",Oe),h.push({prefix:qe,namespace:Oe})}if(Ne||S&&!/^(?:meta|link|img|br|hr|input)$/i.test(x)){if(f.push(">"),S&&/^script$/i.test(x))for(;Ne;)Ne.data?f.push(Ne.data):Q(Ne,f,S,z,h.slice()),Ne=Ne.nextSibling;else for(;Ne;)Q(Ne,f,S,z,h.slice()),Ne=Ne.nextSibling;f.push("</",P,">")}else f.push("/>");return;case A:case E:for(var Ne=g.firstChild;Ne;)Q(Ne,f,S,z,h.slice()),Ne=Ne.nextSibling;return;case v:return D(f,g.name,g.value);case b:return f.push(g.data.replace(/[<&]/g,ne).replace(/]]>/g,"]]&gt;"));case _:return f.push("<![CDATA[",g.data,"]]>");case y:return f.push("<!--",g.data,"-->");case N:var it=g.publicId,Ke=g.systemId;if(f.push("<!DOCTYPE ",g.name),it)f.push(" PUBLIC ",it),Ke&&Ke!="."&&f.push(" ",Ke),f.push(">");else if(Ke&&Ke!=".")f.push(" SYSTEM ",Ke,">");else{var Ht=g.internalSubset;Ht&&f.push(" [",Ht,"]"),f.push(">")}return;case m:return f.push("<?",g.target," ",g.data,"?>");case w:return f.push("&",g.nodeName,";");default:f.push("??",g.nodeName)}}function se(g,f,S){var z;switch(f.nodeType){case d:z=f.cloneNode(!1),z.ownerDocument=g;case E:break;case v:S=!0;break}if(z||(z=f.cloneNode(!1)),z.ownerDocument=g,z.parentNode=null,S)for(var h=f.firstChild;h;)z.appendChild(se(g,h,S)),h=h.nextSibling;return z}function ge(g,f,S){var z=new f.constructor;for(var h in f)if(Object.prototype.hasOwnProperty.call(f,h)){var M=f[h];typeof M!="object"&&M!=z[h]&&(z[h]=M)}switch(f.childNodes&&(z.childNodes=new G),z.ownerDocument=g,z.nodeType){case d:var V=f.attributes,x=z.attributes=new fe,P=V.length;x._ownerElement=z;for(var $=0;$<P;$++)z.setAttributeNode(ge(g,V.item($),!0));break;case v:S=!0}if(S)for(var me=f.firstChild;me;)z.appendChild(ge(g,me,S)),me=me.nextSibling;return z}function B(g,f,S){g[f]=S}try{if(Object.defineProperty){let g=function(f){switch(f.nodeType){case d:case E:var S=[];for(f=f.firstChild;f;)f.nodeType!==7&&f.nodeType!==8&&S.push(g(f)),f=f.nextSibling;return S.join("");default:return f.nodeValue}};Object.defineProperty(ee.prototype,"length",{get:function(){return re(this),this.$$length}}),Object.defineProperty(K.prototype,"textContent",{get:function(){return g(this)},set:function(f){switch(this.nodeType){case d:case E:for(;this.firstChild;)this.removeChild(this.firstChild);(f||String(f))&&this.appendChild(this.ownerDocument.createTextNode(f));break;default:this.data=f,this.value=f,this.nodeValue=f}}}),B=function(f,S,z){f["$$"+S]=z}}}catch{}return Vt.DocumentType=at,Vt.DOMException=q,Vt.DOMImplementation=oe,Vt.Element=_e,Vt.Node=K,Vt.NodeList=G,Vt.XMLSerializer=Je,Vt}var mr={},On={},Ro;function Rp(){return Ro||(Ro=1,function(s){var e=qi().freeze;s.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),s.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),s.entityMap=s.HTML_ENTITIES}(On)),On}var si={},No;function Np(){if(No)return si;No=1;var s=qi().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),i=0,n=1,a=2,o=3,u=4,l=5,c=6,d=7;function v(R,L){this.message=R,this.locator=L,Error.captureStackTrace&&Error.captureStackTrace(this,v)}v.prototype=new Error,v.prototype.name=v.name;function b(){}b.prototype={parse:function(R,L,Y){var q=this.domBuilder;q.startDocument(),N(L,L={}),_(R,L,Y,q,this.errorHandler),q.endDocument()}};function _(R,L,Y,q,G){function ee(_e){if(_e>65535){_e-=65536;var Ce=55296+(_e>>10),xe=56320+(_e&1023);return String.fromCharCode(Ce,xe)}else return String.fromCharCode(_e)}function re(_e){var Ce=_e.slice(1,-1);return Ce in Y?Y[Ce]:Ce.charAt(0)==="#"?ee(parseInt(Ce.substr(1).replace("x","0x"))):(G.error("entity not found:"+_e),_e)}function fe(_e){if(_e>ve){var Ce=R.substring(ve,_e).replace(/&#?\w+;/g,re);K&&te(ve),q.characters(Ce,0,_e-ve),ve=_e}}function te(_e,Ce){for(;_e>=X&&(Ce=oe.exec(R));)W=Ce.index,X=W+Ce[0].length,K.lineNumber++;K.columnNumber=_e-W+1}for(var W=0,X=0,oe=/.*(?:\r\n?|\n)|.*$/g,K=q.locator,ne=[{currentNSMap:L}],Ee={},ve=0;;){try{var ke=R.indexOf("<",ve);if(ke<0){if(!R.substr(ve).match(/^\s*$/)){var Ue=q.doc,Fe=Ue.createTextNode(R.substr(ve));Ue.appendChild(Fe),q.currentElement=Fe}return}switch(ke>ve&&fe(ke),R.charAt(ke+1)){case"/":var je=R.indexOf(">",ke+3),we=R.substring(ke+2,je).replace(/[ \t\n\r]+$/g,""),We=ne.pop();je<0?(we=R.substring(ke+2).replace(/[\s<].*/,""),G.error("end tag name: "+we+" is not complete:"+We.tagName),je=ke+1+we.length):we.match(/\s</)&&(we=we.replace(/[\s<].*/,""),G.error("end tag name: "+we+" maybe not complete"),je=ke+1+we.length);var $e=We.localNSMap,De=We.tagName==we,Le=De||We.tagName&&We.tagName.toLowerCase()==we.toLowerCase();if(Le){if(q.endElement(We.uri,We.localName,we),$e)for(var Re in $e)Object.prototype.hasOwnProperty.call($e,Re)&&q.endPrefixMapping(Re);De||G.fatalError("end tag name: "+we+" is not match the current start tagName:"+We.tagName)}else ne.push(We);je++;break;case"?":K&&te(ke),je=T(R,ke,q);break;case"!":K&&te(ke),je=E(R,ke,q,G);break;default:K&&te(ke);var Be=new O,Ge=ne[ne.length-1].currentNSMap,je=p(R,ke,Be,Ge,re,G),Pe=Be.length;if(!Be.closed&&A(R,je,Be.tagName,Ee)&&(Be.closed=!0,Y.nbsp||G.warning("unclosed xml attribute")),K&&Pe){for(var Xe=w(K,{}),st=0;st<Pe;st++){var rt=Be[st];te(rt.offset),rt.locator=w(K,{})}q.locator=Xe,m(Be,q,Ge)&&ne.push(Be),q.locator=K}else m(Be,q,Ge)&&ne.push(Be);s.isHTML(Be.uri)&&!Be.closed?je=y(R,je,Be.tagName,re,q):je++}}catch(_e){if(_e instanceof v)throw _e;G.error("element parse error: "+_e),je=-1}je>ve?ve=je:fe(Math.max(ke,ve)+1)}}function w(R,L){return L.lineNumber=R.lineNumber,L.columnNumber=R.columnNumber,L}function p(R,L,Y,q,G,ee){function re(K,ne,Ee){Y.attributeNames.hasOwnProperty(K)&&ee.fatalError("Attribute "+K+" redefined"),Y.addValue(K,ne,Ee)}for(var fe,te,W=++L,X=i;;){var oe=R.charAt(W);switch(oe){case"=":if(X===n)fe=R.slice(L,W),X=o;else if(X===a)X=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(X===o||X===n)if(X===n&&(ee.warning('attribute value must after "="'),fe=R.slice(L,W)),L=W+1,W=R.indexOf(oe,L),W>0)te=R.slice(L,W).replace(/&#?\w+;/g,G),re(fe,te,L-1),X=l;else throw new Error("attribute value no end '"+oe+"' match");else if(X==u)te=R.slice(L,W).replace(/&#?\w+;/g,G),re(fe,te,L),ee.warning('attribute "'+fe+'" missed start quot('+oe+")!!"),L=W+1,X=l;else throw new Error('attribute value must after "="');break;case"/":switch(X){case i:Y.setTagName(R.slice(L,W));case l:case c:case d:X=d,Y.closed=!0;case u:case n:break;case a:Y.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return ee.error("unexpected end of input"),X==i&&Y.setTagName(R.slice(L,W)),W;case">":switch(X){case i:Y.setTagName(R.slice(L,W));case l:case c:case d:break;case u:case n:te=R.slice(L,W),te.slice(-1)==="/"&&(Y.closed=!0,te=te.slice(0,-1));case a:X===a&&(te=fe),X==u?(ee.warning('attribute "'+te+'" missed quot(")!'),re(fe,te.replace(/&#?\w+;/g,G),L)):((!s.isHTML(q[""])||!te.match(/^(?:disabled|checked|selected)$/i))&&ee.warning('attribute "'+te+'" missed value!! "'+te+'" instead!!'),re(te,te,L));break;case o:throw new Error("attribute value missed!!")}return W;case"":oe=" ";default:if(oe<=" ")switch(X){case i:Y.setTagName(R.slice(L,W)),X=c;break;case n:fe=R.slice(L,W),X=a;break;case u:var te=R.slice(L,W).replace(/&#?\w+;/g,G);ee.warning('attribute "'+te+'" missed quot(")!!'),re(fe,te,L);case l:X=c;break}else switch(X){case a:Y.tagName,(!s.isHTML(q[""])||!fe.match(/^(?:disabled|checked|selected)$/i))&&ee.warning('attribute "'+fe+'" missed value!! "'+fe+'" instead2!!'),re(fe,fe,L),L=W,X=n;break;case l:ee.warning('attribute space is required"'+fe+'"!!');case c:X=n,L=W;break;case o:X=u,L=W;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}W++}}function m(R,L,Y){for(var q=R.tagName,G=null,oe=R.length;oe--;){var ee=R[oe],re=ee.qName,fe=ee.value,K=re.indexOf(":");if(K>0)var te=ee.prefix=re.slice(0,K),W=re.slice(K+1),X=te==="xmlns"&&W;else W=re,te=null,X=re==="xmlns"&&"";ee.localName=W,X!==!1&&(G==null&&(G={},N(Y,Y={})),Y[X]=G[X]=fe,ee.uri=s.XMLNS,L.startPrefixMapping(X,fe))}for(var oe=R.length;oe--;){ee=R[oe];var te=ee.prefix;te&&(te==="xml"&&(ee.uri=s.XML),te!=="xmlns"&&(ee.uri=Y[te||""]))}var K=q.indexOf(":");K>0?(te=R.prefix=q.slice(0,K),W=R.localName=q.slice(K+1)):(te=null,W=R.localName=q);var ne=R.uri=Y[te||""];if(L.startElement(ne,W,q,R),R.closed){if(L.endElement(ne,W,q),G)for(te in G)Object.prototype.hasOwnProperty.call(G,te)&&L.endPrefixMapping(te)}else return R.currentNSMap=Y,R.localNSMap=G,!0}function y(R,L,Y,q,G){if(/^(?:script|textarea)$/i.test(Y)){var ee=R.indexOf("</"+Y+">",L),re=R.substring(L+1,ee);if(/[&<]/.test(re))return/^script$/i.test(Y)?(G.characters(re,0,re.length),ee):(re=re.replace(/&#?\w+;/g,q),G.characters(re,0,re.length),ee)}return L+1}function A(R,L,Y,q){var G=q[Y];return G==null&&(G=R.lastIndexOf("</"+Y+">"),G<L&&(G=R.lastIndexOf("</"+Y)),q[Y]=G),G<L}function N(R,L){for(var Y in R)Object.prototype.hasOwnProperty.call(R,Y)&&(L[Y]=R[Y])}function E(R,L,Y,q){var G=R.charAt(L+2);switch(G){case"-":if(R.charAt(L+3)==="-"){var ee=R.indexOf("-->",L+4);return ee>L?(Y.comment(R,L+4,ee-L-4),ee+3):(q.error("Unclosed comment"),-1)}else return-1;default:if(R.substr(L+3,6)=="CDATA["){var ee=R.indexOf("]]>",L+9);return Y.startCDATA(),Y.characters(R,L+9,ee-L-9),Y.endCDATA(),ee+3}var re=I(R,L),fe=re.length;if(fe>1&&/!doctype/i.test(re[0][0])){var te=re[1][0],W=!1,X=!1;fe>3&&(/^public$/i.test(re[2][0])?(W=re[3][0],X=fe>4&&re[4][0]):/^system$/i.test(re[2][0])&&(X=re[3][0]));var oe=re[fe-1];return Y.startDTD(te,W,X),Y.endDTD(),oe.index+oe[0].length}}return-1}function T(R,L,Y){var q=R.indexOf("?>",L);if(q){var G=R.substring(L,q).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return G?(G[0].length,Y.processingInstruction(G[1],G[2]),q+2):-1}return-1}function O(){this.attributeNames={}}O.prototype={setTagName:function(R){if(!r.test(R))throw new Error("invalid tagName:"+R);this.tagName=R},addValue:function(R,L,Y){if(!r.test(R))throw new Error("invalid attribute:"+R);this.attributeNames[R]=this.length,this[this.length++]={qName:R,value:L,offset:Y}},length:0,getLocalName:function(R){return this[R].localName},getLocator:function(R){return this[R].locator},getQName:function(R){return this[R].qName},getURI:function(R){return this[R].uri},getValue:function(R){return this[R].value}};function I(R,L){var Y,q=[],G=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(G.lastIndex=L,G.exec(R);Y=G.exec(R);)if(q.push(Y),Y[1])return q}return si.XMLReader=b,si.ParseError=v,si}var Io;function Ip(){if(Io)return mr;Io=1;var s=qi(),e=ml(),t=Rp(),r=Np(),i=e.DOMImplementation,n=s.NAMESPACE,a=r.ParseError,o=r.XMLReader;function u(w){this.options=w||{locator:{}}}u.prototype.parseFromString=function(w,p){var m=this.options,y=new o,A=m.domBuilder||new c,N=m.errorHandler,E=m.locator,T=m.xmlns||{},O=/\/x?html?$/.test(p),I=O?t.HTML_ENTITIES:t.XML_ENTITIES;return E&&A.setDocumentLocator(E),y.errorHandler=l(N,A,E),y.domBuilder=m.domBuilder||A,O&&(T[""]=n.HTML),T.xml=T.xml||n.XML,w&&typeof w=="string"?y.parse(w,T,I):y.errorHandler.error("invalid doc source"),A.doc};function l(w,p,m){if(!w){if(p instanceof c)return p;w=p}var y={},A=w instanceof Function;m=m||{};function N(E){var T=w[E];!T&&A&&(T=w.length==2?function(O){w(E,O)}:w),y[E]=T&&function(O){T("[xmldom "+E+"]	"+O+v(m))}||function(){}}return N("warning"),N("error"),N("fatalError"),y}function c(){this.cdata=!1}function d(w,p){p.lineNumber=w.lineNumber,p.columnNumber=w.columnNumber}c.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(w,p,m,y){var A=this.doc,N=A.createElementNS(w,m||p),E=y.length;_(this,N),this.currentElement=N,this.locator&&d(this.locator,N);for(var T=0;T<E;T++){var w=y.getURI(T),O=y.getValue(T),m=y.getQName(T),I=A.createAttributeNS(w,m);this.locator&&d(y.getLocator(T),I),I.value=I.nodeValue=O,N.setAttributeNode(I)}},endElement:function(w,p,m){var y=this.currentElement;y.tagName,this.currentElement=y.parentNode},startPrefixMapping:function(w,p){},endPrefixMapping:function(w){},processingInstruction:function(w,p){var m=this.doc.createProcessingInstruction(w,p);this.locator&&d(this.locator,m),_(this,m)},ignorableWhitespace:function(w,p,m){},characters:function(w,p,m){if(w=b.apply(this,arguments),w){if(this.cdata)var y=this.doc.createCDATASection(w);else var y=this.doc.createTextNode(w);this.currentElement?this.currentElement.appendChild(y):/^\s*$/.test(w)&&this.doc.appendChild(y),this.locator&&d(this.locator,y)}},skippedEntity:function(w){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(w){(this.locator=w)&&(w.lineNumber=0)},comment:function(w,p,m){w=b.apply(this,arguments);var y=this.doc.createComment(w);this.locator&&d(this.locator,y),_(this,y)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(w,p,m){var y=this.doc.implementation;if(y&&y.createDocumentType){var A=y.createDocumentType(w,p,m);this.locator&&d(this.locator,A),_(this,A),this.doc.doctype=A}},warning:function(w){},error:function(w){},fatalError:function(w){throw new a(w,this.locator)}};function v(w){if(w)return`
@`+(w.systemId||"")+"#[line:"+w.lineNumber+",col:"+w.columnNumber+"]"}function b(w,p,m){return typeof w=="string"?w.substr(p,m):w.length>=p+m||p?new java.lang.String(w,p,m)+"":w}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(w){c.prototype[w]=function(){return null}});function _(w,p){w.currentElement?w.currentElement.appendChild(p):w.doc.appendChild(p)}return mr.__DOMHandler=c,mr.DOMParser=u,mr.DOMImplementation=e.DOMImplementation,mr.XMLSerializer=e.XMLSerializer,mr}var Lo;function Lp(){if(Lo)return Pr;Lo=1;var s=ml();return Pr.DOMImplementation=s.DOMImplementation,Pr.XMLSerializer=s.XMLSerializer,Pr.DOMParser=Ip().DOMParser,Pr}var vl=Lp();const js=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,Pp=1,Fp=3,yl=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function Wi(){var s=new Date().getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=(s+Math.random()*16)%16|0;return s=Math.floor(s/16),(t=="x"?r:r&7|8).toString(16)});return e}function Bp(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function bl(s){return!!(s&&s.nodeType==1)}function tt(s){return!isNaN(parseFloat(s))&&isFinite(s)}function wl(s){let e=parseFloat(s);return tt(s)===!1?!1:typeof s=="string"&&s.indexOf(".")>-1?!0:Math.floor(e)!==e}function br(s){var e=["Webkit","webkit","Moz","O","ms"],t=["-webkit-","-webkit-","-moz-","-o-","-ms-"],r=s.toLowerCase(),i=e.length;if(typeof document>"u"||typeof document.body.style[r]<"u")return s;for(var n=0;n<i;n++)if(typeof document.body.style[t[n]+r]<"u")return t[n]+r;return s}function El(s){for(var e=1,t=arguments.length;e<t;e++){var r=arguments[e];for(var i in r)s[i]===void 0&&(s[i]=r[i])}return s}function dt(s){var e=[].slice.call(arguments,1);return e.forEach(function(t){t&&Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(t,r))})}),s}function zp(s,e,t){var r=Cr(s,e,t);return e.splice(r,0,s),r}function Cr(s,e,t,r,i){var n=r||0,a=i||e.length,o=parseInt(n+(a-n)/2),u;return t||(t=function(l,c){if(l>c)return 1;if(l<c)return-1;if(l==c)return 0}),a-n<=0?o:(u=t(e[o],s),a-n===1?u>=0?o:o+1:u===0?o:u===-1?Cr(s,e,t,o,a):Cr(s,e,t,n,o))}function Ei(s,e,t,r,i){var n=r||0,a=i||e.length,o=parseInt(n+(a-n)/2),u;return t||(t=function(l,c){if(l>c)return 1;if(l<c)return-1;if(l==c)return 0}),a-n<=0?-1:(u=t(e[o],s),a-n===1?u===0?o:-1:u===0?o:u===-1?Ei(s,e,t,o,a):Ei(s,e,t,n,o))}function hi(s){var e=window.getComputedStyle(s),t=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],i=0,n=0;return t.forEach(function(a){i+=parseFloat(e[a])||0}),r.forEach(function(a){n+=parseFloat(e[a])||0}),{height:n,width:i}}function xi(s){var e=window.getComputedStyle(s),t=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],i=0,n=0;return t.forEach(function(a){i+=parseFloat(e[a])||0}),r.forEach(function(a){n+=parseFloat(e[a])||0}),{height:n,width:i}}function Es(s){let e,t=s.ownerDocument;if(s.nodeType==Node.TEXT_NODE){let r=t.createRange();r.selectNodeContents(s),e=r.getBoundingClientRect()}else e=s.getBoundingClientRect();return e}function _i(){var s=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:s,bottom:e,width:s,height:e}}function qs(s,e){for(var t=s.parentNode,r=t.childNodes,i,n=-1,a=0;a<r.length&&(i=r[a],i.nodeType===e&&n++,i!=s);a++);return n}function Mp(s){return qs(s,Fp)}function xl(s){return qs(s,Pp)}function Gr(s){return["xml","opf","ncx"].indexOf(s)>-1}function _l(s,e){return new Blob([s],{type:e})}function Ai(s,e){var t,r=_l(s,e);return t=yl.createObjectURL(r),t}function Al(s){return yl.revokeObjectURL(s)}function xs(s,e){var t,r;if(typeof s=="string")return t=btoa(s),r="data:"+e+";base64,"+t,r}function Sl(s){return Object.prototype.toString.call(s).slice(8,-1)}function qt(s,e,t){var r,i;return typeof DOMParser>"u"||t?i=vl.DOMParser:i=DOMParser,s.charCodeAt(0)===65279&&(s=s.slice(1)),r=new i().parseFromString(s,e),r}function Ye(s,e){var t;if(!s)throw new Error("No Element Provided");if(typeof s.querySelector<"u")return s.querySelector(e);if(t=s.getElementsByTagName(e),t.length)return t[0]}function Yt(s,e){return typeof s.querySelector<"u"?s.querySelectorAll(e):s.getElementsByTagName(e)}function wr(s,e,t){var r,i;if(typeof s.querySelector<"u"){e+="[";for(var n in t)e+=n+"~='"+t[n]+"'";return e+="]",s.querySelector(e)}else if(r=s.getElementsByTagName(e),i=Array.prototype.slice.call(r,0).filter(function(a){for(var o in t)if(a.getAttribute(o)===t[o])return!0;return!1}),i)return i[0]}function Si(s,e){var t=s.ownerDocument||s;typeof t.createTreeWalker<"u"?Cl(s,e,NodeFilter.SHOW_TEXT):Ws(s,function(r){r&&r.nodeType===3&&e(r)})}function Cl(s,e,t){var r=document.createTreeWalker(s,t,null,!1);let i;for(;i=r.nextNode();)e(i)}function Ws(s,e){if(e(s))return!0;if(s=s.firstChild,s)do{if(Ws(s,e))return!0;s=s.nextSibling}while(s)}function Dl(s){return new Promise(function(e,t){var r=new FileReader;r.readAsDataURL(s),r.onloadend=function(){e(r.result)}})}function ze(){this.resolve=null,this.reject=null,this.id=Wi(),this.promise=new Promise((s,e)=>{this.resolve=s,this.reject=e}),Object.freeze(this)}function Ci(s,e,t){var r;if(typeof s.querySelector<"u"&&(r=s.querySelector(`${e}[*|type="${t}"]`)),!r||r.length===0){r=Yt(s,e);for(var i=0;i<r.length;i++)if(r[i].getAttributeNS("http://www.idpf.org/2007/ops","type")===t||r[i].getAttribute("epub:type")===t)return r[i]}else return r}function _s(s){for(var e=[],t=s.childNodes,r=0;r<t.length;r++){let i=t[r];i.nodeType===1&&e.push(i)}return e}function As(s){for(var e=[s];s;s=s.parentNode)e.unshift(s);return e}function Er(s,e,t){for(var r=[],i=s.childNodes,n=0;n<i.length;n++){let a=i[n];if(a.nodeType===1&&a.nodeName.toLowerCase()===e){if(t)return a;r.push(a)}}if(!t)return r}function Up(s,e){let t;if(!(s===null||e===""))for(t=s.parentNode;t.nodeType===1;){if(t.tagName.toLowerCase()===e)return t;t=t.parentNode}}class Tl{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,t){this.startContainer=e,this.startOffset=t,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,t){this.endContainer=e,this.endOffset=t,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let t=e.parentNode,r=Array.prototype.indexOf.call(t.childNodes,e);this.setStart(t,r),this.setEnd(t,r+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let t=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,t)}_commonAncestorContainer(e,t){var r=As(e||this.startContainer),i=As(t||this.endContainer);if(r[0]==i[0]){for(var n=0;n<r.length;n++)if(r[n]!=i[n])return r[n-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}const jp=Object.freeze(Object.defineProperty({__proto__:null,RangeObject:Tl,blob2base64:Dl,borders:xi,bounds:hi,createBase64Url:xs,createBlob:_l,createBlobUrl:Ai,defaults:El,defer:ze,documentHeight:Bp,extend:dt,filterChildren:Er,findChildren:_s,getParentByTagName:Up,indexOfElementNode:xl,indexOfNode:qs,indexOfSorted:Ei,indexOfTextNode:Mp,insert:zp,isElement:bl,isFloat:wl,isNumber:tt,isXml:Gr,locationOf:Cr,nodeBounds:Es,parents:As,parse:qt,prefixed:br,qs:Ye,qsa:Yt,qsp:wr,querySelectorByType:Ci,requestAnimationFrame:js,revokeBlobUrl:Al,sprint:Si,treeWalker:Cl,type:Sl,uuid:Wi,walk:Ws,windowBounds:_i},Symbol.toStringTag,{value:"Module"}));var Rn,Po;function qp(){if(Po)return Rn;if(Po=1,!s)var s={cwd:function(){return"/"}};function e(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+n)}function t(n,a){for(var o="",u=-1,l=0,c,d=0;d<=n.length;++d){if(d<n.length)c=n.charCodeAt(d);else{if(c===47)break;c=47}if(c===47){if(!(u===d-1||l===1))if(u!==d-1&&l===2){if(o.length<2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){for(var v=o.length-1,b=v;b>=0&&o.charCodeAt(b)!==47;--b);if(b!==v){b===-1?o="":o=o.slice(0,b),u=d,l=0;continue}}else if(o.length===2||o.length===1){o="",u=d,l=0;continue}}a&&(o.length>0?o+="/..":o="..")}else o.length>0?o+="/"+n.slice(u+1,d):o=n.slice(u+1,d);u=d,l=0}else c===46&&l!==-1?++l:l=-1}return o}function r(n,a){var o=a.dir||a.root,u=a.base||(a.name||"")+(a.ext||"");return o?o===a.root?o+u:o+n+u:u}var i={resolve:function(){for(var a="",o=!1,u,l=arguments.length-1;l>=-1&&!o;l--){var c;l>=0?c=arguments[l]:(u===void 0&&(u=s.cwd()),c=u),e(c),c.length!==0&&(a=c+"/"+a,o=c.charCodeAt(0)===47)}return a=t(a,!o),o?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(e(a),a.length===0)return".";var o=a.charCodeAt(0)===47,u=a.charCodeAt(a.length-1)===47;return a=t(a,!o),a.length===0&&!o&&(a="."),a.length>0&&u&&(a+="/"),o?"/"+a:a},isAbsolute:function(a){return e(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,o=0;o<arguments.length;++o){var u=arguments[o];e(u),u.length>0&&(a===void 0?a=u:a+="/"+u)}return a===void 0?".":i.normalize(a)},relative:function(a,o){if(e(a),e(o),a===o||(a=i.resolve(a),o=i.resolve(o),a===o))return"";for(var u=1;u<a.length&&a.charCodeAt(u)===47;++u);for(var l=a.length,c=l-u,d=1;d<o.length&&o.charCodeAt(d)===47;++d);for(var v=o.length,b=v-d,_=c<b?c:b,w=-1,p=0;p<=_;++p){if(p===_){if(b>_){if(o.charCodeAt(d+p)===47)return o.slice(d+p+1);if(p===0)return o.slice(d+p)}else c>_&&(a.charCodeAt(u+p)===47?w=p:p===0&&(w=0));break}var m=a.charCodeAt(u+p),y=o.charCodeAt(d+p);if(m!==y)break;m===47&&(w=p)}var A="";for(p=u+w+1;p<=l;++p)(p===l||a.charCodeAt(p)===47)&&(A.length===0?A+="..":A+="/..");return A.length>0?A+o.slice(d+w):(d+=w,o.charCodeAt(d)===47&&++d,o.slice(d))},_makeLong:function(a){return a},dirname:function(a){if(e(a),a.length===0)return".";for(var o=a.charCodeAt(0),u=o===47,l=-1,c=!0,d=a.length-1;d>=1;--d)if(o=a.charCodeAt(d),o===47){if(!c){l=d;break}}else c=!1;return l===-1?u?"/":".":u&&l===1?"//":a.slice(0,l)},basename:function(a,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(a);var u=0,l=-1,c=!0,d;if(o!==void 0&&o.length>0&&o.length<=a.length){if(o.length===a.length&&o===a)return"";var v=o.length-1,b=-1;for(d=a.length-1;d>=0;--d){var _=a.charCodeAt(d);if(_===47){if(!c){u=d+1;break}}else b===-1&&(c=!1,b=d+1),v>=0&&(_===o.charCodeAt(v)?--v===-1&&(l=d):(v=-1,l=b))}return u===l?l=b:l===-1&&(l=a.length),a.slice(u,l)}else{for(d=a.length-1;d>=0;--d)if(a.charCodeAt(d)===47){if(!c){u=d+1;break}}else l===-1&&(c=!1,l=d+1);return l===-1?"":a.slice(u,l)}},extname:function(a){e(a);for(var o=-1,u=0,l=-1,c=!0,d=0,v=a.length-1;v>=0;--v){var b=a.charCodeAt(v);if(b===47){if(!c){u=v+1;break}continue}l===-1&&(c=!1,l=v+1),b===46?o===-1?o=v:d!==1&&(d=1):o!==-1&&(d=-1)}return o===-1||l===-1||d===0||d===1&&o===l-1&&o===u+1?"":a.slice(o,l)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof a);return r("/",a)},parse:function(a){e(a);var o={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return o;var u=a.charCodeAt(0),l=u===47,c;l?(o.root="/",c=1):c=0;for(var d=-1,v=0,b=-1,_=!0,w=a.length-1,p=0;w>=c;--w){if(u=a.charCodeAt(w),u===47){if(!_){v=w+1;break}continue}b===-1&&(_=!1,b=w+1),u===46?d===-1?d=w:p!==1&&(p=1):d!==-1&&(p=-1)}return d===-1||b===-1||p===0||p===1&&d===b-1&&d===v+1?b!==-1&&(v===0&&l?o.base=o.name=a.slice(1,b):o.base=o.name=a.slice(v,b)):(v===0&&l?(o.name=a.slice(1,d),o.base=a.slice(1,b)):(o.name=a.slice(v,d),o.base=a.slice(v,b)),o.ext=a.slice(d,b)),v>0?o.dir=a.slice(0,v-1):l&&(o.dir="/"),o},sep:"/",delimiter:":",posix:null};return Rn=i,Rn}var Wp=qp();const Jt=lr(Wp);class Zt{constructor(e){var t,r;t=e.indexOf("://"),t>-1&&(e=new URL(e).pathname),r=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=r.dir+"/",this.filename=r.base,this.extension=r.ext.slice(1)}parse(e){return Jt.parse(e)}isAbsolute(e){return Jt.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)==="/"}resolve(e){return Jt.resolve(this.directory,e)}relative(e){var t=e&&e.indexOf("://")>-1;return t?e:Jt.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}}class Pt{constructor(e,t){var r=e.indexOf("://")>-1,i=e,n;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=t,!r&&t!==!1&&typeof t!="string"&&window&&window.location&&(this.base=window.location.href),r||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,i=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(n=new Zt(this.base),i=n.resolve(i))}this.Path=new Zt(i),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var t=e.indexOf("://")>-1,r;return t?e:(r=Jt.resolve(this.directory,e),this.origin+r)}relative(e){return Jt.relative(e,this.directory)}toString(){return this.href}}const vr=1,kt=3,Hp=9;class Me{constructor(e,t,r){var i;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof Me))return new Me(e,t,r);if(typeof t=="string"?this.base=this.parseComponent(t):typeof t=="object"&&t.steps&&(this.base=t),i=this.checkType(e),i==="string")return this.str=e,dt(this,this.parse(e));if(i==="range")return dt(this,this.fromRange(e,this.base,r));if(i==="node")return dt(this,this.fromNode(e,this.base,r));if(i==="EpubCFI"&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":e&&typeof e=="object"&&(Sl(e)==="Range"||typeof e.startContainer<"u")?"range":e&&typeof e=="object"&&typeof e.nodeType<"u"?"node":e&&typeof e=="object"&&e instanceof Me?"EpubCFI":!1}parse(e){var t={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},r,i,n;return typeof e!="string"?{spinePos:-1}:(e.indexOf("epubcfi(")===0&&e[e.length-1]===")"&&(e=e.slice(8,e.length-1)),r=this.getChapterComponent(e),r?(t.base=this.parseComponent(r),i=this.getPathComponent(e),t.path=this.parseComponent(i),n=this.getRange(e),n&&(t.range=!0,t.start=this.parseComponent(n[0]),t.end=this.parseComponent(n[1])),t.spinePos=t.base.steps[1].index,t):{spinePos:-1})}parseComponent(e){var t={steps:[],terminal:{offset:null,assertion:null}},r=e.split(":"),i=r[0].split("/"),n;return r.length>1&&(n=r[1],t.terminal=this.parseTerminal(n)),i[0]===""&&i.shift(),t.steps=i.map(function(a){return this.parseStep(a)}.bind(this)),t}parseStep(e){var t,r,i,n,a;if(n=e.match(/\[(.*)\]/),n&&n[1]&&(a=n[1]),r=parseInt(e),!isNaN(r))return r%2===0?(t="element",i=r/2-1):(t="text",i=(r-1)/2),{type:t,index:i,id:a||null}}parseTerminal(e){var t,r,i=e.match(/\[(.*)\]/);return i&&i[1]?(t=parseInt(e.split("[")[0]),r=i[1]):t=parseInt(e),tt(t)||(t=null),{offset:t,assertion:r}}getChapterComponent(e){var t=e.split("!");return t[0]}getPathComponent(e){var t=e.split("!");if(t[1])return t[1].split(",")[0]}getRange(e){var t=e.split(",");return t.length===3?[t[1],t[2]]:!1}getCharecterOffsetComponent(e){var t=e.split(":");return t[1]||""}joinSteps(e){return e?e.map(function(t){var r="";return t.type==="element"&&(r+=(t.index+1)*2),t.type==="text"&&(r+=1+2*t.index),t.id&&(r+="["+t.id+"]"),r}).join("/"):""}segmentString(e){var t="/";return t+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(t+=":"+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(t+="["+e.terminal.assertion+"]"),t}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")",e}compare(e,t){var r,i,n,a;if(typeof e=="string"&&(e=new Me(e)),typeof t=="string"&&(t=new Me(t)),e.spinePos>t.spinePos)return 1;if(e.spinePos<t.spinePos)return-1;e.range?(r=e.path.steps.concat(e.start.steps),n=e.start.terminal):(r=e.path.steps,n=e.path.terminal),t.range?(i=t.path.steps.concat(t.start.steps),a=t.start.terminal):(i=t.path.steps,a=t.path.terminal);for(var o=0;o<r.length;o++){if(!r[o])return-1;if(!i[o]||r[o].index>i[o].index)return 1;if(r[o].index<i[o].index)return-1}return r.length<i.length?-1:n.offset>a.offset?1:n.offset<a.offset?-1:0}step(e){var t=e.nodeType===kt?"text":"element";return{id:e.id,tagName:e.tagName,type:t,index:this.position(e)}}filteredStep(e,t){var r=this.filter(e,t),i;if(r)return i=r.nodeType===kt?"text":"element",{id:r.id,tagName:r.tagName,type:i,index:this.filteredPosition(r,t)}}pathTo(e,t,r){for(var i={steps:[],terminal:{offset:null,assertion:null}},n=e,a;n&&n.parentNode&&n.parentNode.nodeType!=Hp;)r?a=this.filteredStep(n,r):a=this.step(n),a&&i.steps.unshift(a),n=n.parentNode;return t!=null&&t>=0&&(i.terminal.offset=t,i.steps[i.steps.length-1].type!="text"&&i.steps.push({type:"text",index:0})),i}equalStep(e,t){return!e||!t?!1:e.index===t.index&&e.id===t.id&&e.type===t.type}fromRange(e,t,r){var i={range:!1,base:{},path:{},start:null,end:null},n=e.startContainer,a=e.endContainer,o=e.startOffset,u=e.endOffset,l=!1;if(r&&(l=n.ownerDocument.querySelector("."+r)!=null),typeof t=="string"?(i.base=this.parseComponent(t),i.spinePos=i.base.steps[1].index):typeof t=="object"&&(i.base=t),e.collapsed)l&&(o=this.patchOffset(n,o,r)),i.path=this.pathTo(n,o,r);else{i.range=!0,l&&(o=this.patchOffset(n,o,r)),i.start=this.pathTo(n,o,r),l&&(u=this.patchOffset(a,u,r)),i.end=this.pathTo(a,u,r),i.path={steps:[],terminal:null};var c=i.start.steps.length,d;for(d=0;d<c&&this.equalStep(i.start.steps[d],i.end.steps[d]);d++)d===c-1?i.start.terminal===i.end.terminal&&(i.path.steps.push(i.start.steps[d]),i.range=!1):i.path.steps.push(i.start.steps[d]);i.start.steps=i.start.steps.slice(i.path.steps.length),i.end.steps=i.end.steps.slice(i.path.steps.length)}return i}fromNode(e,t,r){var i={range:!1,base:{},path:{},start:null,end:null};return typeof t=="string"?(i.base=this.parseComponent(t),i.spinePos=i.base.steps[1].index):typeof t=="object"&&(i.base=t),i.path=this.pathTo(e,null,r),i}filter(e,t){var r,i,n,a,o,u=!1;return e.nodeType===kt?(u=!0,n=e.parentNode,r=e.parentNode.classList.contains(t)):(u=!1,r=e.classList.contains(t)),r&&u?(a=n.previousSibling,o=n.nextSibling,a&&a.nodeType===kt?i=a:o&&o.nodeType===kt&&(i=o),i||e):r&&!u?!1:e}patchOffset(e,t,r){if(e.nodeType!=kt)throw new Error("Anchor must be a text node");var i=e,n=t;for(e.parentNode.classList.contains(r)&&(i=e.parentNode);i.previousSibling;){if(i.previousSibling.nodeType===vr)if(i.previousSibling.classList.contains(r))n+=i.previousSibling.textContent.length;else break;else n+=i.previousSibling.textContent.length;i=i.previousSibling}return n}normalizedMap(e,t,r){var i={},n=-1,a,o=e.length,u,l;for(a=0;a<o;a++)u=e[a].nodeType,u===vr&&e[a].classList.contains(r)&&(u=kt),a>0&&u===kt&&l===kt?i[a]=n:t===u&&(n=n+1,i[a]=n),l=u;return i}position(e){var t,r;return e.nodeType===vr?(t=e.parentNode.children,t||(t=_s(e.parentNode)),r=Array.prototype.indexOf.call(t,e)):(t=this.textNodes(e.parentNode),r=t.indexOf(e)),r}filteredPosition(e,t){var r,i,n;return e.nodeType===vr?(r=e.parentNode.children,n=this.normalizedMap(r,vr,t)):(r=e.parentNode.childNodes,e.parentNode.classList.contains(t)&&(e=e.parentNode,r=e.parentNode.childNodes),n=this.normalizedMap(r,kt,t)),i=Array.prototype.indexOf.call(r,e),n[i]}stepsToXpath(e){var t=[".","*"];return e.forEach(function(r){var i=r.index+1;r.id?t.push("*[position()="+i+" and @id='"+r.id+"']"):r.type==="text"?t.push("text()["+i+"]"):t.push("*["+i+"]")}),t.join("/")}stepsToQuerySelector(e){var t=["html"];return e.forEach(function(r){var i=r.index+1;r.id?t.push("#"+r.id):r.type==="text"||t.push("*:nth-child("+i+")")}),t.join(">")}textNodes(e,t){return Array.prototype.slice.call(e.childNodes).filter(function(r){return r.nodeType===kt?!0:!!(t&&r.classList.contains(t))})}walkToNode(e,t,r){var i=t||document,n=i.documentElement,a,o,u=e.length,l;for(l=0;l<u&&(o=e[l],o.type==="element"?o.id?n=i.getElementById(o.id):(a=n.children||_s(n),n=a[o.index]):o.type==="text"&&(n=this.textNodes(n,r)[o.index]),!!n);l++);return n}findNode(e,t,r){var i=t||document,n,a;return!r&&typeof i.evaluate<"u"?(a=this.stepsToXpath(e),n=i.evaluate(a,i,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):r?n=this.walkToNode(e,i,r):n=this.walkToNode(e,i),n}fixMiss(e,t,r,i){var n=this.findNode(e.slice(0,-1),r,i),a=n.childNodes,o=this.normalizedMap(a,kt,i),u,l,c=e[e.length-1].index;for(let d in o){if(!o.hasOwnProperty(d))return;if(o[d]===c)if(u=a[d],l=u.textContent.length,t>l)t=t-l;else{u.nodeType===vr?n=u.childNodes[0]:n=u;break}}return{container:n,offset:t}}toRange(e,t){var r=e||document,i,n,a,o,u,l=this,c,d,v=t?r.querySelector("."+t)!=null:!1,b;if(typeof r.createRange<"u"?i=r.createRange():i=new Tl,l.range?(n=l.start,c=l.path.steps.concat(n.steps),o=this.findNode(c,r,v?t:null),a=l.end,d=l.path.steps.concat(a.steps),u=this.findNode(d,r,v?t:null)):(n=l.path,c=l.path.steps,o=this.findNode(l.path.steps,r,v?t:null)),o)try{n.terminal.offset!=null?i.setStart(o,n.terminal.offset):i.setStart(o,0)}catch{b=this.fixMiss(c,n.terminal.offset,r,v?t:null),i.setStart(b.container,b.offset)}else return null;if(u)try{a.terminal.offset!=null?i.setEnd(u,a.terminal.offset):i.setEnd(u,0)}catch{b=this.fixMiss(d,l.end.terminal.offset,r,v?t:null),i.setEnd(b.container,b.offset)}return i}isCfiString(e){return typeof e=="string"&&e.indexOf("epubcfi(")===0&&e[e.length-1]===")"}generateChapterComponent(e,t,r){var i=parseInt(t),n=(e+1)*2,a="/"+n+"/";return a+=(i+1)*2,r&&(a+="["+r+"]"),a}collapse(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class Ft{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]=="function")this.hooks.push(arguments[e]);else for(var t=0;t<arguments[e].length;++t)this.hooks.push(arguments[e][t])}deregister(e){let t;for(let r=0;r<this.hooks.length;r++)if(t=this.hooks[r],t===e){this.hooks.splice(r,1);break}}trigger(){var e=arguments,t=this.context,r=[];return this.hooks.forEach(function(i){try{var n=i.apply(t,e)}catch{}n&&typeof n.then=="function"&&r.push(n)}),Promise.all(r)}list(){return this.hooks}clear(){return this.hooks=[]}}function kl(s,e){var t,r,i=e.url,n=i.indexOf("://")>-1;s&&(r=Ye(s,"head"),t=Ye(r,"base"),t||(t=s.createElement("base"),r.insertBefore(t,r.firstChild)),!n&&window&&window.location&&(i=window.location.origin+i),t.setAttribute("href",i))}function Vp(s,e){var t,r,i=e.canonical;s&&(t=Ye(s,"head"),r=Ye(t,"link[rel='canonical']"),r?r.setAttribute("href",i):(r=s.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",i),t.appendChild(r)))}function $p(s,e){var t,r,i=e.idref;s&&(t=Ye(s,"head"),r=Ye(t,"link[property='dc.identifier']"),r?r.setAttribute("content",i):(r=s.createElement("meta"),r.setAttribute("name","dc.identifier"),r.setAttribute("content",i),t.appendChild(r)))}function Gp(s,e){var t=s.querySelectorAll("a[href]");if(t.length)for(var r=Ye(s.ownerDocument,"base"),i=r?r.getAttribute("href"):void 0,n=function(o){var u=o.getAttribute("href");if(u.indexOf("mailto:")!==0){var l=u.indexOf("://")>-1;if(l)o.setAttribute("target","_blank");else{var c;try{c=new Pt(u,i)}catch{}o.onclick=function(){return c&&c.hash?e(c.Path.path+c.hash):e(c?c.Path.path:u),!1}}}}.bind(this),a=0;a<t.length;a++)n(t[a])}function Fo(s,e,t){return e.forEach(function(r,i){r&&t[i]&&(r=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),s=s.replace(new RegExp(r,"g"),t[i]))}),s}function Yr(s,e,t,r){var i=typeof window<"u"?window.URL:!1,n=i?"blob":"arraybuffer",a=new ze,o=new XMLHttpRequest,u=XMLHttpRequest.prototype,l;"overrideMimeType"in u||Object.defineProperty(u,"overrideMimeType",{value:function(){}}),t&&(o.withCredentials=!0),o.onreadystatechange=d,o.onerror=c,o.open("GET",s,!0);for(l in r)o.setRequestHeader(l,r[l]);e=="json"&&o.setRequestHeader("Accept","application/json"),e||(e=new Zt(s).extension),e=="blob"&&(o.responseType=n),Gr(e)&&o.overrideMimeType("text/xml"),e=="binary"&&(o.responseType="arraybuffer"),o.send();function c(v){a.reject(v)}function d(){if(this.readyState===XMLHttpRequest.DONE){var v=!1;if((this.responseType===""||this.responseType==="document")&&(v=this.responseXML),this.status===200||this.status===0||v){var b;if(!this.response&&!v)return a.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),a.promise;if(this.status===403)return a.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),a.promise;v?b=this.responseXML:Gr(e)?b=qt(this.response,"text/xml"):e=="xhtml"?b=qt(this.response,"application/xhtml+xml"):e=="html"||e=="htm"?b=qt(this.response,"text/html"):e=="json"?b=JSON.parse(this.response):e=="blob"?i?b=this.response:b=new Blob([this.response]):b=this.response,a.resolve(b)}else a.reject({status:this.status,message:this.response,stack:new Error().stack})}}return a.promise}class Yp{constructor(e,t){this.idref=e.idref,this.linear=e.linear==="yes",this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,t?this.hooks=t:(this.hooks={},this.hooks.serialize=new Ft(this),this.hooks.content=new Ft(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var t=e||this.request||Yr,r=new ze,i=r.promise;return this.contents?r.resolve(this.contents):t(this.url).then(function(n){return this.document=n,this.contents=n.documentElement,this.hooks.content.trigger(this.document,this)}.bind(this)).then(function(){r.resolve(this.contents)}.bind(this)).catch(function(n){r.reject(n)}),i}base(){return kl(this.document,this)}render(e){var t=new ze,r=t.promise;return this.output,this.load(e).then(function(i){var n=typeof navigator<"u"&&navigator.userAgent||"",a=n.indexOf("Trident")>=0,o;typeof XMLSerializer>"u"||a?o=vl.DOMParser:o=XMLSerializer;var u=new o;return this.output=u.serializeToString(i),this.output}.bind(this)).then(function(){return this.hooks.serialize.trigger(this.output,this)}.bind(this)).then(function(){t.resolve(this.output)}.bind(this)).catch(function(i){t.reject(i)}),r}find(e){var t=this,r=[],i=e.toLowerCase(),n=function(a){for(var o=a.textContent.toLowerCase(),u=t.document.createRange(),l,c,d=-1,v,b=150;c!=-1;)c=o.indexOf(i,d+1),c!=-1&&(u=t.document.createRange(),u.setStart(a,c),u.setEnd(a,c+i.length),l=t.cfiFromRange(u),a.textContent.length<b?v=a.textContent:(v=a.textContent.substring(c-b/2,c+b/2),v="..."+v+"..."),r.push({cfi:l,excerpt:v})),d=c};return Si(t.document,function(a){n(a)}),r}search(e,t=5){if(typeof document.createTreeWalker>"u")return this.find(e);let r=[];const i=150,n=this,a=e.toLowerCase(),o=function(d){const _=d.reduce((w,p)=>w+p.textContent,"").toLowerCase().indexOf(a);if(_!=-1){const p=_+a.length;let m=0,y=0;if(_<d[0].length){let A;for(;m<d.length-1&&(y+=d[m].length,!(p<=y));)m+=1;let N=d[0],E=d[m],T=n.document.createRange();T.setStart(N,_);let O=d.slice(0,m).reduce((R,L)=>R+L.textContent.length,0);T.setEnd(E,O>p?p:p-O),A=n.cfiFromRange(T);let I=d.slice(0,m+1).reduce((R,L)=>R+L.textContent,"");I.length>i&&(I=I.substring(_-i/2,_+i/2),I="..."+I+"..."),r.push({cfi:A,excerpt:I})}}},u=document.createTreeWalker(n.document,NodeFilter.SHOW_TEXT,null,!1);let l,c=[];for(;l=u.nextNode();)c.push(l),c.length==t&&(o(c.slice(0,t)),c=c.slice(1,t));return c.length>0&&o(c),r}reconcileLayoutSettings(e){var t={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(r){var i=r.replace("rendition:",""),n=i.indexOf("-"),a,o;n!=-1&&(a=i.slice(0,n),o=i.slice(n+1),t[a]=o)}),t}cfiFromRange(e){return new Me(e,this.cfiBase).toString()}cfiFromElement(e){return new Me(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class Zp{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new Ft,this.hooks.content=new Ft,this.hooks.content.register(kl),this.hooks.content.register(Vp),this.hooks.content.register($p),this.epubcfi=new Me,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,t,r){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((i,n)=>{var a=this.manifest[i.idref],o;i.index=n,i.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,i.index,i.id),i.href&&(i.url=t(i.href,!0),i.canonical=r(i.href)),a&&(i.href=a.href,i.url=t(i.href,!0),i.canonical=r(i.href),a.properties.length&&i.properties.push.apply(i.properties,a.properties)),i.linear==="yes"?(i.prev=function(){let u=i.index;for(;u>0;){let l=this.get(u-1);if(l&&l.linear)return l;u-=1}}.bind(this),i.next=function(){let u=i.index;for(;u<this.spineItems.length-1;){let l=this.get(u+1);if(l&&l.linear)return l;u+=1}}.bind(this)):(i.prev=function(){},i.next=function(){}),o=new Yp(i,this.hooks),this.append(o)}),this.loaded=!0}get(e){var t=0;if(typeof e>"u")for(;t<this.spineItems.length;){let r=this.spineItems[t];if(r&&r.linear)break;t+=1}else this.epubcfi.isCfiString(e)?t=new Me(e).spinePos:typeof e=="number"||isNaN(e)===!1?t=e:typeof e=="string"&&e.indexOf("#")===0?t=this.spineById[e.substring(1)]:typeof e=="string"&&(e=e.split("#")[0],t=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[t]||null}append(e){var t=this.spineItems.length;return e.index=t,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=t,this.spineByHref[encodeURI(e.href)]=t,this.spineByHref[e.href]=t,this.spineById[e.idref]=t,t}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(t,r){t.index=r}),0}remove(e){var t=this.spineItems.indexOf(e);if(t>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(t,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let t=this.get(e);if(t&&t.linear)return t;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let t=this.get(e);if(t&&t.linear)return t;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class Hs{constructor(e){this._q=[],this.context=e,this.tick=js,this.running=!1,this.paused=!1}enqueue(){var e,t,r,i=[].shift.call(arguments),n=arguments;if(!i)throw new Error("No Task Provided");return typeof i=="function"?(e=new ze,t=e.promise,r={task:i,args:n,deferred:e,promise:t}):r={promise:i},this._q.push(r),this.paused==!1&&!this.running&&this.run(),r.promise}dequeue(){var e,t,r;if(this._q.length&&!this.paused){if(e=this._q.shift(),t=e.task,t)return r=t.apply(this.context,e.args),r&&typeof r.then=="function"?r.then(function(){e.deferred.resolve.apply(this.context,arguments)}.bind(this),function(){e.deferred.reject.apply(this.context,arguments)}.bind(this)):(e.deferred.resolve.apply(this.context,r),e.promise);if(e.promise)return e.promise}else return e=new ze,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new ze),this.tick.call(window,()=>{this._q.length?this.dequeue().then(function(){this.run()}.bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then(function(){return this.running=void 0,this.flush()}.bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const Hi="0.3",di=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],pe={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class Ol{constructor(e,t,r){this.spine=e,this.request=t,this.pause=r||100,this.q=new Hs(this),this.epubcfi=new Me,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each(function(t){t.linear&&this.q.enqueue(this.process.bind(this),t)}.bind(this)),this.q.run().then(function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}.bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then(function(t){var r=new ze,i=this.parse(t,e.cfiBase);return this._locations=this._locations.concat(i),e.unload(),this.processingTimeout=setTimeout(()=>r.resolve(i),this.pause),r.promise}.bind(this))}parse(e,t,r){var i=[],n,a=e.ownerDocument,o=Ye(a,"body"),u=0,l,c=r||this.break,d=function(v){var b=v.length,_,w=0;if(v.textContent.trim().length===0)return!1;for(u==0&&(n=this.createRange(),n.startContainer=v,n.startOffset=0),_=c-u,_>b&&(u+=b,w=b);w<b;)if(_=c-u,u===0&&(w+=1,n=this.createRange(),n.startContainer=v,n.startOffset=w),w+_>=b)u+=b-w,w=b;else{w+=_,n.endContainer=v,n.endOffset=w;let p=new Me(n,t).toString();i.push(p),u=0}l=v};if(Si(o,d.bind(this)),n&&n.startContainer&&l){n.endContainer=l,n.endOffset=l.length;let v=new Me(n,t).toString();i.push(v),u=0}return i}generateFromWords(e,t,r){var i=e?new Me(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each(function(n){n.linear&&(i?n.index>=i.spinePos&&this.q.enqueue(this.processWords.bind(this),n,t,i,r):this.q.enqueue(this.processWords.bind(this),n,t,i,r))}.bind(this)),this.q.run().then(function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}.bind(this))}processWords(e,t,r,i){return i&&this._locationsWords.length>=i?Promise.resolve():e.load(this.request).then(function(n){var a=new ze,o=this.parseWords(n,e,t,r),u=i-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(o.length>=i?o.slice(0,u):o),e.unload(),this.processingTimeout=setTimeout(()=>a.resolve(o),this.pause),a.promise}.bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,`
`),e.split(" ").length}parseWords(e,t,r,i){var n=t.cfiBase,a=[],o=e.ownerDocument,u=Ye(o,"body"),l=r,c=i?i.spinePos!==t.index:!0,d;i&&t.index===i.spinePos&&(d=i.findNode(i.range?i.path.steps.concat(i.start.steps):i.path.steps,e.ownerDocument));var v=function(b){if(!c)if(b===d)c=!0;else return!1;if(b.textContent.length<10&&b.textContent.trim().length===0)return!1;var _=this.countWords(b.textContent),w,p=0;if(_===0)return!1;for(w=l-this._wordCounter,w>_&&(this._wordCounter+=_,p=_);p<_;)if(w=l-this._wordCounter,p+w>=_)this._wordCounter+=_-p,p=_;else{p+=w;let m=new Me(b,n);a.push({cfi:m.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return Si(u,v.bind(this)),a}locationFromCfi(e){let t;return Me.prototype.isCfiString(e)&&(e=new Me(e)),this._locations.length===0?-1:(t=Cr(e,this._locations,this.epubcfi.compare),t>this.total?this.total:t)}percentageFromCfi(e){if(this._locations.length===0)return null;var t=this.locationFromCfi(e);return this.percentageFromLocation(t)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var t=-1;return typeof e!="number"&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(t=this._locations[e]),t}cfiFromPercentage(e){let t;if(e>=1){let r=new Me(this._locations[this.total]);return r.collapse(),r.toString()}return t=Math.ceil(this.total*e),this.cfiFromLocation(t)}load(e){return typeof e=="string"?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var t;if(typeof e=="string")this._currentCfi=e;else if(typeof e=="number")this._current=e;else return;this._locations.length!==0&&(typeof e=="string"?(t=this.locationFromCfi(e),this._current=t):t=e,this.emit(pe.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(t)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}Wt(Ol.prototype);class Xp{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var t;if(!e)throw new Error("Container File Not Found");if(t=Ye(e,"rootfile"),!t)throw new Error("No RootFile Found");this.packagePath=t.getAttribute("full-path"),this.directory=Jt.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class Bo{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var t,r,i;if(!e)throw new Error("Package File Not Found");if(t=Ye(e,"metadata"),!t)throw new Error("No Metadata Found");if(r=Ye(e,"manifest"),!r)throw new Error("No Manifest Found");if(i=Ye(e,"spine"),!i)throw new Error("No Spine Found");return this.manifest=this.parseManifest(r),this.navPath=this.findNavPath(r),this.ncxPath=this.findNcxPath(r,i),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=xl(i),this.spine=this.parseSpine(i,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(t),this.metadata.direction=i.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var t={};return t.title=this.getElementText(e,"title"),t.creator=this.getElementText(e,"creator"),t.description=this.getElementText(e,"description"),t.pubdate=this.getElementText(e,"date"),t.publisher=this.getElementText(e,"publisher"),t.identifier=this.getElementText(e,"identifier"),t.language=this.getElementText(e,"language"),t.rights=this.getElementText(e,"rights"),t.modified_date=this.getPropertyText(e,"dcterms:modified"),t.layout=this.getPropertyText(e,"rendition:layout"),t.orientation=this.getPropertyText(e,"rendition:orientation"),t.flow=this.getPropertyText(e,"rendition:flow"),t.viewport=this.getPropertyText(e,"rendition:viewport"),t.media_active_class=this.getPropertyText(e,"media:active-class"),t.spread=this.getPropertyText(e,"rendition:spread"),t}parseManifest(e){var t={},r=Yt(e,"item"),i=Array.prototype.slice.call(r);return i.forEach(function(n){var a=n.getAttribute("id"),o=n.getAttribute("href")||"",u=n.getAttribute("media-type")||"",l=n.getAttribute("media-overlay")||"",c=n.getAttribute("properties")||"";t[a]={href:o,type:u,overlay:l,properties:c.length?c.split(" "):[]}}),t}parseSpine(e,t){var r=[],i=Yt(e,"itemref"),n=Array.prototype.slice.call(i);return n.forEach(function(a,o){var u=a.getAttribute("idref"),l=a.getAttribute("properties")||"",c=l.length?l.split(" "):[],d={id:a.getAttribute("id"),idref:u,linear:a.getAttribute("linear")||"yes",properties:c,index:o};r.push(d)}),r}findUniqueIdentifier(e){var t=e.documentElement.getAttribute("unique-identifier");if(!t)return"";var r=e.getElementById(t);return r&&r.localName==="identifier"&&r.namespaceURI==="http://purl.org/dc/elements/1.1/"&&r.childNodes.length>0?r.childNodes[0].nodeValue.trim():""}findNavPath(e){var t=wr(e,"item",{properties:"nav"});return t?t.getAttribute("href"):!1}findNcxPath(e,t){var r=wr(e,"item",{"media-type":"application/x-dtbncx+xml"}),i;return r||(i=t.getAttribute("toc"),i&&(r=e.querySelector(`#${i}`))),r?r.getAttribute("href"):!1}findCoverPath(e){var t=Ye(e,"package");t.getAttribute("version");var r=wr(e,"item",{properties:"cover-image"});if(r)return r.getAttribute("href");var i=wr(e,"meta",{name:"cover"});if(i){var n=i.getAttribute("content"),a=e.getElementById(n);return a?a.getAttribute("href"):""}else return!1}getElementText(e,t){var r=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",t),i;return!r||r.length===0?"":(i=r[0],i.childNodes.length?i.childNodes[0].nodeValue:"")}getPropertyText(e,t){var r=wr(e,"meta",{property:t});return r&&r.childNodes.length?r.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let t=e.readingOrder||e.spine;return this.spine=t.map((r,i)=>(r.index=i,r.linear=r.linear||"yes",r)),e.resources.forEach((r,i)=>{this.manifest[i]=r,r.rel&&r.rel[0]==="cover"&&(this.coverPath=r.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((r,i)=>(r.label=r.title,r)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class Nn{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let t=e.nodeType,r,i;t&&(r=Ye(e,"html"),i=Ye(e,"ncx")),t?r?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):i&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var t,r=0;r<e.length;r++)t=e[r],t.href&&(this.tocByHref[t.href]=r),t.id&&(this.tocById[t.id]=r),this.length++,t.subitems.length&&this.unpack(t.subitems)}get(e){var t;return e?(e.indexOf("#")===0?t=this.tocById[e.substring(1)]:e in this.tocByHref&&(t=this.tocByHref[e]),this.getByIndex(e,t,this.toc)):this.toc}getByIndex(e,t,r){if(r.length===0)return;const i=r[t];if(i&&(e===i.id||e===i.href))return i;{let n;for(let a=0;a<r.length&&(n=this.getByIndex(e,t,r[a].subitems),!n);++a);return n}}landmark(e){var t;return e?(t=this.landmarksByType[e],this.landmarks[t]):this.landmarks}parseNav(e){var t=Ci(e,"nav","toc"),r=[];if(!t)return r;let i=Er(t,"ol",!0);return i&&(r=this.parseNavList(i)),r}parseNavList(e,t){const r=[];if(!e||!e.children)return r;for(let i=0;i<e.children.length;i++){const n=this.navItem(e.children[i],t);n&&r.push(n)}return r}navItem(e,t){let r=e.getAttribute("id")||void 0,i=Er(e,"a",!0)||Er(e,"span",!0);if(!i)return;let n=i.getAttribute("href")||"";r||(r=n);let a=i.textContent||"",o=[],u=Er(e,"ol",!0);return u&&(o=this.parseNavList(u,r)),{id:r,href:n,label:a,subitems:o,parent:t}}parseLandmarks(e){var t=Ci(e,"nav","landmarks"),r=t?Yt(t,"li"):[],i=r.length,n,a=[],o;if(!r||i===0)return a;for(n=0;n<i;++n)o=this.landmarkItem(r[n]),o&&(a.push(o),this.landmarksByType[o.type]=n);return a}landmarkItem(e){let t=Er(e,"a",!0);if(!t)return;let r=t.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,i=t.getAttribute("href")||"",n=t.textContent||"";return{href:i,label:n,type:r}}parseNcx(e){var t=Yt(e,"navPoint"),r=t.length,i,n={},a=[],o,u;if(!t||r===0)return a;for(i=0;i<r;++i)o=this.ncxItem(t[i]),n[o.id]=o,o.parent?(u=n[o.parent],u.subitems.push(o)):a.push(o);return a}ncxItem(e){var t=e.getAttribute("id")||!1,r=Ye(e,"content"),i=r.getAttribute("src"),n=Ye(e,"navLabel"),a=n.textContent?n.textContent:"",o=[],u=e.parentNode,l;return u&&(u.nodeName==="navPoint"||u.nodeName.split(":").slice(-1)[0]==="navPoint")&&(l=u.getAttribute("id")),{id:t,href:i,label:a,subitems:o,parent:l}}load(e){return e.map(t=>(t.label=t.title,t.subitems=t.children?this.load(t.children):[],t))}forEach(e){return this.toc.forEach(e)}}var Fr={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},Kp=function(){var s,e,t,r,i={};for(s in Fr)if(Fr.hasOwnProperty(s)){for(e in Fr[s])if(Fr[s].hasOwnProperty(e))if(t=Fr[s][e],typeof t=="string")i[t]=s+"/"+e;else for(r=0;r<t.length;r++)i[t[r]]=s+"/"+e}return i}(),Jp="text/plain";function Qp(s){return s&&Kp[s.split(".").pop().toLowerCase()]||Jp}const Ar={lookup:Qp};class eg{constructor(e,t){this.settings={replacements:t&&t.replacements||"base64",archive:t&&t.archive,resolver:t&&t.resolver,request:t&&t.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(t){return e[t]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type==="application/xhtml+xml"||e.type==="text/html")return!0}),this.assets=this.resources.filter(function(e){if(e.type!=="application/xhtml+xml"&&e.type!=="text/html")return!0}),this.css=this.resources.filter(function(e){if(e.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map(function(e){return e.href}.bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var t=new Pt(e),r=Ar.lookup(t.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(e,"blob").then(i=>Dl(i)).then(i=>xs(i,r)):this.settings.request(e,"blob").then(i=>Ai(i,r))}replacements(){if(this.settings.replacements==="none")return new Promise(function(t){t(this.urls)}.bind(this));var e=this.urls.map(t=>{var r=this.settings.resolver(t);return this.createUrl(r).catch(i=>null)});return Promise.all(e).then(t=>(this.replacementUrls=t.filter(r=>typeof r=="string"),t))}replaceCss(e,t){var r=[];return e=e||this.settings.archive,t=t||this.settings.resolver,this.cssUrls.forEach(function(i){var n=this.createCssFile(i,e,t).then(function(a){var o=this.urls.indexOf(i);o>-1&&(this.replacementUrls[o]=a)}.bind(this));r.push(n)}.bind(this)),Promise.all(r)}createCssFile(e){var t;if(Jt.isAbsolute(e))return new Promise(function(a){a()});var r=this.settings.resolver(e),i;this.settings.archive?i=this.settings.archive.getText(r):i=this.settings.request(r,"text");var n=this.urls.map(a=>{var o=this.settings.resolver(a),u=new Zt(r).relative(o);return u});return i?i.then(a=>(a=Fo(a,n,this.replacementUrls),this.settings.replacements==="base64"?t=xs(a,"text/css"):t=Ai(a,"text/css"),t),a=>new Promise(function(o){o()})):new Promise(function(a){a()})}relativeTo(e,t){return t=t||this.settings.resolver,this.urls.map(function(r){var i=t(r),n=new Zt(e).relative(i);return n}.bind(this))}get(e){var t=this.urls.indexOf(e);if(t!==-1)return this.replacementUrls.length?new Promise(function(r,i){r(this.replacementUrls[t])}.bind(this)):this.createUrl(e)}substitute(e,t){var r;return t?r=this.relativeTo(t):r=this.urls,Fo(e,r,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class In{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new Me,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var t=Ye(e,"html"),r=Ye(e,"ncx");if(t)return this.parseNav(e);if(r)return this.parseNcx(e)}parseNav(e){var t=Ci(e,"nav","page-list"),r=t?Yt(t,"li"):[],i=r.length,n,a=[],o;if(!r||i===0)return a;for(n=0;n<i;++n)o=this.item(r[n]),a.push(o);return a}parseNcx(e){var t=[],r=0,i,n,a,o=0;if(n=Ye(e,"pageList"),!n||(a=Yt(n,"pageTarget"),o=a.length,!a||a.length===0))return t;for(r=0;r<o;++r)i=this.ncxItem(a[r]),t.push(i);return t}ncxItem(e){var t=Ye(e,"navLabel"),r=Ye(t,"text"),i=r.textContent,n=Ye(e,"content"),a=n.getAttribute("src"),o=parseInt(i,10);return{href:a,page:o}}item(e){var t=Ye(e,"a"),r=t.getAttribute("href")||"",i=t.textContent||"",n=parseInt(i),a=r.indexOf("epubcfi"),o,u,l;return a!=-1?(o=r.split("#"),u=o[0],l=o.length>1?o[1]:!1,{cfi:l,href:r,packageUrl:u,page:n}):{href:r,page:n}}process(e){e.forEach(function(t){this.pages.push(t.page),t.cfi&&this.locations.push(t.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var t=-1;if(this.locations.length===0)return-1;var r=Ei(e,this.locations,this.epubcfi.compare);return r!=-1?t=this.pages[r]:(r=Cr(e,this.locations,this.epubcfi.compare),t=r-1>=0?this.pages[r-1]:this.pages[0],t!==void 0||(t=-1)),t}cfiFromPage(e){var t=-1;typeof e!="number"&&(e=parseInt(e));var r=this.pages.indexOf(e);return r!=-1&&(t=this.locations[r]),t}pageFromPercentage(e){var t=Math.round(this.totalPages*e);return t}percentageFromPage(e){var t=(e-this.firstPage)/this.totalPages;return Math.round(t*1e3)/1e3}percentageFromCfi(e){var t=this.pageFromCfi(e),r=this.percentageFromPage(t);return r}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class Rl{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread=e.spread!=="none",this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow==="scrolled"||e.flow==="scrolled-continuous"||e.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return typeof e<"u"&&(e==="scrolled"||e==="scrolled-continuous"||e==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,t){return e&&(this._spread=e!=="none",this.update({spread:this._spread})),t>=0&&(this._minSpreadWidth=t),this._spread}calculate(e,t,r){var i=1,n=r||0,a=e,o=t,u=Math.floor(a/12),l,c,d,v;this._spread&&a>=this._minSpreadWidth?i=2:i=1,this.name==="reflowable"&&this._flow==="paginated"&&!(r>=0)&&(n=u%2===0?u:u-1),this.name==="pre-paginated"&&(n=0),i>1?(l=a/i-n,d=l+n):(l=a,d=a),this.name==="pre-paginated"&&i>1&&(a=l),c=l*i+n,v=a,this.width=a,this.height=o,this.spreadWidth=c,this.pageWidth=d,this.delta=v,this.columnWidth=l,this.gap=n,this.divisor=i,this.update({width:a,height:o,spreadWidth:c,pageWidth:d,delta:v,columnWidth:l,gap:n,divisor:i})}format(e,t,r){var i;return this.name==="pre-paginated"?i=e.fit(this.columnWidth,this.height,t):this._flow==="paginated"?i=e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):r&&r==="horizontal"?i=e.size(null,this.height):i=e.size(this.width,null),i}count(e,t){let r,i;return this.name==="pre-paginated"?(r=1,i=1):this._flow==="paginated"?(t=t||this.delta,r=Math.ceil(e/t),i=r*this.divisor):(t=t||this.height,r=Math.ceil(e/t),i=r),{spreads:r,pages:i}}update(e){if(Object.keys(e).forEach(t=>{this.props[t]===e[t]&&delete e[t]}),Object.keys(e).length>0){let t=dt(this.props,e);this.emit(pe.LAYOUT.UPDATED,t,e)}}}Wt(Rl.prototype);class tg{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(e){if(e){if(typeof e=="string")return this.registerUrl("default",e);if(typeof e=="object")return this.registerRules("default",e)}}registerThemes(e){for(var t in e)e.hasOwnProperty(t)&&(typeof e[t]=="string"?this.registerUrl(t,e[t]):this.registerRules(t,e[t]))}registerCss(e,t){this._themes[e]={serialized:t},(this._injected[e]||e=="default")&&this.update(e)}registerUrl(e,t){var r=new Pt(t);this._themes[e]={url:r.toString()},(this._injected[e]||e=="default")&&this.update(e)}registerRules(e,t){this._themes[e]={rules:t},(this._injected[e]||e=="default")&&this.update(e)}select(e){var t=this._current,r;this._current=e,this.update(e),r=this.rendition.getContents(),r.forEach(i=>{i.removeClass(t),i.addClass(e)})}update(e){var t=this.rendition.getContents();t.forEach(r=>{this.add(e,r)})}inject(e){var t=[],r=this._themes,i;for(var n in r)r.hasOwnProperty(n)&&(n===this._current||n==="default")&&(i=r[n],(i.rules&&Object.keys(i.rules).length>0||i.url&&t.indexOf(i.url)===-1)&&this.add(n,e),this._injected.push(n));this._current!="default"&&e.addClass(this._current)}add(e,t){var r=this._themes[e];!r||!t||(r.url?t.addStylesheet(r.url):r.serialized?(t.addStylesheetCss(r.serialized,e),r.injected=!0):r.rules&&(t.addStylesheetRules(r.rules,e),r.injected=!0))}override(e,t,r){var i=this.rendition.getContents();this._overrides[e]={value:t,priority:r===!0},i.forEach(n=>{n.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var t=this.rendition.getContents();delete this._overrides[e],t.forEach(r=>{r.css(e)})}overrides(e){var t=this._overrides;for(var r in t)t.hasOwnProperty(r)&&e.css(r,t[r].value,t[r].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class Di{constructor(e,t,r,i=!1){this.layout=e,this.horizontal=r==="horizontal",this.direction=t||"ltr",this._dev=i}section(e){var t=this.findRanges(e),r=this.rangeListToCfiList(e.section.cfiBase,t);return r}page(e,t,r,i){var n=e&&e.document?e.document.body:!1,a;if(n){if(a=this.rangePairToCfiPair(t,{start:this.findStart(n,r,i),end:this.findEnd(n,r,i)}),this._dev===!0){let o=e.document,u=new Me(a.start).toRange(o),l=new Me(a.end).toRange(o),c=o.defaultView.getSelection(),d=o.createRange();c.removeAllRanges(),d.setStart(u.startContainer,u.startOffset),d.setEnd(l.endContainer,l.endOffset),c.addRange(d)}return a}}walk(e,t){if(!(e&&e.nodeType===Node.TEXT_NODE)){var r={acceptNode:function(u){return u.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},i=r.acceptNode;i.acceptNode=r.acceptNode;for(var n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,i,!1),a,o;(a=n.nextNode())&&(o=t(a),!o););return o}}findRanges(e){for(var t=[],r=e.contents.scrollWidth(),i=Math.ceil(r/this.layout.spreadWidth),n=i*this.layout.divisor,a=this.layout.columnWidth,o=this.layout.gap,u,l,c=0;c<n.pages;c++)u=(a+o)*c,l=a*(c+1)+o*c,t.push({start:this.findStart(e.document.body,u,l),end:this.findEnd(e.document.body,u,l)});return t}findStart(e,t,r){for(var i=[e],n,a,o=e;i.length;)if(n=i.shift(),a=this.walk(n,u=>{var l,c,d,v,b;if(b=Es(u),this.horizontal&&this.direction==="ltr"){if(l=this.horizontal?b.left:b.top,c=this.horizontal?b.right:b.bottom,l>=t&&l<=r)return u;if(c>t)return u;o=u,i.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(l=b.left,c=b.right,c<=r&&c>=t)return u;if(l<r)return u;o=u,i.push(u)}else{if(d=b.top,v=b.bottom,d>=t&&d<=r)return u;if(v>t)return u;o=u,i.push(u)}}),a)return this.findTextStartRange(a,t,r);return this.findTextStartRange(o,t,r)}findEnd(e,t,r){for(var i=[e],n,a=e,o;i.length;)if(n=i.shift(),o=this.walk(n,u=>{var l,c,d,v,b;if(b=Es(u),this.horizontal&&this.direction==="ltr"){if(l=Math.round(b.left),c=Math.round(b.right),l>r&&a)return a;if(c>r)return u;a=u,i.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(l=Math.round(this.horizontal?b.left:b.top),c=Math.round(this.horizontal?b.right:b.bottom),c<t&&a)return a;if(l<t)return u;a=u,i.push(u)}else{if(d=Math.round(b.top),v=Math.round(b.bottom),d>r&&a)return a;if(v>r)return u;a=u,i.push(u)}}),o)return this.findTextEndRange(o,t,r);return this.findTextEndRange(a,t,r)}findTextStartRange(e,t,r){for(var i=this.splitTextNodeIntoRanges(e),n,a,o,u,l,c=0;c<i.length;c++)if(n=i[c],a=n.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(o=a.left,o>=t)return n}else if(this.horizontal&&this.direction==="rtl"){if(l=a.right,l<=r)return n}else if(u=a.top,u>=t)return n;return i[0]}findTextEndRange(e,t,r){for(var i=this.splitTextNodeIntoRanges(e),n,a,o,u,l,c,d,v=0;v<i.length;v++){if(a=i[v],o=a.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(u=o.left,l=o.right,u>r&&n)return n;if(l>r)return a}else if(this.horizontal&&this.direction==="rtl"){if(u=o.left,l=o.right,l<t&&n)return n;if(u<t)return a}else{if(c=o.top,d=o.bottom,c>r&&n)return n;if(d>r)return a}n=a}return i[i.length-1]}splitTextNodeIntoRanges(e,t){var r=[],i=e.textContent||"",n=i.trim(),a,o=e.ownerDocument,u=t||" ",l=n.indexOf(u);if(l===-1||e.nodeType!=Node.TEXT_NODE)return a=o.createRange(),a.selectNodeContents(e),[a];for(a=o.createRange(),a.setStart(e,0),a.setEnd(e,l),r.push(a),a=!1;l!=-1;)l=n.indexOf(u,l+1),l>0&&(a&&(a.setEnd(e,l),r.push(a)),a=o.createRange(),a.setStart(e,l+1));return a&&(a.setEnd(e,n.length),r.push(a)),r}rangePairToCfiPair(e,t){var r=t.start,i=t.end;r.collapse(!0),i.collapse(!1);let n=new Me(r,e).toString(),a=new Me(i,e).toString();return{start:n,end:a}}rangeListToCfiList(e,t){for(var r=[],i,n=0;n<t.length;n++)i=this.rangePairToCfiPair(e,t[n]),r.push(i);return r}axis(e){return e&&(this.horizontal=e==="horizontal"),this.horizontal}}const Nl=typeof navigator<"u",rg=Nl&&/Chrome/.test(navigator.userAgent),zo=Nl&&!rg&&/AppleWebKit/.test(navigator.userAgent),ig=1;class Vs{constructor(e,t,r,i){this.epubcfi=new Me,this.document=e,this.documentElement=this.document.documentElement,this.content=t||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=i||0,this.cfiBase=r||"",this.epubReadingSystem("epub.js",Hi),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return di}width(e){var t=this.content;return e&&tt(e)&&(e=e+"px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}height(e){var t=this.content;return e&&tt(e)&&(e=e+"px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}contentWidth(e){var t=this.content||this.document.body;return e&&tt(e)&&(e=e+"px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}contentHeight(e){var t=this.content||this.document.body;return e&&tt(e)&&(e=e+"px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}textWidth(){let e,t,r=this.document.createRange(),i=this.content||this.document.body,n=xi(i);return r.selectNodeContents(i),e=r.getBoundingClientRect(),t=e.width,n&&n.width&&(t+=n.width),Math.round(t)}textHeight(){let e,t,r=this.document.createRange(),i=this.content||this.document.body;return r.selectNodeContents(i),e=r.getBoundingClientRect(),t=e.bottom,Math.round(t)}scrollWidth(){var e=this.documentElement.scrollWidth;return e}scrollHeight(){var e=this.documentElement.scrollHeight;return e}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,t,r){var i=this.content||this.document.body;return t?i.style.setProperty(e,t,r?"important":""):i.style.removeProperty(e),this.window.getComputedStyle(i)[e]}viewport(e){var t=this.document.querySelector("meta[name='viewport']"),r={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},i=[],n={};if(t&&t.hasAttribute("content")){let a=t.getAttribute("content"),o=a.match(/width\s*=\s*([^,]*)/),u=a.match(/height\s*=\s*([^,]*)/),l=a.match(/initial-scale\s*=\s*([^,]*)/),c=a.match(/minimum-scale\s*=\s*([^,]*)/),d=a.match(/maximum-scale\s*=\s*([^,]*)/),v=a.match(/user-scalable\s*=\s*([^,]*)/);o&&o.length&&typeof o[1]<"u"&&(r.width=o[1]),u&&u.length&&typeof u[1]<"u"&&(r.height=u[1]),l&&l.length&&typeof l[1]<"u"&&(r.scale=l[1]),c&&c.length&&typeof c[1]<"u"&&(r.minimum=c[1]),d&&d.length&&typeof d[1]<"u"&&(r.maximum=d[1]),v&&v.length&&typeof v[1]<"u"&&(r.scalable=v[1])}return n=El(e||{},r),e&&(n.width&&i.push("width="+n.width),n.height&&i.push("height="+n.height),n.scale&&i.push("initial-scale="+n.scale),n.scalable==="no"?(i.push("minimum-scale="+n.scale),i.push("maximum-scale="+n.scale),i.push("user-scalable="+n.scalable)):(n.scalable&&i.push("user-scalable="+n.scalable),n.minimum&&i.push("minimum-scale="+n.minimum),n.maximum&&i.push("minimum-scale="+n.maximum)),t||(t=this.document.createElement("meta"),t.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(t)),t.setAttribute("content",i.join(", ")),this.window.scrollTo(0,0)),n}expand(){this.emit(pe.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),t=this.textHeight();(e!=this._size.width||t!=this._size.height)&&(this._size={width:e,height:t},this.onResize&&this.onResize(this._size),this.emit(pe.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,t=function(o){o.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}.bind(this),r=0;r<e.length;r+=1){var i;try{i=e[r].cssRules}catch{return}if(!i)return;for(var n=0;n<i.length;n+=1)if(i[n].media){var a=this.window.matchMedia(i[n].media.mediaText);a.addListener(t)}}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(t=>{this.resizeCheck()});let e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,e)}imageLoadListeners(){for(var e=this.document.querySelectorAll("img"),t,r=0;r<e.length;r++)t=e[r],typeof t.naturalWidth<"u"&&t.naturalWidth===0&&(t.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then(function(){this.resizeCheck()}.bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,t){var r,i={left:0,top:0};if(!this.document)return i;if(this.epubcfi.isCfiString(e)){let n=new Me(e).toRange(this.document,t);if(n){try{if(!n.endContainer||n.startContainer==n.endContainer&&n.startOffset==n.endOffset){let a=n.startContainer.textContent.indexOf(" ",n.startOffset);a==-1&&(a=n.startContainer.textContent.length),n.setEnd(n.startContainer,a)}}catch{}if(n.startContainer.nodeType===Node.ELEMENT_NODE)r=n.startContainer.getBoundingClientRect(),i.left=r.left,i.top=r.top;else if(zo){let a=n.startContainer,o=new Range;try{a.nodeType===ig?r=a.getBoundingClientRect():n.startOffset+2<a.length?(o.setStart(a,n.startOffset),o.setEnd(a,n.startOffset+2),r=o.getBoundingClientRect()):n.startOffset-2>0?(o.setStart(a,n.startOffset-2),o.setEnd(a,n.startOffset),r=o.getBoundingClientRect()):r=a.parentNode.getBoundingClientRect()}catch{}}else r=n.getBoundingClientRect()}}else if(typeof e=="string"&&e.indexOf("#")>-1){let n=e.substring(e.indexOf("#")+1),a=this.document.getElementById(n);if(a)if(zo){let o=new Range;o.selectNode(a),r=o.getBoundingClientRect()}else r=a.getBoundingClientRect()}return r&&(i.left=r.left,i.top=r.top),i}addStylesheet(e){return new Promise(function(t,r){var i,n=!1;if(!this.document){t(!1);return}if(i=this.document.querySelector("link[href='"+e+"']"),i){t(!0);return}i=this.document.createElement("link"),i.type="text/css",i.rel="stylesheet",i.href=e,i.onload=i.onreadystatechange=function(){!n&&(!this.readyState||this.readyState=="complete")&&(n=!0,setTimeout(()=>{t(!0)},1))},this.document.head.appendChild(i)}.bind(this))}_getStylesheetNode(e){var t;return e="epubjs-inserted-css-"+(e||""),this.document?(t=this.document.getElementById(e),t||(t=this.document.createElement("style"),t.id=e,this.document.head.appendChild(t)),t):!1}addStylesheetCss(e,t){if(!this.document||!e)return!1;var r;return r=this._getStylesheetNode(t),r.innerHTML=e,!0}addStylesheetRules(e,t){var r;if(!(!this.document||!e||e.length===0))if(r=this._getStylesheetNode(t).sheet,Object.prototype.toString.call(e)==="[object Array]")for(var i=0,n=e.length;i<n;i++){var a=1,o=e[i],u=e[i][0],l="";Object.prototype.toString.call(o[1][0])==="[object Array]"&&(o=o[1],a=0);for(var c=o.length;a<c;a++){var d=o[a];l+=d[0]+":"+d[1]+(d[2]?" !important":"")+`;
`}r.insertRule(u+"{"+l+"}",r.cssRules.length)}else Object.keys(e).forEach(b=>{const _=e[b];if(Array.isArray(_))_.forEach(w=>{const m=Object.keys(w).map(y=>`${y}:${w[y]}`).join(";");r.insertRule(`${b}{${m}}`,r.cssRules.length)});else{const p=Object.keys(_).map(m=>`${m}:${_[m]}`).join(";");r.insertRule(`${b}{${p}}`,r.cssRules.length)}})}addScript(e){return new Promise(function(t,r){var i,n=!1;if(!this.document){t(!1);return}i=this.document.createElement("script"),i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){!n&&(!this.readyState||this.readyState=="complete")&&(n=!0,setTimeout(function(){t(!0)},1))},this.document.head.appendChild(i)}.bind(this))}addClass(e){var t;this.document&&(t=this.content||this.document.body,t&&t.classList.add(e))}removeClass(e){var t;this.document&&(t=this.content||this.document.body,t&&t.classList.remove(e))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),di.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(di.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout(function(){var t=this.window.getSelection();this.triggerSelectedEvent(t)}.bind(this),250)}triggerSelectedEvent(e){var t,r;e&&e.rangeCount>0&&(t=e.getRangeAt(0),t.collapsed||(r=new Me(t,this.cfiBase).toString(),this.emit(pe.CONTENTS.SELECTED,r),this.emit(pe.CONTENTS.SELECTED_RANGE,t)))}range(e,t){var r=new Me(e);return r.toRange(this.document,t)}cfiFromRange(e,t){return new Me(e,this.cfiBase,t).toString()}cfiFromNode(e,t){return new Me(e,this.cfiBase,t).toString()}map(e){var t=new Di(e);return t.section()}size(e,t){var r={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),r.width=e,this.css("padding","0 "+e/12+"px")),t>=0&&(this.height(t),r.height=t),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(r)}columns(e,t,r,i,n){let a=br("column-axis"),o=br("column-gap"),u=br("column-width"),l=br("column-fill"),d=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),n==="rtl"&&d==="horizontal"&&this.direction(n),this.width(e),this.height(t),this.viewport({width:e,height:t,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),d==="vertical"?(this.css("padding-top",i/2+"px",!0),this.css("padding-bottom",i/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(a,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",i/2+"px",!0),this.css("padding-right",i/2+"px",!0),this.css(a,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(l,"auto"),this.css(o,i+"px"),this.css(u,r+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,t,r){var i="scale("+e+")",n="";this.css("transform-origin","top left"),(t>=0||r>=0)&&(n=" translate("+(t||0)+"px, "+(r||0)+"px )"),this.css("transform",i+n)}fit(e,t,r){var i=this.viewport(),n=parseInt(i.width),a=parseInt(i.height),o=e/n,u=t/a,l=o<u?o:u;if(this.layoutStyle("paginated"),this.width(n),this.height(a),this.overflow("hidden"),this.scaler(l,0,0),this.css("background-size",n*l+"px "+a*l+"px"),this.css("background-color","transparent"),r&&r.properties.includes("page-spread-left")){var c=e-n*l;this.css("margin-left",c+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,t,r,i,n){var a=new Di(t,n);return a.page(this,e,r,i)}linksHandler(){Gp(this.content,e=>{this.emit(pe.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let t=br("writing-mode");return e&&this.documentElement&&(this.documentElement.style[t]=e),this.window.getComputedStyle(this.documentElement)[t]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,t){return navigator.epubReadingSystem={name:e,version:t,layoutStyle:this.layoutStyle(),hasFeature:function(r){switch(r){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}Wt(Vs.prototype);class ng{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,t,r,i,n,a){let o=encodeURI(t+e),l=new Me(t).spinePos,c=new Il({type:e,cfiRange:t,data:r,sectionIndex:l,cb:i,className:n,styles:a});return this._annotations[o]=c,l in this._annotationsBySectionIndex?this._annotationsBySectionIndex[l].push(o):this._annotationsBySectionIndex[l]=[o],this.rendition.views().forEach(v=>{c.sectionIndex===v.index&&c.attach(v)}),c}remove(e,t){let r=encodeURI(e+t);if(r in this._annotations){let i=this._annotations[r];if(t&&i.type!==t)return;this.rendition.views().forEach(a=>{this._removeFromAnnotationBySectionIndex(i.sectionIndex,r),i.sectionIndex===a.index&&i.detach(a)}),delete this._annotations[r]}}_removeFromAnnotationBySectionIndex(e,t){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(r=>r!==t)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,t,r,i,n){return this.add("highlight",e,t,r,i,n)}underline(e,t,r,i,n){return this.add("underline",e,t,r,i,n)}mark(e,t,r){return this.add("mark",e,t,r)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(i=>{this._annotations[i].attach(e)})}clear(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(i=>{this._annotations[i].detach(e)})}show(){}hide(){}}class Il{constructor({type:e,cfiRange:t,data:r,sectionIndex:i,cb:n,className:a,styles:o}){this.type=e,this.cfiRange=t,this.data=r,this.sectionIndex=i,this.mark=void 0,this.cb=n,this.className=a,this.styles=o}update(e){this.data=e}attach(e){let{cfiRange:t,data:r,type:i,mark:n,cb:a,className:o,styles:u}=this,l;return i==="highlight"?l=e.highlight(t,r,a,o,u):i==="underline"?l=e.underline(t,r,a,o,u):i==="mark"&&(l=e.mark(t,r,a)),this.mark=l,this.emit(pe.ANNOTATION.ATTACH,l),l}detach(e){let{cfiRange:t,type:r}=this,i;return e&&(r==="highlight"?i=e.unhighlight(t):r==="underline"?i=e.ununderline(t):r==="mark"&&(i=e.unmark(t))),this.mark=void 0,this.emit(pe.ANNOTATION.DETACH,i),i}text(){}}Wt(Il.prototype);var It={},Br={},Mo;function sg(){if(Mo)return Br;Mo=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.createElement=s;function s(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}return Br.default={createElement:s},Br}var yr={},Uo;function ag(){if(Uo)return yr;Uo=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.proxyMouse=s,yr.clone=e,yr.default={proxyMouse:s};function s(r,i){function n(l){for(var c=i.length-1;c>=0;c--){var d=i[c],v=l.clientX,b=l.clientY;if(l.touches&&l.touches.length&&(v=l.touches[0].clientX,b=l.touches[0].clientY),!!t(d,r,v,b)){d.dispatchEvent(e(l));break}}}if(r.nodeName==="iframe"||r.nodeName==="IFRAME")try{this.target=r.contentDocument}catch{this.target=r}else this.target=r;for(var a=["mouseup","mousedown","click","touchstart"],o=0;o<a.length;o++){var u=a[o];this.target.addEventListener(u,function(l){return n(l)},!1)}}function e(r){var i=Object.assign({},r,{bubbles:!1});try{return new MouseEvent(r.type,i)}catch{var n=document.createEvent("MouseEvents");return n.initMouseEvent(r.type,!1,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget),n}}function t(r,i,n,a){var o=i.getBoundingClientRect();function u(b,_,w){var p=b.top-o.top,m=b.left-o.left,y=p+b.height,A=m+b.width;return p<=w&&m<=_&&y>w&&A>_}var l=r.getBoundingClientRect();if(!u(l,n,a))return!1;for(var c=r.getClientRects(),d=0,v=c.length;d<v;d++)if(u(c[d],n,a))return!0;return!1}return yr}var jo;function og(){if(jo)return It;jo=1,Object.defineProperty(It,"__esModule",{value:!0}),It.Underline=It.Highlight=It.Mark=It.Pane=void 0;var s=function w(p,m,y){p===null&&(p=Function.prototype);var A=Object.getOwnPropertyDescriptor(p,m);if(A===void 0){var N=Object.getPrototypeOf(p);return N===null?void 0:w(N,m,y)}else{if("value"in A)return A.value;var E=A.get;return E===void 0?void 0:E.call(y)}},e=function(){function w(p,m){for(var y=0;y<m.length;y++){var A=m[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(p,A.key,A)}}return function(p,m,y){return m&&w(p.prototype,m),y&&w(p,y),p}}(),t=sg(),r=a(t),i=ag(),n=a(i);function a(w){return w&&w.__esModule?w:{default:w}}function o(w,p){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:w}function u(w,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);w.prototype=Object.create(p&&p.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(w,p):w.__proto__=p)}function l(w,p){if(!(w instanceof p))throw new TypeError("Cannot call a class as a function")}It.Pane=function(){function w(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;l(this,w),this.target=p,this.element=r.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),n.default.proxyMouse(this.target,this.marks),this.container=m,this.container.appendChild(this.element),this.render()}return e(w,[{key:"addMark",value:function(m){var y=r.default.createElement("g");return this.element.appendChild(y),m.bind(y,this.container),this.marks.push(m),m.render(),m}},{key:"removeMark",value:function(m){var y=this.marks.indexOf(m);if(y!==-1){var A=m.unbind();this.element.removeChild(A),this.marks.splice(y,1)}}},{key:"render",value:function(){b(this.element,v(this.target,this.container));var m=!0,y=!1,A=void 0;try{for(var N=this.marks[Symbol.iterator](),E;!(m=(E=N.next()).done);m=!0){var T=E.value;T.render()}}catch(O){y=!0,A=O}finally{try{!m&&N.return&&N.return()}finally{if(y)throw A}}}}]),w}();var c=It.Mark=function(){function w(){l(this,w),this.element=null}return e(w,[{key:"bind",value:function(m,y){this.element=m,this.container=y}},{key:"unbind",value:function(){var m=this.element;return this.element=null,m}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(m){this.element&&this.element.dispatchEvent(m)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var m=[],y=this.element.firstChild;y;)m.push(y.getBoundingClientRect()),y=y.nextSibling;return m}},{key:"filteredRanges",value:function(){var m=Array.from(this.range.getClientRects());return m.filter(function(y){for(var A=0;A<m.length;A++){if(m[A]===y)return!0;var N=_(m[A],y);if(N)return!1}return!0})}}]),w}(),d=It.Highlight=function(w){u(p,w);function p(m,y,A,N){l(this,p);var E=o(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return E.range=m,E.className=y,E.data=A||{},E.attributes=N||{},E}return e(p,[{key:"bind",value:function(y,A){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"bind",this).call(this,y,A);for(var N in this.data)this.data.hasOwnProperty(N)&&(this.element.dataset[N]=this.data[N]);for(var N in this.attributes)this.attributes.hasOwnProperty(N)&&this.element.setAttribute(N,this.attributes[N]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var y=this.element.ownerDocument.createDocumentFragment(),A=this.filteredRanges(),N=this.element.getBoundingClientRect(),E=this.container.getBoundingClientRect(),T=0,O=A.length;T<O;T++){var I=A[T],R=r.default.createElement("rect");R.setAttribute("x",I.left-N.left+E.left),R.setAttribute("y",I.top-N.top+E.top),R.setAttribute("height",I.height),R.setAttribute("width",I.width),y.appendChild(R)}this.element.appendChild(y)}}]),p}(c);It.Underline=function(w){u(p,w);function p(m,y,A,N){return l(this,p),o(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,m,y,A,N))}return e(p,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var y=this.element.ownerDocument.createDocumentFragment(),A=this.filteredRanges(),N=this.element.getBoundingClientRect(),E=this.container.getBoundingClientRect(),T=0,O=A.length;T<O;T++){var I=A[T],R=r.default.createElement("rect");R.setAttribute("x",I.left-N.left+E.left),R.setAttribute("y",I.top-N.top+E.top),R.setAttribute("height",I.height),R.setAttribute("width",I.width),R.setAttribute("fill","none");var L=r.default.createElement("line");L.setAttribute("x1",I.left-N.left+E.left),L.setAttribute("x2",I.left-N.left+E.left+I.width),L.setAttribute("y1",I.top-N.top+E.top+I.height-1),L.setAttribute("y2",I.top-N.top+E.top+I.height-1),L.setAttribute("stroke-width",1),L.setAttribute("stroke","black"),L.setAttribute("stroke-linecap","square"),y.appendChild(R),y.appendChild(L)}this.element.appendChild(y)}}]),p}(d);function v(w,p){var m=p.getBoundingClientRect(),y=w.getBoundingClientRect();return{top:y.top-m.top,left:y.left-m.left,height:w.scrollHeight,width:w.scrollWidth}}function b(w,p){w.style.setProperty("top",p.top+"px","important"),w.style.setProperty("left",p.left+"px","important"),w.style.setProperty("height",p.height+"px","important"),w.style.setProperty("width",p.width+"px","important")}function _(w,p){return p.right<=w.right&&p.left>=w.left&&p.top>=w.top&&p.bottom<=w.bottom}return It}var ai=og();class Ll{constructor(e,t){this.settings=dt({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},t||{}),this.id="epubjs-view-"+Wi(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new Me,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var t=document.createElement("div");return t.classList.add("epub-view"),t.style.height="0px",t.style.width="0px",t.style.overflow="hidden",t.style.position="relative",t.style.display="block",e&&e=="horizontal"?t.style.flex="none":t.style.flex="initial",t}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=hi(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(e,t){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then(function(r){return this.load(r)}.bind(this)).then(function(){let r=this.contents.writingMode(),i;return this.settings.flow==="scrolled"?i=r.indexOf("vertical")===0?"horizontal":"vertical":i=r.indexOf("vertical")===0?"vertical":"horizontal",r.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(i),this.emit(pe.VIEWS.AXIS,i),this.setWritingMode(r),this.emit(pe.VIEWS.WRITING_MODE,r),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((n,a)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),n()})}.bind(this),function(r){return this.emit(pe.VIEWS.LOAD_ERROR,r),new Promise((i,n)=>{n(r)})}.bind(this)).then(function(){this.emit(pe.VIEWS.RENDERED,this.section)}.bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,t){var r=e||this.settings.width,i=t||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",r,i):this.settings.axis==="horizontal"?this.lock("height",r,i):this.lock("width",r,i),this.settings.width=r,this.settings.height=i}lock(e,t,r){var i=xi(this.element),n;this.iframe?n=xi(this.iframe):n={width:0,height:0},e=="width"&&tt(t)&&(this.lockedWidth=t-i.width-n.width),e=="height"&&tt(r)&&(this.lockedHeight=r-i.height-n.height),e==="both"&&tt(t)&&tt(r)&&(this.lockedWidth=t-i.width-n.width,this.lockedHeight=r-i.height-n.height),this.displayed&&this.iframe&&this.expand()}expand(e){var t=this.lockedWidth,r=this.lockedHeight,i;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(t=this.layout.columnWidth,r=this.layout.height):this.settings.axis==="horizontal"?(t=this.contents.textWidth(),t%this.layout.pageWidth>0&&(t=Math.ceil(t/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(i=t/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&i%2>0&&(t+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(r=this.contents.textHeight(),this.settings.flow==="paginated"&&r%this.layout.height>0&&(r=Math.ceil(r/this.layout.height)*this.layout.height)),(this._needsReframe||t!=this._width||r!=this._height)&&this.reframe(t,r),this._expanding=!1)}reframe(e,t){var r;tt(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),tt(t)&&(this.element.style.height=t+"px",this.iframe.style.height=t+"px",this._height=t);let i=this.prevBounds?e-this.prevBounds.width:e,n=this.prevBounds?t-this.prevBounds.height:t;r={width:e,height:t,widthDelta:i,heightDelta:n},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let a;for(let o in this.marks)this.marks.hasOwnProperty(o)&&(a=this.marks[o],this.placeMark(a.element,a.range))}),this.onResize(this,r),this.emit(pe.VIEWS.RESIZED,r),this.prevBounds=r,this.elementBounds=hi(this.element)}load(e){var t=new ze,r=t.promise;if(!this.iframe)return t.reject(new Error("No Iframe Available")),r;if(this.iframe.onload=function(n){this.onLoad(n,t)}.bind(this),this.settings.method==="blobUrl")this.blobUrl=Ai(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return t.reject(new Error("No Document Available")),r;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var i=this;MSApp.execUnsafeLocalFunction(function(){i.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return r}onLoad(e,t){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new Vs(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var r=this.document.querySelector("link[rel='canonical']");r?r.setAttribute("href",this.section.canonical):(r=this.document.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(r)),this.contents.on(pe.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(pe.CONTENTS.RESIZE,i=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),t.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var t=new ze;return this.displayed?t.resolve(this):this.render(e).then(function(){this.emit(pe.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,t.resolve(this)}.bind(this),function(r){t.reject(r,this)}),t.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(pe.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(pe.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var t=this.contents.locationOf(e,this.settings.ignoreClass);return{left:t.left,top:t.top}}onDisplayed(e){}onResize(e,t){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=hi(this.element)),this.elementBounds}highlight(e,t={},r,i="epubjs-hl",n={}){if(!this.contents)return;const a=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},n);let o=this.contents.range(e),u=()=>{this.emit(pe.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||(this.pane=new ai.Pane(this.iframe,this.element));let l=new ai.Highlight(o,i,t,a),c=this.pane.addMark(l);return this.highlights[e]={mark:c,element:c.element,listeners:[u,r]},c.element.setAttribute("ref",i),c.element.addEventListener("click",u),c.element.addEventListener("touchstart",u),r&&(c.element.addEventListener("click",r),c.element.addEventListener("touchstart",r)),c}underline(e,t={},r,i="epubjs-ul",n={}){if(!this.contents)return;const a=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},n);let o=this.contents.range(e),u=()=>{this.emit(pe.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||(this.pane=new ai.Pane(this.iframe,this.element));let l=new ai.Underline(o,i,t,a),c=this.pane.addMark(l);return this.underlines[e]={mark:c,element:c.element,listeners:[u,r]},c.element.setAttribute("ref",i),c.element.addEventListener("click",u),c.element.addEventListener("touchstart",u),r&&(c.element.addEventListener("click",r),c.element.addEventListener("touchstart",r)),c}mark(e,t={},r){if(!this.contents)return;if(e in this.marks)return this.marks[e];let i=this.contents.range(e);if(!i)return;let n=i.commonAncestorContainer,a=n.nodeType===1?n:n.parentNode,o=l=>{this.emit(pe.VIEWS.MARK_CLICKED,e,t)};i.collapsed&&n.nodeType===1?(i=new Range,i.selectNodeContents(n)):i.collapsed&&(i=new Range,i.selectNodeContents(a));let u=this.document.createElement("a");return u.setAttribute("ref","epubjs-mk"),u.style.position="absolute",u.dataset.epubcfi=e,t&&Object.keys(t).forEach(l=>{u.dataset[l]=t[l]}),r&&(u.addEventListener("click",r),u.addEventListener("touchstart",r)),u.addEventListener("click",o),u.addEventListener("touchstart",o),this.placeMark(u,i),this.element.appendChild(u),this.marks[e]={element:u,range:i,listeners:[o,r]},a}placeMark(e,t){let r,i,n;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let o=t.getBoundingClientRect();r=o.top,i=o.right}else{let o=t.getClientRects(),u;for(var a=0;a!=o.length;a++)u=o[a],(!n||u.left<n)&&(n=u.left,i=Math.ceil(n/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,r=u.top)}e.style.top=`${r}px`,e.style.left=`${i}px`}unhighlight(e){let t;e in this.highlights&&(t=this.highlights[e],this.pane.removeMark(t.mark),t.listeners.forEach(r=>{r&&(t.element.removeEventListener("click",r),t.element.removeEventListener("touchstart",r))}),delete this.highlights[e])}ununderline(e){let t;e in this.underlines&&(t=this.underlines[e],this.pane.removeMark(t.mark),t.listeners.forEach(r=>{r&&(t.element.removeEventListener("click",r),t.element.removeEventListener("touchstart",r))}),delete this.underlines[e])}unmark(e){let t;e in this.marks&&(t=this.marks[e],this.element.removeChild(t.element),t.listeners.forEach(r=>{r&&(t.element.removeEventListener("click",r),t.element.removeEventListener("touchstart",r))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&Al(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}Wt(Ll.prototype);function ug(){var s="reverse",e=lg();return document.body.appendChild(e),e.scrollLeft>0?s="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(s="negative")):(e.scrollLeft=1,e.scrollLeft===0&&(s="negative")),document.body.removeChild(e),s}function lg(){var s=document.createElement("div");s.dir="rtl",s.style.position="fixed",s.style.width="1px",s.style.height="1px",s.style.top="0px",s.style.left="0px",s.style.overflow="hidden";var e=document.createElement("div");e.style.width="2px";var t=document.createElement("span");t.style.width="1px",t.style.display="inline-block";var r=document.createElement("span");return r.style.width="1px",r.style.display="inline-block",e.appendChild(t),e.appendChild(r),s.appendChild(e),s}var Ln,qo;function $s(){if(qo)return Ln;qo=1;function s(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Ln=s,Ln}var Pn,Wo;function fg(){if(Wo)return Pn;Wo=1;var s=typeof Ot=="object"&&Ot&&Ot.Object===Object&&Ot;return Pn=s,Pn}var Fn,Ho;function Pl(){if(Ho)return Fn;Ho=1;var s=fg(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=s||e||Function("return this")();return Fn=t,Fn}var Bn,Vo;function cg(){if(Vo)return Bn;Vo=1;var s=Pl(),e=function(){return s.Date.now()};return Bn=e,Bn}var zn,$o;function hg(){if($o)return zn;$o=1;var s=/\s/;function e(t){for(var r=t.length;r--&&s.test(t.charAt(r)););return r}return zn=e,zn}var Mn,Go;function dg(){if(Go)return Mn;Go=1;var s=hg(),e=/^\s+/;function t(r){return r&&r.slice(0,s(r)+1).replace(e,"")}return Mn=t,Mn}var Un,Yo;function Fl(){if(Yo)return Un;Yo=1;var s=Pl(),e=s.Symbol;return Un=e,Un}var jn,Zo;function pg(){if(Zo)return jn;Zo=1;var s=Fl(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,i=s?s.toStringTag:void 0;function n(a){var o=t.call(a,i),u=a[i];try{a[i]=void 0;var l=!0}catch{}var c=r.call(a);return l&&(o?a[i]=u:delete a[i]),c}return jn=n,jn}var qn,Xo;function gg(){if(Xo)return qn;Xo=1;var s=Object.prototype,e=s.toString;function t(r){return e.call(r)}return qn=t,qn}var Wn,Ko;function mg(){if(Ko)return Wn;Ko=1;var s=Fl(),e=pg(),t=gg(),r="[object Null]",i="[object Undefined]",n=s?s.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:n&&n in Object(o)?e(o):t(o)}return Wn=a,Wn}var Hn,Jo;function vg(){if(Jo)return Hn;Jo=1;function s(e){return e!=null&&typeof e=="object"}return Hn=s,Hn}var Vn,Qo;function yg(){if(Qo)return Vn;Qo=1;var s=mg(),e=vg(),t="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&s(i)==t}return Vn=r,Vn}var $n,eu;function bg(){if(eu)return $n;eu=1;var s=dg(),e=$s(),t=yg(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function u(l){if(typeof l=="number")return l;if(t(l))return r;if(e(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=e(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=s(l);var d=n.test(l);return d||a.test(l)?o(l.slice(2),d?2:8):i.test(l)?r:+l}return $n=u,$n}var Gn,tu;function Bl(){if(tu)return Gn;tu=1;var s=$s(),e=cg(),t=bg(),r="Expected a function",i=Math.max,n=Math.min;function a(o,u,l){var c,d,v,b,_,w,p=0,m=!1,y=!1,A=!0;if(typeof o!="function")throw new TypeError(r);u=t(u)||0,s(l)&&(m=!!l.leading,y="maxWait"in l,v=y?i(t(l.maxWait)||0,u):v,A="trailing"in l?!!l.trailing:A);function N(G){var ee=c,re=d;return c=d=void 0,p=G,b=o.apply(re,ee),b}function E(G){return p=G,_=setTimeout(I,u),m?N(G):b}function T(G){var ee=G-w,re=G-p,fe=u-ee;return y?n(fe,v-re):fe}function O(G){var ee=G-w,re=G-p;return w===void 0||ee>=u||ee<0||y&&re>=v}function I(){var G=e();if(O(G))return R(G);_=setTimeout(I,T(G))}function R(G){return _=void 0,A&&c?N(G):(c=d=void 0,b)}function L(){_!==void 0&&clearTimeout(_),p=0,c=w=d=_=void 0}function Y(){return _===void 0?b:R(e())}function q(){var G=e(),ee=O(G);if(c=arguments,d=this,w=G,ee){if(_===void 0)return E(w);if(y)return clearTimeout(_),_=setTimeout(I,u),N(w)}return _===void 0&&(_=setTimeout(I,u)),b}return q.cancel=L,q.flush=Y,q}return Gn=a,Gn}var Yn,ru;function wg(){if(ru)return Yn;ru=1;var s=Bl(),e=$s(),t="Expected a function";function r(i,n,a){var o=!0,u=!0;if(typeof i!="function")throw new TypeError(t);return e(a)&&(o="leading"in a?!!a.leading:o,u="trailing"in a?!!a.trailing:u),s(i,n,{leading:o,maxWait:n,trailing:u})}return Yn=r,Yn}var Eg=wg();const xg=lr(Eg);class _g{constructor(e){this.settings=e||{},this.id="epubjs-container-"+Wi(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let t=e.height,r=e.width,i=e.overflow||!1,n=e.axis||"vertical",a=e.direction;dt(this.settings,e),e.height&&tt(e.height)&&(t=e.height+"px"),e.width&&tt(e.width)&&(r=e.width+"px");let o=document.createElement("div");return o.id=this.id,o.classList.add("epub-container"),o.style.wordSpacing="0",o.style.lineHeight="0",o.style.verticalAlign="top",o.style.position="relative",n==="horizontal"&&(o.style.display="flex",o.style.flexDirection="row",o.style.flexWrap="nowrap"),r&&(o.style.width=r),t&&(o.style.height=t),i&&(i==="scroll"&&n==="vertical"?(o.style["overflow-y"]=i,o.style["overflow-x"]="hidden"):i==="scroll"&&n==="horizontal"?(o.style["overflow-y"]="hidden",o.style["overflow-x"]=i):o.style.overflow=i),a&&(o.dir=a,o.style.direction=a),a&&this.settings.fullsize&&(document.body.style.direction=a),o}wrap(e){var t=document.createElement("div");return t.style.visibility="hidden",t.style.overflow="hidden",t.style.width="0",t.style.height="0",t.appendChild(e),t}getElement(e){var t;if(bl(e)?t=e:typeof e=="string"&&(t=document.getElementById(e)),!t)throw new Error("Not an Element");return t}attachTo(e){var t=this.getElement(e),r;if(t)return this.settings.hidden?r=this.wrapper:r=this.container,t.appendChild(r),this.element=t,t}getContainer(){return this.container}onResize(e){(!tt(this.settings.width)||!tt(this.settings.height))&&(this.resizeFunc=xg(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,t){var r;let i=e||this.settings.width,n=t||this.settings.height;e===null?(r=this.element.getBoundingClientRect(),r.width&&(e=Math.floor(r.width),this.container.style.width=e+"px")):tt(e)?this.container.style.width=e+"px":this.container.style.width=e,t===null?(r=r||this.element.getBoundingClientRect(),r.height&&(t=r.height,this.container.style.height=t+"px")):tt(t)?this.container.style.height=t+"px":this.container.style.height=t,tt(e)||(e=this.container.clientWidth),tt(t)||(t=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let a=_i(),o=window.getComputedStyle(document.body),u={left:parseFloat(o["padding-left"])||0,right:parseFloat(o["padding-right"])||0,top:parseFloat(o["padding-top"])||0,bottom:parseFloat(o["padding-bottom"])||0};return i||(e=a.width-u.left-u.right),(this.settings.fullsize&&!n||!n)&&(t=a.height-u.top-u.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:t-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!=="visible"&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?_i():e}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,t){var r="#"+this.id+" ",i="";this.sheet||(this.sheet=this.getSheet()),t.forEach(function(n){for(var a in n)n.hasOwnProperty(a)&&(i+=a+":"+n[a]+";")}),this.sheet.insertRule(r+e+" {"+i+"}",0)}axis(e){e==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):e==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class Ag{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,t){return this._views.splice(t,0,e),this.container&&(t<this.container.children.length?this.container.insertBefore(e.element,this.container.children[t]):this.container.appendChild(e.element)),this.length++,e}remove(e){var t=this._views.indexOf(e);t>-1&&this._views.splice(t,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,t=this.length;if(this.length){for(var r=0;r<t;r++)e=this._views[r],this.destroy(e);this._views=[],this.length=0}}find(e){for(var t,r=this.length,i=0;i<r;i++)if(t=this._views[i],t.displayed&&t.section.index==e.index)return t}displayed(){for(var e=[],t,r=this.length,i=0;i<r;i++)t=this._views[i],t.displayed&&e.push(t);return e}show(){for(var e,t=this.length,r=0;r<t;r++)e=this._views[r],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,t=this.length,r=0;r<t;r++)e=this._views[r],e.displayed&&e.hide();this.hidden=!0}}class Ti{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new Hs(this),this.settings=dt(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),dt(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,t){let r=e.tagName;typeof this.settings.fullsize>"u"&&r&&(r.toLowerCase()=="body"||r.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=t,this.settings.rtlScrollType=ug(),this.stage=new _g({width:t.width,height:t.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new Ag(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",function(t){this.destroy()}.bind(this)),this.settings.fullsize?e=window:e=this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:t}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout(function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(pe.MANAGERS.ORIENTATION_CHANGE,t)}.bind(this),500)}onResized(e){this.resize()}resize(e,t,r){let i=this.stage.size(e,t);if(this.winBounds=_i(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===i.width&&this._stageSize.height===i.height||(this._stageSize=i,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(pe.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},r))}createView(e,t){return new this.View(e,dt(this.viewSettings,{forceRight:t}))}handleNextPrePaginated(e,t,r){let i;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(e||t.index===0)return;if(i=t.next(),i&&!i.properties.includes("page-spread-left"))return r.call(this,i)}}display(e,t){var r=new ze,i=r.promise;(t===e.href||tt(t))&&(t=void 0);var n=this.views.find(e);if(n&&e&&this.layout.name!=="pre-paginated"){let o=n.offset();if(this.settings.direction==="ltr")this.scrollTo(o.left,o.top,!0);else{let u=n.width();this.scrollTo(o.left+u,o.top,!0)}if(t){let u=n.locationOf(t),l=n.width();this.moveTo(u,l)}return r.resolve(),i}this.clear();let a=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(a=!0),this.add(e,a).then(function(o){if(t){let u=o.locationOf(t),l=o.width();this.moveTo(u,l)}}.bind(this),o=>{r.reject(o)}).then(function(){return this.handleNextPrePaginated(a,e,this.add)}.bind(this)).then(function(){this.views.show(),r.resolve()}.bind(this)),i}afterDisplayed(e){this.emit(pe.MANAGERS.ADDED,e)}afterResized(e){this.emit(pe.MANAGERS.RESIZE,e.section)}moveTo(e,t){var r=0,i=0;this.isPaginated?(r=Math.floor(e.left/this.layout.delta)*this.layout.delta,r+this.layout.delta>this.container.scrollWidth&&(r=this.container.scrollWidth-this.layout.delta),i=Math.floor(e.top/this.layout.delta)*this.layout.delta,i+this.layout.delta>this.container.scrollHeight&&(i=this.container.scrollHeight-this.layout.delta)):i=e.top,this.settings.direction==="rtl"&&(r=r+this.layout.delta,r=r-t),this.scrollTo(r,i,!0)}add(e,t){var r=this.createView(e,t);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(pe.VIEWS.AXIS,i=>{this.updateAxis(i)}),r.on(pe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),r.display(this.request)}append(e,t){var r=this.createView(e,t);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(pe.VIEWS.AXIS,i=>{this.updateAxis(i)}),r.on(pe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),r.display(this.request)}prepend(e,t){var r=this.createView(e,t);return r.on(pe.VIEWS.RESIZED,i=>{this.counter(i)}),this.views.prepend(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(pe.VIEWS.AXIS,i=>{this.updateAxis(i)}),r.on(pe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),r.display(this.request)}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,t;let r=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,t=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,t<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(t=this.container.scrollLeft,t>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(t=this.container.scrollLeft+this.layout.delta*-1,t>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let i=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(i=!0),this.append(e,i).then(function(){return this.handleNextPrePaginated(i,e,this.append)}.bind(this),n=>n).then(function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}.bind(this))}}prev(){var e,t;let r=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,t=this.container.scrollLeft,t>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(t=this.container.scrollLeft+this.container.offsetWidth,t<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(t=this.container.scrollLeft,t<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let i=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof e.prev()!="object"&&(i=!0),this.prepend(e,i).then(function(){var n;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(n=e.prev(),n))return this.prepend(n)}.bind(this),n=>n).then(function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}.bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),r=t.height<window.innerHeight?t.height:window.innerHeight,i=t.width<window.innerWidth?t.width:window.innerWidth,n=this.settings.axis==="vertical";this.settings.direction;let a=0,o=0;return this.settings.fullsize&&(a=n?window.scrollY:window.scrollX),e.map(l=>{let{index:c,href:d}=l.section,v=l.position(),b=l.width(),_=l.height(),w,p,m,y;n?(w=a+t.top-v.top+o,p=w+r-o,y=this.layout.count(_,r).pages,m=r):(w=a+t.left-v.left+o,p=w+i-o,y=this.layout.count(b,i).pages,m=i);let A=Math.ceil(w/m),N=[],E=Math.ceil(p/m);if(this.settings.direction==="rtl"&&!n){let I=A;A=y-E,E=y-I}N=[];for(var T=A;T<=E;T++){let I=T+1;N.push(I)}let O=this.mapping.page(l.contents,l.section.cfiBase,w,p);return{index:c,href:d,pages:N,totalPages:y,mapping:O}})}paginatedLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),r=0,i=0;return this.settings.fullsize&&(r=window.scrollX),e.map(a=>{let{index:o,href:u}=a.section,l,c=a.position(),d=a.width(),v,b,_;this.settings.direction==="rtl"?(l=t.right-r,_=Math.min(Math.abs(l-c.left),this.layout.width)-i,b=c.width-(c.right-l)-i,v=b-_):(l=t.left+r,_=Math.min(c.right-l,this.layout.width)-i,v=l-c.left+i,b=v+_),i+=_;let w=this.mapping.page(a.contents,a.section.cfiBase,v,b),p=this.layout.count(d).pages,m=Math.floor(v/this.layout.pageWidth),y=[],A=Math.floor(b/this.layout.pageWidth);if(m<0&&(m=0,A=A+1),this.settings.direction==="rtl"){let E=m;m=p-A,A=p-E}for(var N=m+1;N<=A;N++){let E=N;y.push(E)}return{index:o,href:u,pages:y,totalPages:p,mapping:w}})}isVisible(e,t,r,i){var n=e.position(),a=i||this.bounds();return this.settings.axis==="horizontal"&&n.right>a.left-t&&n.left<a.right+r?!0:this.settings.axis==="vertical"&&n.bottom>a.top-t&&n.top<a.bottom+r}visible(){for(var e=this.bounds(),t=this.views.displayed(),r=t.length,i=[],n,a,o=0;o<r;o++)a=t[o],n=this.isVisible(a,0,0,e),n===!0&&i.push(a);return i}scrollBy(e,t,r){let i=this.settings.direction==="rtl"?-1:1;r&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*i,t*i):(e&&(this.container.scrollLeft+=e*i),t&&(this.container.scrollTop+=t)),this.scrolled=!0}scrollTo(e,t,r){r&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,t):(this.container.scrollLeft=e,this.container.scrollTop=t),this.scrolled=!0}onScroll(){let e,t;this.settings.fullsize?(e=window.scrollY,t=window.scrollX):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:(this.emit(pe.MANAGERS.SCROLL,{top:e,left:t}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.emit(pe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),20))}bounds(){var e;return e=this.stage.bounds(),e}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new Di(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(t){t&&t.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,t){!t&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new Di(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(e==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,t="auto"){let r=e==="paginated"||e==="auto";this.isPaginated=r,e==="scrolled-doc"||e==="scrolled-continuous"||e==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=r?"hidden":t,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(t){const r=t&&t.contents;r&&e.push(r)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}Wt(Ti.prototype);const Sg={easeInCubic:function(s){return Math.pow(s,3)}};class Ss{constructor(e,t){this.settings=dt({duration:80,minVelocity:.2,minDistance:10,easing:Sg.easeInCubic},t||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(pe.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(pe.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let t=e.contents;["touchstart","touchmove","touchend"].forEach(r=>{t.on(r,i=>this.triggerViewEvent(i,t))})}triggerViewEvent(e,t){this.emit(e.type,e,t)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:t,screenY:r}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=t,this.startTouchY=r,this.startTime=this.now()),this.endTouchX=t,this.endTouchY=r,this.endTime=this.now()}onTouchMove(e){let{screenX:t,screenY:r}=e.touches[0],i=Math.abs(r-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&i<10&&(this.element.scrollLeft-=t-this.endTouchX),this.endTouchX=t,this.endTouchY=r,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let t=this.wasSwiped();t!==0?this.snap(t):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,t=this.endTouchX-this.startTouchX,r=Math.abs(t),i=this.endTime-this.startTime,n=t/i,a=this.settings.minVelocity;if(r<=this.settings.minDistance||r>=e)return 0;if(n>a)return-1;if(n<-a)return 1}needsSnap(){let e=this.scrollLeft,t=this.layout.pageWidth*this.layout.divisor;return e%t!==0}snap(e=0){let t=this.scrollLeft,r=this.layout.pageWidth*this.layout.divisor,i=Math.round(t/r)*r;return e&&(i+=e*r),this.smoothScrollTo(i)}smoothScrollTo(e){const t=new ze,r=this.scrollLeft,i=this.now(),n=this.settings.duration,a=this.settings.easing;this.snapping=!0;function o(){const u=this.now(),l=Math.min(1,(u-i)/n);if(a(l),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,t.resolve();return}l<1?(window.requestAnimationFrame(o.bind(this)),this.scrollTo(r+(e-r)*l,0)):(this.scrollTo(e,0),this.snapping=!1,t.resolve())}return o.call(this),t.promise}scrollTo(e=0,t=0){this.fullsize?window.scroll(e,t):(this.scroller.scrollLeft=e,this.scroller.scrollTop=t)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}Wt(Ss.prototype);var Cg=Bl();const Dg=lr(Cg);class Tg extends Ti{constructor(e){super(e),this.name="continuous",this.settings=dt(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),dt(this.settings,e.settings||{}),e.settings.gap!="undefined"&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,t){return Ti.prototype.display.call(this,e,t).then(function(){return this.fill()}.bind(this))}fill(e){var t=e||new ze;return this.q.enqueue(()=>this.check()).then(r=>{r?this.fill(t):t.resolve()}),t.promise}moveTo(e){var t=0,r=0;this.isPaginated?(t=Math.floor(e.left/this.layout.delta)*this.layout.delta,t+this.settings.offsetDelta):(r=e.top,e.top+this.settings.offsetDelta),(t>0||r>0)&&this.scrollBy(t,r,!0)}afterResized(e){this.emit(pe.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var t=this.createView(e);return this.views.append(t),t.on(pe.VIEWS.RESIZED,r=>{t.expanded=!0}),t.on(pe.VIEWS.AXIS,r=>{this.updateAxis(r)}),t.on(pe.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),t.onDisplayed=this.afterDisplayed.bind(this),t.onResize=this.afterResized.bind(this),t.display(this.request)}append(e){var t=this.createView(e);return t.on(pe.VIEWS.RESIZED,r=>{t.expanded=!0}),t.on(pe.VIEWS.AXIS,r=>{this.updateAxis(r)}),t.on(pe.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.append(t),t.onDisplayed=this.afterDisplayed.bind(this),t}prepend(e){var t=this.createView(e);return t.on(pe.VIEWS.RESIZED,r=>{this.counter(r),t.expanded=!0}),t.on(pe.VIEWS.AXIS,r=>{this.updateAxis(r)}),t.on(pe.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.prepend(t),t.onDisplayed=this.afterDisplayed.bind(this),t}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var t=this.bounds(),r=this.views.all(),i=r.length,n=typeof e<"u"?e:this.settings.offset||0,a,o,u=new ze,l=[],c=0;c<i;c++)if(o=r[c],a=this.isVisible(o,n,n,t),a===!0)if(o.displayed)o.show();else{let d=o.display(this.request).then(function(v){v.show()},v=>{o.hide()});l.push(d)}else this.q.enqueue(o.destroy.bind(o)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout(function(){this.q.enqueue(this.trim.bind(this))}.bind(this),250);return l.length?Promise.all(l).catch(d=>{u.reject(d)}):(u.resolve(),u.promise)}check(e,t){var r=new ze,i=[],n=this.settings.axis==="horizontal",a=this.settings.offset||0;e&&n&&(a=e),t&&!n&&(a=t);var o=this._bounds;let u=n?this.scrollLeft:this.scrollTop,l=n?Math.floor(o.width):o.height,c=n?this.container.scrollWidth:this.container.scrollHeight,d=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",v=this.settings.rtlScrollType,b=this.settings.direction==="rtl";this.settings.fullsize?(n&&b&&v==="negative"||!n&&b&&v==="default")&&(u=u*-1):(b&&v==="default"&&d==="horizontal"&&(u=c-l-u),b&&v==="negative"&&d==="horizontal"&&(u=u*-1));let _=()=>{let A=this.views.first(),N=A&&A.section.prev();N&&i.push(this.prepend(N))},w=()=>{let A=this.views.last(),N=A&&A.section.next();N&&i.push(this.append(N))},p=u+l+a,m=u-a;p>=c&&w(),m<0&&_();let y=i.map(A=>A.display(this.request));return i.length?Promise.all(y).then(()=>this.check()).then(()=>this.update(a),A=>A):(this.q.enqueue(function(){this.update()}.bind(this)),r.resolve(!1),r.promise)}trim(){for(var e=new ze,t=this.views.displayed(),r=t[0],i=t[t.length-1],n=this.views.indexOf(r),a=this.views.indexOf(i),o=this.views.slice(0,n),u=this.views.slice(a+1),l=0;l<o.length-1;l++)this.erase(o[l],o);for(var c=1;c<u.length;c++)this.erase(u[c]);return e.resolve(),e.promise}erase(e,t){var r,i;this.settings.fullsize?(r=window.scrollY,i=window.scrollX):(r=this.container.scrollTop,i=this.container.scrollLeft);var n=e.bounds();this.views.remove(e),t&&(this.settings.axis==="vertical"?this.scrollTo(0,r-n.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(i+Math.floor(n.width),0,!0):this.scrollTo(i,0,!0):this.scrollTo(i-Math.floor(n.width),0,!0))}addEventListeners(e){window.addEventListener("unload",function(t){this.ignore=!0,this.destroy()}.bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new Ss(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var e;this.tick=js;let t=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*t,this.scrollLeft=window.scrollX*t):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=Dg(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,t,r=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(e=window.scrollY*r,t=window.scrollX*r):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(t-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=t,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}.bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue(function(){return this.check()}.bind(this)),this.emit(pe.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(pe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}prev(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new Ss(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class Gs{constructor(e,t){this.settings=dt(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),dt(this.settings,t),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new Ft(this),this.hooks.serialize=new Ft(this),this.hooks.content=new Ft(this),this.hooks.unloaded=new Ft(this),this.hooks.layout=new Ft(this),this.hooks.render=new Ft(this),this.hooks.show=new Ft(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new tg(this),this.annotations=new ng(this),this.epubcfi=new Me,this.q=new Hs(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new ze,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){var t;return typeof e=="string"&&e==="default"?t=Ti:typeof e=="string"&&e==="continuous"?t=Tg:t=e,t}requireView(e){var t;return typeof e=="string"&&e==="iframe"?t=Ll:t=e,t}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(pe.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(pe.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(pe.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(pe.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(pe.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(pe.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue(function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(pe.RENDITION.ATTACHED)}.bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(this.book){this.epubcfi.isCfiString(e);var t=new ze,r=t.promise,i;return this.displaying=t,this.book.locations.length()&&wl(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),i=this.book.spine.get(e),i?(this.manager.display(i,e).then(()=>{t.resolve(i),this.displaying=void 0,this.emit(pe.RENDITION.DISPLAYED,i),this.reportLocation()},n=>{this.emit(pe.RENDITION.DISPLAY_ERROR,n)}),r):(t.reject(new Error("No Section Found")),r)}}afterDisplayed(e){e.on(pe.VIEWS.MARK_CLICKED,(t,r)=>this.triggerMarkEvent(t,r,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(pe.RENDITION.RENDERED,e.section,e)}):this.emit(pe.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(pe.RENDITION.REMOVED,e.section,e)})}onResized(e,t){this.emit(pe.RENDITION.RESIZED,{width:e.width,height:e.height},t),this.location&&this.location.start&&this.display(t||this.location.start.cfi)}onOrientationChange(e){this.emit(pe.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,t,r){e&&(this.settings.width=e),t&&(this.settings.height=t),this.manager.resize(e,t,r)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var t,r=this.settings.layout||e.layout||"reflowable",i=this.settings.spread||e.spread||"auto",n=this.settings.orientation||e.orientation||"auto",a=this.settings.flow||e.flow||"auto",o=e.viewport||"",u=this.settings.minSpreadWidth||e.minSpreadWidth||800,l=this.settings.direction||e.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),t={layout:r,spread:i,orientation:n,flow:a,viewport:o,minSpreadWidth:u,direction:l},t}flow(e){var t=e;(e==="scrolled"||e==="scrolled-doc"||e==="scrolled-continuous")&&(t="scrolled"),(e==="auto"||e==="paginated")&&(t="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(t),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(t),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new Rl(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(pe.LAYOUT.UPDATED,(t,r)=>{this.emit(pe.RENDITION.LAYOUT,t,r)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,t){this.settings.spread=e,t&&(this.settings.minSpreadWidth=t),this._layout&&this._layout.spread(e,t),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue(function(){requestAnimationFrame(function(){var r=this.manager.currentLocation();if(r&&r.then&&typeof r.then=="function")r.then(function(i){let n=this.located(i);!n||!n.start||!n.end||(this.location=n,this.emit(pe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(pe.RENDITION.RELOCATED,this.location))}.bind(this));else if(r){let i=this.located(r);if(!i||!i.start||!i.end)return;this.location=i,this.emit(pe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(pe.RENDITION.RELOCATED,this.location)}}.bind(this))}.bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then=="function")e.then(function(t){return this.located(t)}.bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let t=e[0],r=e[e.length-1],i={start:{index:t.index,href:t.href,cfi:t.mapping.start,displayed:{page:t.pages[0]||1,total:t.totalPages}},end:{index:r.index,href:r.href,cfi:r.mapping.end,displayed:{page:r.pages[r.pages.length-1]||1,total:r.totalPages}}},n=this.book.locations.locationFromCfi(t.mapping.start),a=this.book.locations.locationFromCfi(r.mapping.end);n!=null&&(i.start.location=n,i.start.percentage=this.book.locations.percentageFromLocation(n)),a!=null&&(i.end.location=a,i.end.percentage=this.book.locations.percentageFromLocation(a));let o=this.book.pageList.pageFromCfi(t.mapping.start),u=this.book.pageList.pageFromCfi(r.mapping.end);return o!=-1&&(i.start.page=o),u!=-1&&(i.end.page=u),r.index===this.book.spine.last().index&&i.end.displayed.page>=i.end.displayed.total&&(i.atEnd=!0),t.index===this.book.spine.first().index&&i.start.displayed.page===1&&(i.atStart=!0),i}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){di.forEach(t=>{e.on(t,r=>this.triggerViewEvent(r,e))}),e.on(pe.CONTENTS.SELECTED,t=>this.triggerSelectedEvent(t,e))}triggerViewEvent(e,t){this.emit(e.type,e,t)}triggerSelectedEvent(e,t){this.emit(pe.RENDITION.SELECTED,e,t)}triggerMarkEvent(e,t,r){this.emit(pe.RENDITION.MARK_CLICKED,e,t,r)}getRange(e,t){var r=new Me(e),i=this.manager.visible().filter(function(n){if(r.spinePos===n.index)return!0});if(i.length)return i[0].contents.range(r,t)}adjustImages(e){if(this._layout.name==="pre-paginated")return new Promise(function(n){n()});let t=e.window.getComputedStyle(e.content,null),r=(e.content.offsetHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)))*.95,i=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-i+"px":"100%")+"!important","max-height":r+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-i+"px":"100%")+"!important","max-height":r+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(n,a){setTimeout(function(){n()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(pe.CONTENTS.LINK_CLICKED,t=>{let r=this.book.path.relative(t);this.display(r)})}injectStylesheet(e,t){let r=e.createElement("link");r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(r)}injectScript(e,t){let r=e.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",this.settings.script),r.textContent=" ",e.getElementsByTagName("head")[0].appendChild(r)}injectIdentifier(e,t){let r=this.book.packaging.metadata.identifier,i=e.createElement("meta");i.setAttribute("name","dc.relation.ispartof"),r&&i.setAttribute("content",r),e.getElementsByTagName("head")[0].appendChild(i)}}Wt(Gs.prototype);function Qt(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zn={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var iu;function kg(){return iu||(iu=1,function(s,e){(function(t){s.exports=t()})(function(){return function t(r,i,n){function a(l,c){if(!i[l]){if(!r[l]){var d=typeof Qt=="function"&&Qt;if(!c&&d)return d(l,!0);if(o)return o(l,!0);var v=new Error("Cannot find module '"+l+"'");throw v.code="MODULE_NOT_FOUND",v}var b=i[l]={exports:{}};r[l][0].call(b.exports,function(_){var w=r[l][1][_];return a(w||_)},b,b.exports,t,r,i,n)}return i[l].exports}for(var o=typeof Qt=="function"&&Qt,u=0;u<n.length;u++)a(n[u]);return a}({1:[function(t,r,i){var n=t("./utils"),a=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var l=[],c,d,v,b,_,w,p,m=0,y=u.length,A=y,N=n.getTypeOf(u)!=="string";m<u.length;)A=y-m,N?(c=u[m++],d=m<y?u[m++]:0,v=m<y?u[m++]:0):(c=u.charCodeAt(m++),d=m<y?u.charCodeAt(m++):0,v=m<y?u.charCodeAt(m++):0),b=c>>2,_=(c&3)<<4|d>>4,w=A>1?(d&15)<<2|v>>6:64,p=A>2?v&63:64,l.push(o.charAt(b)+o.charAt(_)+o.charAt(w)+o.charAt(p));return l.join("")},i.decode=function(u){var l,c,d,v,b,_,w,p=0,m=0,y="data:";if(u.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");u=u.replace(/[^A-Za-z0-9+/=]/g,"");var A=u.length*3/4;if(u.charAt(u.length-1)===o.charAt(64)&&A--,u.charAt(u.length-2)===o.charAt(64)&&A--,A%1!==0)throw new Error("Invalid base64 input, bad content length.");var N;for(a.uint8array?N=new Uint8Array(A|0):N=new Array(A|0);p<u.length;)v=o.indexOf(u.charAt(p++)),b=o.indexOf(u.charAt(p++)),_=o.indexOf(u.charAt(p++)),w=o.indexOf(u.charAt(p++)),l=v<<2|b>>4,c=(b&15)<<4|_>>2,d=(_&3)<<6|w,N[m++]=l,_!==64&&(N[m++]=c),w!==64&&(N[m++]=d);return N}},{"./support":30,"./utils":32}],2:[function(t,r,i){var n=t("./external"),a=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function l(c,d,v,b,_){this.compressedSize=c,this.uncompressedSize=d,this.crc32=v,this.compression=b,this.compressedContent=_}l.prototype={getContentWorker:function(){var c=new a(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),d=this;return c.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new a(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(c,d,v){return c.pipe(new o).pipe(new u("uncompressedSize")).pipe(d.compressWorker(v)).pipe(new u("compressedSize")).withStreamInfo("compression",d)},r.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var n=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var n=t("./utils");function a(){for(var c,d=[],v=0;v<256;v++){c=v;for(var b=0;b<8;b++)c=c&1?3988292384^c>>>1:c>>>1;d[v]=c}return d}var o=a();function u(c,d,v,b){var _=o,w=b+v;c=c^-1;for(var p=b;p<w;p++)c=c>>>8^_[(c^d[p])&255];return c^-1}function l(c,d,v,b){var _=o,w=b+v;c=c^-1;for(var p=b;p<w;p++)c=c>>>8^_[(c^d.charCodeAt(p))&255];return c^-1}r.exports=function(d,v){if(typeof d>"u"||!d.length)return 0;var b=n.getTypeOf(d)!=="string";return b?u(v|0,d,d.length,0):l(v|0,d,d.length,0)}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var n=null;typeof Promise<"u"?n=Promise:n=t("lie"),r.exports={Promise:n}},{lie:37}],7:[function(t,r,i){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),o=t("./utils"),u=t("./stream/GenericWorker"),l=n?"uint8array":"array";i.magic="\b\0";function c(d,v){u.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=v,this.meta={}}o.inherits(c,u),c.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(l,d.data),!1)},c.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(v){d.push({data:v,meta:d.meta})}},i.compressWorker=function(d){return new c("Deflate",d)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){var n=t("../utils"),a=t("../stream/GenericWorker"),o=t("../utf8"),u=t("../crc32"),l=t("../signature"),c=function(m,y){var A="",N;for(N=0;N<y;N++)A+=String.fromCharCode(m&255),m=m>>>8;return A},d=function(m,y){var A=m;return m||(A=y?16893:33204),(A&65535)<<16},v=function(m){return(m||0)&63},b=function(m,y,A,N,E,T){var O=m.file,I=m.compression,R=T!==o.utf8encode,L=n.transformTo("string",T(O.name)),Y=n.transformTo("string",o.utf8encode(O.name)),q=O.comment,G=n.transformTo("string",T(q)),ee=n.transformTo("string",o.utf8encode(q)),re=Y.length!==O.name.length,fe=ee.length!==q.length,te,W,X="",oe="",K="",ne=O.dir,Ee=O.date,ve={crc32:0,compressedSize:0,uncompressedSize:0};(!y||A)&&(ve.crc32=m.crc32,ve.compressedSize=m.compressedSize,ve.uncompressedSize=m.uncompressedSize);var ke=0;y&&(ke|=8),!R&&(re||fe)&&(ke|=2048);var Ue=0,Fe=0;ne&&(Ue|=16),E==="UNIX"?(Fe=798,Ue|=d(O.unixPermissions,ne)):(Fe=20,Ue|=v(O.dosPermissions)),te=Ee.getUTCHours(),te=te<<6,te=te|Ee.getUTCMinutes(),te=te<<5,te=te|Ee.getUTCSeconds()/2,W=Ee.getUTCFullYear()-1980,W=W<<4,W=W|Ee.getUTCMonth()+1,W=W<<5,W=W|Ee.getUTCDate(),re&&(oe=c(1,1)+c(u(L),4)+Y,X+="up"+c(oe.length,2)+oe),fe&&(K=c(1,1)+c(u(G),4)+ee,X+="uc"+c(K.length,2)+K);var we="";we+=`
\0`,we+=c(ke,2),we+=I.magic,we+=c(te,2),we+=c(W,2),we+=c(ve.crc32,4),we+=c(ve.compressedSize,4),we+=c(ve.uncompressedSize,4),we+=c(L.length,2),we+=c(X.length,2);var We=l.LOCAL_FILE_HEADER+we+L+X,$e=l.CENTRAL_FILE_HEADER+c(Fe,2)+we+c(G.length,2)+"\0\0\0\0"+c(Ue,4)+c(N,4)+L+X+G;return{fileRecord:We,dirRecord:$e}},_=function(m,y,A,N,E){var T="",O=n.transformTo("string",E(N));return T=l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(m,2)+c(m,2)+c(y,4)+c(A,4)+c(O.length,2)+O,T},w=function(m){var y="";return y=l.DATA_DESCRIPTOR+c(m.crc32,4)+c(m.compressedSize,4)+c(m.uncompressedSize,4),y};function p(m,y,A,N){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=A,this.encodeFileName=N,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(p,a),p.prototype.push=function(m){var y=m.meta.percent||0,A=this.entriesCount,N=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,a.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:A?(y+100*(A-N-1))/A:100}}))},p.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var y=this.streamFiles&&!m.file.dir;if(y){var A=b(m,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:A.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(m){this.accumulate=!1;var y=this.streamFiles&&!m.file.dir,A=b(m,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(A.dirRecord),y)this.push({data:w(m),meta:{percent:100}});else for(this.push({data:A.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var m=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var A=this.bytesWritten-m,N=_(this.dirRecords.length,A,m,this.zipComment,this.encodeFileName);this.push({data:N,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(m){this._sources.push(m);var y=this;return m.on("data",function(A){y.processChunk(A)}),m.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),m.on("error",function(A){y.error(A)}),this},p.prototype.resume=function(){if(!a.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},p.prototype.error=function(m){var y=this._sources;if(!a.prototype.error.call(this,m))return!1;for(var A=0;A<y.length;A++)try{y[A].error(m)}catch{}return!0},p.prototype.lock=function(){a.prototype.lock.call(this);for(var m=this._sources,y=0;y<m.length;y++)m[y].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var n=t("../compressions"),a=t("./ZipFileWorker"),o=function(u,l){var c=u||l,d=n[c];if(!d)throw new Error(c+" is not a valid compression method !");return d};i.generateWorker=function(u,l,c){var d=new a(l.streamFiles,c,l.platform,l.encodeFileName),v=0;try{u.forEach(function(b,_){v++;var w=o(_.options.compression,l.compression),p=_.options.compressionOptions||l.compressionOptions||{},m=_.dir,y=_.date;_._compressWorker(w,p).withStreamInfo("file",{name:b,dir:m,date:y,comment:_.comment||"",unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions}).pipe(d)}),d.entriesCount=v}catch(b){d.error(b)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new n;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}n.prototype=t("./object"),n.prototype.loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.10.1",n.loadAsync=function(a,o){return new n().loadAsync(a,o)},n.external=t("./external"),r.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var n=t("./utils"),a=t("./external"),o=t("./utf8"),u=t("./zipEntries"),l=t("./stream/Crc32Probe"),c=t("./nodejsUtils");function d(v){return new a.Promise(function(b,_){var w=v.decompressed.getContentWorker().pipe(new l);w.on("error",function(p){_(p)}).on("end",function(){w.streamInfo.crc32!==v.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}r.exports=function(v,b){var _=this;return b=n.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(v)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",v,!0,b.optimizedBinaryString,b.base64).then(function(w){var p=new u(b);return p.load(w),p}).then(function(p){var m=[a.Promise.resolve(p)],y=p.files;if(b.checkCRC32)for(var A=0;A<y.length;A++)m.push(d(y[A]));return a.Promise.all(m)}).then(function(p){for(var m=p.shift(),y=m.files,A=0;A<y.length;A++){var N=y[A],E=N.fileNameStr,T=n.resolve(N.fileNameStr);_.file(T,N.decompressed,{binary:!0,optimizedBinaryString:!0,date:N.date,dir:N.dir,comment:N.fileCommentStr.length?N.fileCommentStr:null,unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions,createFolders:b.createFolders}),N.dir||(_.file(T).unsafeOriginalName=E)}return m.zipComment.length&&(_.comment=m.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var n=t("../utils"),a=t("../stream/GenericWorker");function o(u,l){a.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(l)}n.inherits(o,a),o.prototype._bindStream=function(u){var l=this;this._stream=u,u.pause(),u.on("data",function(c){l.push({data:c,meta:{percent:0}})}).on("error",function(c){l.isPaused?this.generatedError=c:l.error(c)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},o.prototype.pause=function(){return a.prototype.pause.call(this)?(this._stream.pause(),!0):!1},o.prototype.resume=function(){return a.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var n=t("readable-stream").Readable,a=t("../utils");a.inherits(o,n);function o(u,l,c){n.call(this,l),this._helper=u;var d=this;u.on("data",function(v,b){d.push(v)||d._helper.pause(),c&&c(b)}).on("error",function(v){d.emit("error",v)}).on("end",function(){d.push(null)})}o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,a);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,a)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var a=new Buffer(n);return a.fill(0),a},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(t,r,i){var n=t("./utf8"),a=t("./utils"),o=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),l=t("./defaults"),c=t("./compressedObject"),d=t("./zipObject"),v=t("./generate"),b=t("./nodejsUtils"),_=t("./nodejs/NodejsStreamInputAdapter"),w=function(E,T,O){var I=a.getTypeOf(T),R,L=a.extend(O||{},l);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&L.unixPermissions&16384&&(L.dir=!0),L.dosPermissions&&L.dosPermissions&16&&(L.dir=!0),L.dir&&(E=m(E)),L.createFolders&&(R=p(E))&&y.call(this,R,!0);var Y=I==="string"&&L.binary===!1&&L.base64===!1;(!O||typeof O.binary>"u")&&(L.binary=!Y);var q=T instanceof c&&T.uncompressedSize===0;(q||L.dir||!T||T.length===0)&&(L.base64=!1,L.binary=!0,T="",L.compression="STORE",I="string");var G=null;T instanceof c||T instanceof o?G=T:b.isNode&&b.isStream(T)?G=new _(E,T):G=a.prepareContent(E,T,L.binary,L.optimizedBinaryString,L.base64);var ee=new d(E,G,L);this.files[E]=ee},p=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var T=E.lastIndexOf("/");return T>0?E.substring(0,T):""},m=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},y=function(E,T){return T=typeof T<"u"?T:l.createFolders,E=m(E),this.files[E]||w.call(this,E,null,{dir:!0,createFolders:T}),this.files[E]};function A(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var T,O,I;for(T in this.files)I=this.files[T],O=T.slice(this.root.length,T.length),O&&T.slice(0,this.root.length)===this.root&&E(O,I)},filter:function(E){var T=[];return this.forEach(function(O,I){E(O,I)&&T.push(I)}),T},file:function(E,T,O){if(arguments.length===1)if(A(E)){var I=E;return this.filter(function(L,Y){return!Y.dir&&I.test(L)})}else{var R=this.files[this.root+E];return R&&!R.dir?R:null}else E=this.root+E,w.call(this,E,T,O);return this},folder:function(E){if(!E)return this;if(A(E))return this.filter(function(R,L){return L.dir&&E.test(R)});var T=this.root+E,O=y.call(this,T),I=this.clone();return I.root=O.name,I},remove:function(E){E=this.root+E;var T=this.files[E];if(T||(E.slice(-1)!=="/"&&(E+="/"),T=this.files[E]),T&&!T.dir)delete this.files[E];else for(var O=this.filter(function(R,L){return L.name.slice(0,E.length)===E}),I=0;I<O.length;I++)delete this.files[O[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var T,O={};try{if(O=a.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode}),O.type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");a.checkSupport(O.type),(O.platform==="darwin"||O.platform==="freebsd"||O.platform==="linux"||O.platform==="sunos")&&(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var I=O.comment||this.comment||"";T=v.generateWorker(this,O,I)}catch(R){T=new o("error"),T.error(R)}return new u(T,O.type||"string",O.mimeType)},generateAsync:function(E,T){return this.generateInternalStream(E).accumulate(T)},generateNodeStream:function(E,T){return E=E||{},E.type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(T)}};r.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var n=t("./DataReader"),a=t("../utils");function o(u){n.call(this,u);for(var l=0;l<this.data.length;l++)u[l]=u[l]&255}a.inherits(o,n),o.prototype.byteAt=function(u){return this.data[this.zero+u]},o.prototype.lastIndexOfSignature=function(u){for(var l=u.charCodeAt(0),c=u.charCodeAt(1),d=u.charCodeAt(2),v=u.charCodeAt(3),b=this.length-4;b>=0;--b)if(this.data[b]===l&&this.data[b+1]===c&&this.data[b+2]===d&&this.data[b+3]===v)return b-this.zero;return-1},o.prototype.readAndCheckSignature=function(u){var l=u.charCodeAt(0),c=u.charCodeAt(1),d=u.charCodeAt(2),v=u.charCodeAt(3),b=this.readData(4);return l===b[0]&&c===b[1]&&d===b[2]&&v===b[3]},o.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var n=t("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var u=0,l;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return n.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC((o>>25&127)+1980,(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(o&31)<<1))}},r.exports=a},{"../utils":32}],19:[function(t,r,i){var n=t("./Uint8ArrayReader"),a=t("../utils");function o(u){n.call(this,u)}a.inherits(o,n),o.prototype.readData=function(u){this.checkOffset(u);var l=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var n=t("./DataReader"),a=t("../utils");function o(u){n.call(this,u)}a.inherits(o,n),o.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},o.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},o.prototype.readAndCheckSignature=function(u){var l=this.readData(4);return u===l},o.prototype.readData=function(u){this.checkOffset(u);var l=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var n=t("./ArrayReader"),a=t("../utils");function o(u){n.call(this,u)}a.inherits(o,n),o.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var n=t("../utils"),a=t("../support"),o=t("./ArrayReader"),u=t("./StringReader"),l=t("./NodeBufferReader"),c=t("./Uint8ArrayReader");r.exports=function(d){var v=n.getTypeOf(d);return n.checkSupport(v),v==="string"&&!a.uint8array?new u(d):v==="nodebuffer"?new l(d):a.uint8array?new c(n.transformTo("uint8array",d)):new o(n.transformTo("array",d))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var n=t("./GenericWorker"),a=t("../utils");function o(u){n.call(this,"ConvertWorker to "+u),this.destType=u}a.inherits(o,n),o.prototype.processChunk=function(u){this.push({data:a.transformTo(this.destType,u.data),meta:u.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var n=t("./GenericWorker"),a=t("../crc32"),o=t("../utils");function u(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o.inherits(u,n),u.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var n=t("../utils"),a=t("./GenericWorker");function o(u){a.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}n.inherits(o,a),o.prototype.processChunk=function(u){if(u){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+u.data.length}a.prototype.processChunk.call(this,u)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var n=t("../utils"),a=t("./GenericWorker"),o=16*1024;function u(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=n.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}n.inherits(u,a),u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return a.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0):!1},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=o,c=null,d=Math.min(this.max,this.index+l);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d);break}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function n(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return this.isFinished?!1:(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var u=0;u<this._listeners[a].length;u++)this._listeners[a][u].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(u){o.processChunk(u)}),a.on("end",function(){o.end()}),a.on("error",function(u){o.error(u)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=n},{}],29:[function(t,r,i){var n=t("../utils"),a=t("./ConvertWorker"),o=t("./GenericWorker"),u=t("../base64"),l=t("../support"),c=t("../external"),d=null;if(l.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(p,m,y){switch(p){case"blob":return n.newBlob(n.transformTo("arraybuffer",m),y);case"base64":return u.encode(m);default:return n.transformTo(p,m)}}function b(p,m){var y,A=0,N=null,E=0;for(y=0;y<m.length;y++)E+=m[y].length;switch(p){case"string":return m.join("");case"array":return Array.prototype.concat.apply([],m);case"uint8array":for(N=new Uint8Array(E),y=0;y<m.length;y++)N.set(m[y],A),A+=m[y].length;return N;case"nodebuffer":return Buffer.concat(m);default:throw new Error("concat : unsupported type '"+p+"'")}}function _(p,m){return new c.Promise(function(y,A){var N=[],E=p._internalType,T=p._outputType,O=p._mimeType;p.on("data",function(I,R){N.push(I),m&&m(R)}).on("error",function(I){N=[],A(I)}).on("end",function(){try{var I=v(T,b(E,N),O);y(I)}catch(R){A(R)}N=[]}).resume()})}function w(p,m,y){var A=m;switch(m){case"blob":case"arraybuffer":A="uint8array";break;case"base64":A="string";break}try{this._internalType=A,this._outputType=m,this._mimeType=y,n.checkSupport(A),this._worker=p.pipe(new a(A)),p.lock()}catch(N){this._worker=new o("error"),this._worker.error(N)}}w.prototype={accumulate:function(p){return _(this,p)},on:function(p,m){var y=this;return p==="data"?this._worker.on(p,function(A){m.call(y,A.data,A.meta)}):this._worker.on(p,function(){n.delay(m,arguments,y)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=w},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var n=new ArrayBuffer(0);try{i.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var a=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,o=new a;o.append(n),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var n=t("./utils"),a=t("./support"),o=t("./nodejsUtils"),u=t("./stream/GenericWorker"),l=new Array(256),c=0;c<256;c++)l[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;l[254]=l[254]=1;var d=function(p){var m,y,A,N,E,T=p.length,O=0;for(N=0;N<T;N++)y=p.charCodeAt(N),(y&64512)===55296&&N+1<T&&(A=p.charCodeAt(N+1),(A&64512)===56320&&(y=65536+(y-55296<<10)+(A-56320),N++)),O+=y<128?1:y<2048?2:y<65536?3:4;for(a.uint8array?m=new Uint8Array(O):m=new Array(O),E=0,N=0;E<O;N++)y=p.charCodeAt(N),(y&64512)===55296&&N+1<T&&(A=p.charCodeAt(N+1),(A&64512)===56320&&(y=65536+(y-55296<<10)+(A-56320),N++)),y<128?m[E++]=y:y<2048?(m[E++]=192|y>>>6,m[E++]=128|y&63):y<65536?(m[E++]=224|y>>>12,m[E++]=128|y>>>6&63,m[E++]=128|y&63):(m[E++]=240|y>>>18,m[E++]=128|y>>>12&63,m[E++]=128|y>>>6&63,m[E++]=128|y&63);return m},v=function(p,m){var y;for(m=m||p.length,m>p.length&&(m=p.length),y=m-1;y>=0&&(p[y]&192)===128;)y--;return y<0||y===0?m:y+l[p[y]]>m?y:m},b=function(p){var m,y,A,N,E=p.length,T=new Array(E*2);for(y=0,m=0;m<E;){if(A=p[m++],A<128){T[y++]=A;continue}if(N=l[A],N>4){T[y++]=65533,m+=N-1;continue}for(A&=N===2?31:N===3?15:7;N>1&&m<E;)A=A<<6|p[m++]&63,N--;if(N>1){T[y++]=65533;continue}A<65536?T[y++]=A:(A-=65536,T[y++]=55296|A>>10&1023,T[y++]=56320|A&1023)}return T.length!==y&&(T.subarray?T=T.subarray(0,y):T.length=y),n.applyFromCharCode(T)};i.utf8encode=function(m){return a.nodebuffer?o.newBufferFrom(m,"utf-8"):d(m)},i.utf8decode=function(m){return a.nodebuffer?n.transformTo("nodebuffer",m).toString("utf-8"):(m=n.transformTo(a.uint8array?"uint8array":"array",m),b(m))};function _(){u.call(this,"utf-8 decode"),this.leftOver=null}n.inherits(_,u),_.prototype.processChunk=function(p){var m=n.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var y=m;m=new Uint8Array(y.length+this.leftOver.length),m.set(this.leftOver,0),m.set(y,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var A=v(m),N=m;A!==m.length&&(a.uint8array?(N=m.subarray(0,A),this.leftOver=m.subarray(A,m.length)):(N=m.slice(0,A),this.leftOver=m.slice(A,m.length))),this.push({data:i.utf8decode(N),meta:p.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=_;function w(){u.call(this,"utf-8 encode")}n.inherits(w,u),w.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var n=t("./support"),a=t("./base64"),o=t("./nodejsUtils"),u=t("./external");t("setimmediate");function l(p){var m=null;return n.uint8array?m=new Uint8Array(p.length):m=new Array(p.length),d(p,m)}i.newBlob=function(p,m){i.checkSupport("blob");try{return new Blob([p],{type:m})}catch{try{var y=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,A=new y;return A.append(p),A.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};function c(p){return p}function d(p,m){for(var y=0;y<p.length;++y)m[y]=p.charCodeAt(y)&255;return m}var v={stringifyByChunk:function(p,m,y){var A=[],N=0,E=p.length;if(E<=y)return String.fromCharCode.apply(null,p);for(;N<E;)m==="array"||m==="nodebuffer"?A.push(String.fromCharCode.apply(null,p.slice(N,Math.min(N+y,E)))):A.push(String.fromCharCode.apply(null,p.subarray(N,Math.min(N+y,E)))),N+=y;return A.join("")},stringifyByChar:function(p){for(var m="",y=0;y<p.length;y++)m+=String.fromCharCode(p[y]);return m},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function b(p){var m=65536,y=i.getTypeOf(p),A=!0;if(y==="uint8array"?A=v.applyCanBeUsed.uint8array:y==="nodebuffer"&&(A=v.applyCanBeUsed.nodebuffer),A)for(;m>1;)try{return v.stringifyByChunk(p,y,m)}catch{m=Math.floor(m/2)}return v.stringifyByChar(p)}i.applyFromCharCode=b;function _(p,m){for(var y=0;y<p.length;y++)m[y]=p[y];return m}var w={};w.string={string:c,array:function(p){return d(p,new Array(p.length))},arraybuffer:function(p){return w.string.uint8array(p).buffer},uint8array:function(p){return d(p,new Uint8Array(p.length))},nodebuffer:function(p){return d(p,o.allocBuffer(p.length))}},w.array={string:b,array:c,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(p)}},w.arraybuffer={string:function(p){return b(new Uint8Array(p))},array:function(p){return _(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:c,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(new Uint8Array(p))}},w.uint8array={string:b,array:function(p){return _(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:c,nodebuffer:function(p){return o.newBufferFrom(p)}},w.nodebuffer={string:b,array:function(p){return _(p,new Array(p.length))},arraybuffer:function(p){return w.nodebuffer.uint8array(p).buffer},uint8array:function(p){return _(p,new Uint8Array(p.length))},nodebuffer:c},i.transformTo=function(p,m){if(m||(m=""),!p)return m;i.checkSupport(p);var y=i.getTypeOf(m),A=w[y][p](m);return A},i.resolve=function(p){for(var m=p.split("/"),y=[],A=0;A<m.length;A++){var N=m[A];N==="."||N===""&&A!==0&&A!==m.length-1||(N===".."?y.pop():y.push(N))}return y.join("/")},i.getTypeOf=function(p){if(typeof p=="string")return"string";if(Object.prototype.toString.call(p)==="[object Array]")return"array";if(n.nodebuffer&&o.isBuffer(p))return"nodebuffer";if(n.uint8array&&p instanceof Uint8Array)return"uint8array";if(n.arraybuffer&&p instanceof ArrayBuffer)return"arraybuffer"},i.checkSupport=function(p){var m=n[p.toLowerCase()];if(!m)throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var m="",y,A;for(A=0;A<(p||"").length;A++)y=p.charCodeAt(A),m+="\\x"+(y<16?"0":"")+y.toString(16).toUpperCase();return m},i.delay=function(p,m,y){setImmediate(function(){p.apply(y||null,m||[])})},i.inherits=function(p,m){var y=function(){};y.prototype=m.prototype,p.prototype=new y},i.extend=function(){var p={},m,y;for(m=0;m<arguments.length;m++)for(y in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],y)&&typeof p[y]>"u"&&(p[y]=arguments[m][y]);return p},i.prepareContent=function(p,m,y,A,N){var E=u.Promise.resolve(m).then(function(T){var O=n.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1);return O&&typeof FileReader<"u"?new u.Promise(function(I,R){var L=new FileReader;L.onload=function(Y){I(Y.target.result)},L.onerror=function(Y){R(Y.target.error)},L.readAsArrayBuffer(T)}):T});return E.then(function(T){var O=i.getTypeOf(T);return O?(O==="arraybuffer"?T=i.transformTo("uint8array",T):O==="string"&&(N?T=a.decode(T):y&&A!==!0&&(T=l(T))),T):u.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var n=t("./reader/readerFor"),a=t("./utils"),o=t("./signature"),u=t("./zipEntry"),l=t("./support");function c(d){this.files=[],this.loadOptions=d}c.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(v)+", expected "+a.pretty(d)+")")}},isSignature:function(d,v){var b=this.reader.index;this.reader.setIndex(d);var _=this.reader.readString(4),w=_===v;return this.reader.setIndex(b),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),v=l.uint8array?"uint8array":"array",b=a.transformTo(v,d);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d=this.zip64EndOfCentralSize-44,v=0,b,_,w;v<d;)b=this.reader.readInt(2),_=this.reader.readInt(4),w=this.reader.readData(_),this.zip64ExtensibleData[b]={id:b,length:_,value:w}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,v;for(d=0;d<this.files.length;d++)v=this.files[d],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)d=new u({zip64:this.zip64},this.loadOptions),d.readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(d<0){var v=!this.isSignature(0,o.LOCAL_FILE_HEADER);throw v?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(d);var b=d;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,d=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),d<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _=this.centralDirOffset+this.centralDirSize;this.zip64&&(_+=20,_+=12+this.zip64EndOfCentralSize);var w=b-_;if(w>0)this.isSignature(b,o.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(d){this.reader=n(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var n=t("./reader/readerFor"),a=t("./utils"),o=t("./compressedObject"),u=t("./crc32"),l=t("./utf8"),c=t("./compressions"),d=t("./support"),v=0,b=3,_=function(p){for(var m in c)if(Object.prototype.hasOwnProperty.call(c,m)&&c[m].magic===p)return c[m];return null};function w(p,m){this.options=p,this.loadOptions=m}w.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(p){var m,y;if(p.skip(22),this.fileNameLength=p.readInt(2),y=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(m=_(this.compressionMethod),m===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,m,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var m=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(m),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),p===v&&(this.dosPermissions=this.externalFileAttributes&63),p===b&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=n(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var m=p.index+this.extraFieldsLength,y,A,N;for(this.extraFields||(this.extraFields={});p.index+4<m;)y=p.readInt(2),A=p.readInt(2),N=p.readData(A),this.extraFields[y]={id:y,length:A,value:N};p.setIndex(m)},handleUTF8:function(){var p=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var y=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var N=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(N)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var m=n(p.value);return m.readInt(1)!==1||u(this.fileName)!==m.readInt(4)?null:l.utf8decode(m.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var m=n(p.value);return m.readInt(1)!==1||u(this.fileComment)!==m.readInt(4)?null:l.utf8decode(m.readData(p.length-5))}return null}},r.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){var n=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),o=t("./utf8"),u=t("./compressedObject"),l=t("./stream/GenericWorker"),c=function(_,w,p){this.name=_,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=w,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}};c.prototype={internalStream:function(_){var w=null,p="string";try{if(!_)throw new Error("No output type specified.");p=_.toLowerCase();var m=p==="string"||p==="text";(p==="binarystring"||p==="text")&&(p="string"),w=this._decompressWorker();var y=!this._dataBinary;y&&!m&&(w=w.pipe(new o.Utf8EncodeWorker)),!y&&m&&(w=w.pipe(new o.Utf8DecodeWorker))}catch(A){w=new l("error"),w.error(A)}return new n(w,p,"")},async:function(_,w){return this.internalStream(_).accumulate(w)},nodeStream:function(_,w){return this.internalStream(_||"nodebuffer").toNodejsStream(w)},_compressWorker:function(_,w){if(this._data instanceof u&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new o.Utf8EncodeWorker)),u.createWorkerFrom(p,_,w)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},b=0;b<d.length;b++)c.prototype[d[b]]=v;r.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(n){var a=n.MutationObserver||n.WebKitMutationObserver,o;if(a){var u=0,l=new a(_),c=n.document.createTextNode("");l.observe(c,{characterData:!0}),o=function(){c.data=u=++u%2}}else if(!n.setImmediate&&typeof n.MessageChannel<"u"){var d=new n.MessageChannel;d.port1.onmessage=_,o=function(){d.port2.postMessage(0)}}else"document"in n&&"onreadystatechange"in n.document.createElement("script")?o=function(){var p=n.document.createElement("script");p.onreadystatechange=function(){_(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},n.document.documentElement.appendChild(p)}:o=function(){setTimeout(_,0)};var v,b=[];function _(){v=!0;for(var p,m,y=b.length;y;){for(m=b,b=[],p=-1;++p<y;)m[p]();y=b.length}v=!1}r.exports=w;function w(p){b.push(p)===1&&!v&&o()}}).call(this,typeof Ot<"u"?Ot:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var n=t("immediate");function a(){}var o={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=d;function d(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,E!==a&&w(this,E)}d.prototype.finally=function(E){if(typeof E!="function")return this;var T=this.constructor;return this.then(O,I);function O(R){function L(){return R}return T.resolve(E()).then(L)}function I(R){function L(){throw R}return T.resolve(E()).then(L)}},d.prototype.catch=function(E){return this.then(null,E)},d.prototype.then=function(E,T){if(typeof E!="function"&&this.state===l||typeof T!="function"&&this.state===u)return this;var O=new this.constructor(a);if(this.state!==c){var I=this.state===l?E:T;b(O,I,this.outcome)}else this.queue.push(new v(O,E,T));return O};function v(E,T,O){this.promise=E,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(E){o.resolve(this.promise,E)},v.prototype.otherCallFulfilled=function(E){b(this.promise,this.onFulfilled,E)},v.prototype.callRejected=function(E){o.reject(this.promise,E)},v.prototype.otherCallRejected=function(E){b(this.promise,this.onRejected,E)};function b(E,T,O){n(function(){var I;try{I=T(O)}catch(R){return o.reject(E,R)}I===E?o.reject(E,new TypeError("Cannot resolve promise with itself")):o.resolve(E,I)})}o.resolve=function(E,T){var O=p(_,T);if(O.status==="error")return o.reject(E,O.value);var I=O.value;if(I)w(E,I);else{E.state=l,E.outcome=T;for(var R=-1,L=E.queue.length;++R<L;)E.queue[R].callFulfilled(T)}return E},o.reject=function(E,T){E.state=u,E.outcome=T;for(var O=-1,I=E.queue.length;++O<I;)E.queue[O].callRejected(T);return E};function _(E){var T=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof T=="function")return function(){T.apply(E,arguments)}}function w(E,T){var O=!1;function I(q){O||(O=!0,o.reject(E,q))}function R(q){O||(O=!0,o.resolve(E,q))}function L(){T(R,I)}var Y=p(L);Y.status==="error"&&I(Y.value)}function p(E,T){var O={};try{O.value=E(T),O.status="success"}catch(I){O.status="error",O.value=I}return O}d.resolve=m;function m(E){return E instanceof this?E:o.resolve(new this(a),E)}d.reject=y;function y(E){var T=new this(a);return o.reject(T,E)}d.all=A;function A(E){var T=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=E.length,I=!1;if(!O)return this.resolve([]);for(var R=new Array(O),L=0,Y=-1,q=new this(a);++Y<O;)G(E[Y],Y);return q;function G(ee,re){T.resolve(ee).then(fe,function(te){I||(I=!0,o.reject(q,te))});function fe(te){R[re]=te,++L===O&&!I&&(I=!0,o.resolve(q,R))}}}d.race=N;function N(E){var T=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=E.length,I=!1;if(!O)return this.resolve([]);for(var R=-1,L=new this(a);++R<O;)Y(E[R]);return L;function Y(q){T.resolve(q).then(function(G){I||(I=!0,o.resolve(L,G))},function(G){I||(I=!0,o.reject(L,G))})}}},{immediate:36}],38:[function(t,r,i){var n=t("./lib/utils/common").assign,a=t("./lib/deflate"),o=t("./lib/inflate"),u=t("./lib/zlib/constants"),l={};n(l,a,o,u),r.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var n=t("./zlib/deflate"),a=t("./utils/common"),o=t("./utils/strings"),u=t("./zlib/messages"),l=t("./zlib/zstream"),c=Object.prototype.toString,d=0,v=4,b=0,_=1,w=2,p=-1,m=0,y=8;function A(O){if(!(this instanceof A))return new A(O);this.options=a.assign({level:p,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},O||{});var I=this.options;I.raw&&I.windowBits>0?I.windowBits=-I.windowBits:I.gzip&&I.windowBits>0&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var R=n.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(R!==b)throw new Error(u[R]);if(I.header&&n.deflateSetHeader(this.strm,I.header),I.dictionary){var L;if(typeof I.dictionary=="string"?L=o.string2buf(I.dictionary):c.call(I.dictionary)==="[object ArrayBuffer]"?L=new Uint8Array(I.dictionary):L=I.dictionary,R=n.deflateSetDictionary(this.strm,L),R!==b)throw new Error(u[R]);this._dict_set=!0}}A.prototype.push=function(O,I){var R=this.strm,L=this.options.chunkSize,Y,q;if(this.ended)return!1;q=I===~~I?I:I===!0?v:d,typeof O=="string"?R.input=o.string2buf(O):c.call(O)==="[object ArrayBuffer]"?R.input=new Uint8Array(O):R.input=O,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new a.Buf8(L),R.next_out=0,R.avail_out=L),Y=n.deflate(R,q),Y!==_&&Y!==b)return this.onEnd(Y),this.ended=!0,!1;(R.avail_out===0||R.avail_in===0&&(q===v||q===w))&&(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(R.output,R.next_out))):this.onData(a.shrinkBuf(R.output,R.next_out)))}while((R.avail_in>0||R.avail_out===0)&&Y!==_);return q===v?(Y=n.deflateEnd(this.strm),this.onEnd(Y),this.ended=!0,Y===b):(q===w&&(this.onEnd(b),R.avail_out=0),!0)},A.prototype.onData=function(O){this.chunks.push(O)},A.prototype.onEnd=function(O){O===b&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg};function N(O,I){var R=new A(I);if(R.push(O,!0),R.err)throw R.msg||u[R.err];return R.result}function E(O,I){return I=I||{},I.raw=!0,N(O,I)}function T(O,I){return I=I||{},I.gzip=!0,N(O,I)}i.Deflate=A,i.deflate=N,i.deflateRaw=E,i.gzip=T},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var n=t("./zlib/inflate"),a=t("./utils/common"),o=t("./utils/strings"),u=t("./zlib/constants"),l=t("./zlib/messages"),c=t("./zlib/zstream"),d=t("./zlib/gzheader"),v=Object.prototype.toString;function b(p){if(!(this instanceof b))return new b(p);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},p||{});var m=this.options;m.raw&&m.windowBits>=0&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),m.windowBits>=0&&m.windowBits<16&&!(p&&p.windowBits)&&(m.windowBits+=32),m.windowBits>15&&m.windowBits<48&&(m.windowBits&15)===0&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var y=n.inflateInit2(this.strm,m.windowBits);if(y!==u.Z_OK)throw new Error(l[y]);this.header=new d,n.inflateGetHeader(this.strm,this.header)}b.prototype.push=function(p,m){var y=this.strm,A=this.options.chunkSize,N=this.options.dictionary,E,T,O,I,R,L,Y=!1;if(this.ended)return!1;T=m===~~m?m:m===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof p=="string"?y.input=o.binstring2buf(p):v.call(p)==="[object ArrayBuffer]"?y.input=new Uint8Array(p):y.input=p,y.next_in=0,y.avail_in=y.input.length;do{if(y.avail_out===0&&(y.output=new a.Buf8(A),y.next_out=0,y.avail_out=A),E=n.inflate(y,u.Z_NO_FLUSH),E===u.Z_NEED_DICT&&N&&(typeof N=="string"?L=o.string2buf(N):v.call(N)==="[object ArrayBuffer]"?L=new Uint8Array(N):L=N,E=n.inflateSetDictionary(this.strm,L)),E===u.Z_BUF_ERROR&&Y===!0&&(E=u.Z_OK,Y=!1),E!==u.Z_STREAM_END&&E!==u.Z_OK)return this.onEnd(E),this.ended=!0,!1;y.next_out&&(y.avail_out===0||E===u.Z_STREAM_END||y.avail_in===0&&(T===u.Z_FINISH||T===u.Z_SYNC_FLUSH))&&(this.options.to==="string"?(O=o.utf8border(y.output,y.next_out),I=y.next_out-O,R=o.buf2string(y.output,O),y.next_out=I,y.avail_out=A-I,I&&a.arraySet(y.output,y.output,O,I,0),this.onData(R)):this.onData(a.shrinkBuf(y.output,y.next_out))),y.avail_in===0&&y.avail_out===0&&(Y=!0)}while((y.avail_in>0||y.avail_out===0)&&E!==u.Z_STREAM_END);return E===u.Z_STREAM_END&&(T=u.Z_FINISH),T===u.Z_FINISH?(E=n.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===u.Z_OK):(T===u.Z_SYNC_FLUSH&&(this.onEnd(u.Z_OK),y.avail_out=0),!0)},b.prototype.onData=function(p){this.chunks.push(p)},b.prototype.onEnd=function(p){p===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg};function _(p,m){var y=new b(m);if(y.push(p,!0),y.err)throw y.msg||l[y.err];return y.result}function w(p,m){return m=m||{},m.raw=!0,_(p,m)}i.Inflate=b,i.inflate=_,i.inflateRaw=w,i.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var c=l.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])}}return u},i.shrinkBuf=function(u,l){return u.length===l?u:u.subarray?u.subarray(0,l):(u.length=l,u)};var a={arraySet:function(u,l,c,d,v){if(l.subarray&&u.subarray){u.set(l.subarray(c,c+d),v);return}for(var b=0;b<d;b++)u[v+b]=l[c+b]},flattenChunks:function(u){var l,c,d,v,b,_;for(d=0,l=0,c=u.length;l<c;l++)d+=u[l].length;for(_=new Uint8Array(d),v=0,l=0,c=u.length;l<c;l++)b=u[l],_.set(b,v),v+=b.length;return _}},o={arraySet:function(u,l,c,d,v){for(var b=0;b<d;b++)u[v+b]=l[c+b]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(n)},{}],42:[function(t,r,i){var n=t("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var u=new n.Buf8(256),l=0;l<256;l++)u[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;u[254]=u[254]=1,i.string2buf=function(d){var v,b,_,w,p,m=d.length,y=0;for(w=0;w<m;w++)b=d.charCodeAt(w),(b&64512)===55296&&w+1<m&&(_=d.charCodeAt(w+1),(_&64512)===56320&&(b=65536+(b-55296<<10)+(_-56320),w++)),y+=b<128?1:b<2048?2:b<65536?3:4;for(v=new n.Buf8(y),p=0,w=0;p<y;w++)b=d.charCodeAt(w),(b&64512)===55296&&w+1<m&&(_=d.charCodeAt(w+1),(_&64512)===56320&&(b=65536+(b-55296<<10)+(_-56320),w++)),b<128?v[p++]=b:b<2048?(v[p++]=192|b>>>6,v[p++]=128|b&63):b<65536?(v[p++]=224|b>>>12,v[p++]=128|b>>>6&63,v[p++]=128|b&63):(v[p++]=240|b>>>18,v[p++]=128|b>>>12&63,v[p++]=128|b>>>6&63,v[p++]=128|b&63);return v};function c(d,v){if(v<65537&&(d.subarray&&o||!d.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(d,v));for(var b="",_=0;_<v;_++)b+=String.fromCharCode(d[_]);return b}i.buf2binstring=function(d){return c(d,d.length)},i.binstring2buf=function(d){for(var v=new n.Buf8(d.length),b=0,_=v.length;b<_;b++)v[b]=d.charCodeAt(b);return v},i.buf2string=function(d,v){var b,_,w,p,m=v||d.length,y=new Array(m*2);for(_=0,b=0;b<m;){if(w=d[b++],w<128){y[_++]=w;continue}if(p=u[w],p>4){y[_++]=65533,b+=p-1;continue}for(w&=p===2?31:p===3?15:7;p>1&&b<m;)w=w<<6|d[b++]&63,p--;if(p>1){y[_++]=65533;continue}w<65536?y[_++]=w:(w-=65536,y[_++]=55296|w>>10&1023,y[_++]=56320|w&1023)}return c(y,_)},i.utf8border=function(d,v){var b;for(v=v||d.length,v>d.length&&(v=d.length),b=v-1;b>=0&&(d[b]&192)===128;)b--;return b<0||b===0?v:b+u[d[b]]>v?b:v}},{"./common":41}],43:[function(t,r,i){function n(a,o,u,l){for(var c=a&65535|0,d=a>>>16&65535|0,v=0;u!==0;){v=u>2e3?2e3:u,u-=v;do c=c+o[l++]|0,d=d+c|0;while(--v);c%=65521,d%=65521}return c|d<<16|0}r.exports=n},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){function n(){for(var u,l=[],c=0;c<256;c++){u=c;for(var d=0;d<8;d++)u=u&1?3988292384^u>>>1:u>>>1;l[c]=u}return l}var a=n();function o(u,l,c,d){var v=a,b=d+c;u^=-1;for(var _=d;_<b;_++)u=u>>>8^v[(u^l[_])&255];return u^-1}r.exports=o},{}],46:[function(t,r,i){var n=t("../utils/common"),a=t("./trees"),o=t("./adler32"),u=t("./crc32"),l=t("./messages"),c=0,d=1,v=3,b=4,_=5,w=0,p=1,m=-2,y=-3,A=-5,N=-1,E=1,T=2,O=3,I=4,R=0,L=2,Y=8,q=9,G=15,ee=8,re=29,fe=256,te=fe+1+re,W=30,X=19,oe=2*te+1,K=15,ne=3,Ee=258,ve=Ee+ne+1,ke=32,Ue=42,Fe=69,we=73,We=91,$e=103,De=113,Le=666,Re=1,Be=2,Ge=3,je=4,Pe=3;function Xe(h,M){return h.msg=l[M],M}function st(h){return(h<<1)-(h>4?9:0)}function rt(h){for(var M=h.length;--M>=0;)h[M]=0}function _e(h){var M=h.state,V=M.pending;V>h.avail_out&&(V=h.avail_out),V!==0&&(n.arraySet(h.output,M.pending_buf,M.pending_out,V,h.next_out),h.next_out+=V,M.pending_out+=V,h.total_out+=V,h.avail_out-=V,M.pending-=V,M.pending===0&&(M.pending_out=0))}function Ce(h,M){a._tr_flush_block(h,h.block_start>=0?h.block_start:-1,h.strstart-h.block_start,M),h.block_start=h.strstart,_e(h.strm)}function xe(h,M){h.pending_buf[h.pending++]=M}function lt(h,M){h.pending_buf[h.pending++]=M>>>8&255,h.pending_buf[h.pending++]=M&255}function At(h,M,V,x){var P=h.avail_in;return P>x&&(P=x),P===0?0:(h.avail_in-=P,n.arraySet(M,h.input,h.next_in,P,V),h.state.wrap===1?h.adler=o(h.adler,M,P,V):h.state.wrap===2&&(h.adler=u(h.adler,M,P,V)),h.next_in+=P,h.total_in+=P,P)}function mt(h,M){var V=h.max_chain_length,x=h.strstart,P,$,me=h.prev_length,he=h.nice_match,de=h.strstart>h.w_size-ve?h.strstart-(h.w_size-ve):0,Se=h.window,Qe=h.w_mask,qe=h.prev,Oe=h.strstart+Ee,Ne=Se[x+me-1],it=Se[x+me];h.prev_length>=h.good_match&&(V>>=2),he>h.lookahead&&(he=h.lookahead);do if(P=M,!(Se[P+me]!==it||Se[P+me-1]!==Ne||Se[P]!==Se[x]||Se[++P]!==Se[x+1])){x+=2,P++;do;while(Se[++x]===Se[++P]&&Se[++x]===Se[++P]&&Se[++x]===Se[++P]&&Se[++x]===Se[++P]&&Se[++x]===Se[++P]&&Se[++x]===Se[++P]&&Se[++x]===Se[++P]&&Se[++x]===Se[++P]&&x<Oe);if($=Ee-(Oe-x),x=Oe-Ee,$>me){if(h.match_start=M,me=$,$>=he)break;Ne=Se[x+me-1],it=Se[x+me]}}while((M=qe[M&Qe])>de&&--V!==0);return me<=h.lookahead?me:h.lookahead}function at(h){var M=h.w_size,V,x,P,$,me;do{if($=h.window_size-h.lookahead-h.strstart,h.strstart>=M+(M-ve)){n.arraySet(h.window,h.window,M,M,0),h.match_start-=M,h.strstart-=M,h.block_start-=M,x=h.hash_size,V=x;do P=h.head[--V],h.head[V]=P>=M?P-M:0;while(--x);x=M,V=x;do P=h.prev[--V],h.prev[V]=P>=M?P-M:0;while(--x);$+=M}if(h.strm.avail_in===0)break;if(x=At(h.strm,h.window,h.strstart+h.lookahead,$),h.lookahead+=x,h.lookahead+h.insert>=ne)for(me=h.strstart-h.insert,h.ins_h=h.window[me],h.ins_h=(h.ins_h<<h.hash_shift^h.window[me+1])&h.hash_mask;h.insert&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[me+ne-1])&h.hash_mask,h.prev[me&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=me,me++,h.insert--,!(h.lookahead+h.insert<ne)););}while(h.lookahead<ve&&h.strm.avail_in!==0)}function Ct(h,M){var V=65535;for(V>h.pending_buf_size-5&&(V=h.pending_buf_size-5);;){if(h.lookahead<=1){if(at(h),h.lookahead===0&&M===c)return Re;if(h.lookahead===0)break}h.strstart+=h.lookahead,h.lookahead=0;var x=h.block_start+V;if((h.strstart===0||h.strstart>=x)&&(h.lookahead=h.strstart-x,h.strstart=x,Ce(h,!1),h.strm.avail_out===0)||h.strstart-h.block_start>=h.w_size-ve&&(Ce(h,!1),h.strm.avail_out===0))return Re}return h.insert=0,M===b?(Ce(h,!0),h.strm.avail_out===0?Ge:je):(h.strstart>h.block_start&&(Ce(h,!1),h.strm.avail_out===0),Re)}function bt(h,M){for(var V,x;;){if(h.lookahead<ve){if(at(h),h.lookahead<ve&&M===c)return Re;if(h.lookahead===0)break}if(V=0,h.lookahead>=ne&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+ne-1])&h.hash_mask,V=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),V!==0&&h.strstart-V<=h.w_size-ve&&(h.match_length=mt(h,V)),h.match_length>=ne)if(x=a._tr_tally(h,h.strstart-h.match_start,h.match_length-ne),h.lookahead-=h.match_length,h.match_length<=h.max_lazy_match&&h.lookahead>=ne){h.match_length--;do h.strstart++,h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+ne-1])&h.hash_mask,V=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart;while(--h.match_length!==0);h.strstart++}else h.strstart+=h.match_length,h.match_length=0,h.ins_h=h.window[h.strstart],h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+1])&h.hash_mask;else x=a._tr_tally(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++;if(x&&(Ce(h,!1),h.strm.avail_out===0))return Re}return h.insert=h.strstart<ne-1?h.strstart:ne-1,M===b?(Ce(h,!0),h.strm.avail_out===0?Ge:je):h.last_lit&&(Ce(h,!1),h.strm.avail_out===0)?Re:Be}function ct(h,M){for(var V,x,P;;){if(h.lookahead<ve){if(at(h),h.lookahead<ve&&M===c)return Re;if(h.lookahead===0)break}if(V=0,h.lookahead>=ne&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+ne-1])&h.hash_mask,V=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),h.prev_length=h.match_length,h.prev_match=h.match_start,h.match_length=ne-1,V!==0&&h.prev_length<h.max_lazy_match&&h.strstart-V<=h.w_size-ve&&(h.match_length=mt(h,V),h.match_length<=5&&(h.strategy===E||h.match_length===ne&&h.strstart-h.match_start>4096)&&(h.match_length=ne-1)),h.prev_length>=ne&&h.match_length<=h.prev_length){P=h.strstart+h.lookahead-ne,x=a._tr_tally(h,h.strstart-1-h.prev_match,h.prev_length-ne),h.lookahead-=h.prev_length-1,h.prev_length-=2;do++h.strstart<=P&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+ne-1])&h.hash_mask,V=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart);while(--h.prev_length!==0);if(h.match_available=0,h.match_length=ne-1,h.strstart++,x&&(Ce(h,!1),h.strm.avail_out===0))return Re}else if(h.match_available){if(x=a._tr_tally(h,0,h.window[h.strstart-1]),x&&Ce(h,!1),h.strstart++,h.lookahead--,h.strm.avail_out===0)return Re}else h.match_available=1,h.strstart++,h.lookahead--}return h.match_available&&(x=a._tr_tally(h,0,h.window[h.strstart-1]),h.match_available=0),h.insert=h.strstart<ne-1?h.strstart:ne-1,M===b?(Ce(h,!0),h.strm.avail_out===0?Ge:je):h.last_lit&&(Ce(h,!1),h.strm.avail_out===0)?Re:Be}function wt(h,M){for(var V,x,P,$,me=h.window;;){if(h.lookahead<=Ee){if(at(h),h.lookahead<=Ee&&M===c)return Re;if(h.lookahead===0)break}if(h.match_length=0,h.lookahead>=ne&&h.strstart>0&&(P=h.strstart-1,x=me[P],x===me[++P]&&x===me[++P]&&x===me[++P])){$=h.strstart+Ee;do;while(x===me[++P]&&x===me[++P]&&x===me[++P]&&x===me[++P]&&x===me[++P]&&x===me[++P]&&x===me[++P]&&x===me[++P]&&P<$);h.match_length=Ee-($-P),h.match_length>h.lookahead&&(h.match_length=h.lookahead)}if(h.match_length>=ne?(V=a._tr_tally(h,1,h.match_length-ne),h.lookahead-=h.match_length,h.strstart+=h.match_length,h.match_length=0):(V=a._tr_tally(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++),V&&(Ce(h,!1),h.strm.avail_out===0))return Re}return h.insert=0,M===b?(Ce(h,!0),h.strm.avail_out===0?Ge:je):h.last_lit&&(Ce(h,!1),h.strm.avail_out===0)?Re:Be}function vt(h,M){for(var V;;){if(h.lookahead===0&&(at(h),h.lookahead===0)){if(M===c)return Re;break}if(h.match_length=0,V=a._tr_tally(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++,V&&(Ce(h,!1),h.strm.avail_out===0))return Re}return h.insert=0,M===b?(Ce(h,!0),h.strm.avail_out===0?Ge:je):h.last_lit&&(Ce(h,!1),h.strm.avail_out===0)?Re:Be}function Je(h,M,V,x,P){this.good_length=h,this.max_lazy=M,this.nice_length=V,this.max_chain=x,this.func=P}var ht;ht=[new Je(0,0,0,0,Ct),new Je(4,4,8,4,bt),new Je(4,5,16,8,bt),new Je(4,6,32,32,bt),new Je(4,4,16,16,ct),new Je(8,16,32,32,ct),new Je(8,16,128,128,ct),new Je(8,32,128,256,ct),new Je(32,128,258,1024,ct),new Je(32,258,258,4096,ct)];function Rt(h){h.window_size=2*h.w_size,rt(h.head),h.max_lazy_match=ht[h.level].max_lazy,h.good_match=ht[h.level].good_length,h.nice_match=ht[h.level].nice_length,h.max_chain_length=ht[h.level].max_chain,h.strstart=0,h.block_start=0,h.lookahead=0,h.insert=0,h.match_length=h.prev_length=ne-1,h.match_available=0,h.ins_h=0}function D(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(oe*2),this.dyn_dtree=new n.Buf16((2*W+1)*2),this.bl_tree=new n.Buf16((2*X+1)*2),rt(this.dyn_ltree),rt(this.dyn_dtree),rt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(K+1),this.heap=new n.Buf16(2*te+1),rt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*te+1),rt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Q(h){var M;return!h||!h.state?Xe(h,m):(h.total_in=h.total_out=0,h.data_type=L,M=h.state,M.pending=0,M.pending_out=0,M.wrap<0&&(M.wrap=-M.wrap),M.status=M.wrap?Ue:De,h.adler=M.wrap===2?0:1,M.last_flush=c,a._tr_init(M),w)}function se(h){var M=Q(h);return M===w&&Rt(h.state),M}function ge(h,M){return!h||!h.state||h.state.wrap!==2?m:(h.state.gzhead=M,w)}function B(h,M,V,x,P,$){if(!h)return m;var me=1;if(M===N&&(M=6),x<0?(me=0,x=-x):x>15&&(me=2,x-=16),P<1||P>q||V!==Y||x<8||x>15||M<0||M>9||$<0||$>I)return Xe(h,m);x===8&&(x=9);var he=new D;return h.state=he,he.strm=h,he.wrap=me,he.gzhead=null,he.w_bits=x,he.w_size=1<<he.w_bits,he.w_mask=he.w_size-1,he.hash_bits=P+7,he.hash_size=1<<he.hash_bits,he.hash_mask=he.hash_size-1,he.hash_shift=~~((he.hash_bits+ne-1)/ne),he.window=new n.Buf8(he.w_size*2),he.head=new n.Buf16(he.hash_size),he.prev=new n.Buf16(he.w_size),he.lit_bufsize=1<<P+6,he.pending_buf_size=he.lit_bufsize*4,he.pending_buf=new n.Buf8(he.pending_buf_size),he.d_buf=1*he.lit_bufsize,he.l_buf=3*he.lit_bufsize,he.level=M,he.strategy=$,he.method=V,se(h)}function g(h,M){return B(h,M,Y,G,ee,R)}function f(h,M){var V,x,P,$;if(!h||!h.state||M>_||M<0)return h?Xe(h,m):m;if(x=h.state,!h.output||!h.input&&h.avail_in!==0||x.status===Le&&M!==b)return Xe(h,h.avail_out===0?A:m);if(x.strm=h,V=x.last_flush,x.last_flush=M,x.status===Ue)if(x.wrap===2)h.adler=0,xe(x,31),xe(x,139),xe(x,8),x.gzhead?(xe(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),xe(x,x.gzhead.time&255),xe(x,x.gzhead.time>>8&255),xe(x,x.gzhead.time>>16&255),xe(x,x.gzhead.time>>24&255),xe(x,x.level===9?2:x.strategy>=T||x.level<2?4:0),xe(x,x.gzhead.os&255),x.gzhead.extra&&x.gzhead.extra.length&&(xe(x,x.gzhead.extra.length&255),xe(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(h.adler=u(h.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=Fe):(xe(x,0),xe(x,0),xe(x,0),xe(x,0),xe(x,0),xe(x,x.level===9?2:x.strategy>=T||x.level<2?4:0),xe(x,Pe),x.status=De);else{var me=Y+(x.w_bits-8<<4)<<8,he=-1;x.strategy>=T||x.level<2?he=0:x.level<6?he=1:x.level===6?he=2:he=3,me|=he<<6,x.strstart!==0&&(me|=ke),me+=31-me%31,x.status=De,lt(x,me),x.strstart!==0&&(lt(x,h.adler>>>16),lt(x,h.adler&65535)),h.adler=1}if(x.status===Fe)if(x.gzhead.extra){for(P=x.pending;x.gzindex<(x.gzhead.extra.length&65535)&&!(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>P&&(h.adler=u(h.adler,x.pending_buf,x.pending-P,P)),_e(h),P=x.pending,x.pending===x.pending_buf_size));)xe(x,x.gzhead.extra[x.gzindex]&255),x.gzindex++;x.gzhead.hcrc&&x.pending>P&&(h.adler=u(h.adler,x.pending_buf,x.pending-P,P)),x.gzindex===x.gzhead.extra.length&&(x.gzindex=0,x.status=we)}else x.status=we;if(x.status===we)if(x.gzhead.name){P=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>P&&(h.adler=u(h.adler,x.pending_buf,x.pending-P,P)),_e(h),P=x.pending,x.pending===x.pending_buf_size)){$=1;break}x.gzindex<x.gzhead.name.length?$=x.gzhead.name.charCodeAt(x.gzindex++)&255:$=0,xe(x,$)}while($!==0);x.gzhead.hcrc&&x.pending>P&&(h.adler=u(h.adler,x.pending_buf,x.pending-P,P)),$===0&&(x.gzindex=0,x.status=We)}else x.status=We;if(x.status===We)if(x.gzhead.comment){P=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>P&&(h.adler=u(h.adler,x.pending_buf,x.pending-P,P)),_e(h),P=x.pending,x.pending===x.pending_buf_size)){$=1;break}x.gzindex<x.gzhead.comment.length?$=x.gzhead.comment.charCodeAt(x.gzindex++)&255:$=0,xe(x,$)}while($!==0);x.gzhead.hcrc&&x.pending>P&&(h.adler=u(h.adler,x.pending_buf,x.pending-P,P)),$===0&&(x.status=$e)}else x.status=$e;if(x.status===$e&&(x.gzhead.hcrc?(x.pending+2>x.pending_buf_size&&_e(h),x.pending+2<=x.pending_buf_size&&(xe(x,h.adler&255),xe(x,h.adler>>8&255),h.adler=0,x.status=De)):x.status=De),x.pending!==0){if(_e(h),h.avail_out===0)return x.last_flush=-1,w}else if(h.avail_in===0&&st(M)<=st(V)&&M!==b)return Xe(h,A);if(x.status===Le&&h.avail_in!==0)return Xe(h,A);if(h.avail_in!==0||x.lookahead!==0||M!==c&&x.status!==Le){var de=x.strategy===T?vt(x,M):x.strategy===O?wt(x,M):ht[x.level].func(x,M);if((de===Ge||de===je)&&(x.status=Le),de===Re||de===Ge)return h.avail_out===0&&(x.last_flush=-1),w;if(de===Be&&(M===d?a._tr_align(x):M!==_&&(a._tr_stored_block(x,0,0,!1),M===v&&(rt(x.head),x.lookahead===0&&(x.strstart=0,x.block_start=0,x.insert=0))),_e(h),h.avail_out===0))return x.last_flush=-1,w}return M!==b?w:x.wrap<=0?p:(x.wrap===2?(xe(x,h.adler&255),xe(x,h.adler>>8&255),xe(x,h.adler>>16&255),xe(x,h.adler>>24&255),xe(x,h.total_in&255),xe(x,h.total_in>>8&255),xe(x,h.total_in>>16&255),xe(x,h.total_in>>24&255)):(lt(x,h.adler>>>16),lt(x,h.adler&65535)),_e(h),x.wrap>0&&(x.wrap=-x.wrap),x.pending!==0?w:p)}function S(h){var M;return!h||!h.state?m:(M=h.state.status,M!==Ue&&M!==Fe&&M!==we&&M!==We&&M!==$e&&M!==De&&M!==Le?Xe(h,m):(h.state=null,M===De?Xe(h,y):w))}function z(h,M){var V=M.length,x,P,$,me,he,de,Se,Qe;if(!h||!h.state||(x=h.state,me=x.wrap,me===2||me===1&&x.status!==Ue||x.lookahead))return m;for(me===1&&(h.adler=o(h.adler,M,V,0)),x.wrap=0,V>=x.w_size&&(me===0&&(rt(x.head),x.strstart=0,x.block_start=0,x.insert=0),Qe=new n.Buf8(x.w_size),n.arraySet(Qe,M,V-x.w_size,x.w_size,0),M=Qe,V=x.w_size),he=h.avail_in,de=h.next_in,Se=h.input,h.avail_in=V,h.next_in=0,h.input=M,at(x);x.lookahead>=ne;){P=x.strstart,$=x.lookahead-(ne-1);do x.ins_h=(x.ins_h<<x.hash_shift^x.window[P+ne-1])&x.hash_mask,x.prev[P&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=P,P++;while(--$);x.strstart=P,x.lookahead=ne-1,at(x)}return x.strstart+=x.lookahead,x.block_start=x.strstart,x.insert=x.lookahead,x.lookahead=0,x.match_length=x.prev_length=ne-1,x.match_available=0,h.next_in=de,h.input=Se,h.avail_in=he,x.wrap=me,w}i.deflateInit=g,i.deflateInit2=B,i.deflateReset=se,i.deflateResetKeep=Q,i.deflateSetHeader=ge,i.deflate=f,i.deflateEnd=S,i.deflateSetDictionary=z,i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}r.exports=n},{}],48:[function(t,r,i){var n=30,a=12;r.exports=function(u,l){var c,d,v,b,_,w,p,m,y,A,N,E,T,O,I,R,L,Y,q,G,ee,re,fe,te,W;c=u.state,d=u.next_in,te=u.input,v=d+(u.avail_in-5),b=u.next_out,W=u.output,_=b-(l-u.avail_out),w=b+(u.avail_out-257),p=c.dmax,m=c.wsize,y=c.whave,A=c.wnext,N=c.window,E=c.hold,T=c.bits,O=c.lencode,I=c.distcode,R=(1<<c.lenbits)-1,L=(1<<c.distbits)-1;e:do{T<15&&(E+=te[d++]<<T,T+=8,E+=te[d++]<<T,T+=8),Y=O[E&R];t:for(;;){if(q=Y>>>24,E>>>=q,T-=q,q=Y>>>16&255,q===0)W[b++]=Y&65535;else if(q&16){G=Y&65535,q&=15,q&&(T<q&&(E+=te[d++]<<T,T+=8),G+=E&(1<<q)-1,E>>>=q,T-=q),T<15&&(E+=te[d++]<<T,T+=8,E+=te[d++]<<T,T+=8),Y=I[E&L];r:for(;;){if(q=Y>>>24,E>>>=q,T-=q,q=Y>>>16&255,q&16){if(ee=Y&65535,q&=15,T<q&&(E+=te[d++]<<T,T+=8,T<q&&(E+=te[d++]<<T,T+=8)),ee+=E&(1<<q)-1,ee>p){u.msg="invalid distance too far back",c.mode=n;break e}if(E>>>=q,T-=q,q=b-_,ee>q){if(q=ee-q,q>y&&c.sane){u.msg="invalid distance too far back",c.mode=n;break e}if(re=0,fe=N,A===0){if(re+=m-q,q<G){G-=q;do W[b++]=N[re++];while(--q);re=b-ee,fe=W}}else if(A<q){if(re+=m+A-q,q-=A,q<G){G-=q;do W[b++]=N[re++];while(--q);if(re=0,A<G){q=A,G-=q;do W[b++]=N[re++];while(--q);re=b-ee,fe=W}}}else if(re+=A-q,q<G){G-=q;do W[b++]=N[re++];while(--q);re=b-ee,fe=W}for(;G>2;)W[b++]=fe[re++],W[b++]=fe[re++],W[b++]=fe[re++],G-=3;G&&(W[b++]=fe[re++],G>1&&(W[b++]=fe[re++]))}else{re=b-ee;do W[b++]=W[re++],W[b++]=W[re++],W[b++]=W[re++],G-=3;while(G>2);G&&(W[b++]=W[re++],G>1&&(W[b++]=W[re++]))}}else if((q&64)===0){Y=I[(Y&65535)+(E&(1<<q)-1)];continue r}else{u.msg="invalid distance code",c.mode=n;break e}break}}else if((q&64)===0){Y=O[(Y&65535)+(E&(1<<q)-1)];continue t}else if(q&32){c.mode=a;break e}else{u.msg="invalid literal/length code",c.mode=n;break e}break}}while(d<v&&b<w);G=T>>3,d-=G,T-=G<<3,E&=(1<<T)-1,u.next_in=d,u.next_out=b,u.avail_in=d<v?5+(v-d):5-(d-v),u.avail_out=b<w?257+(w-b):257-(b-w),c.hold=E,c.bits=T}},{}],49:[function(t,r,i){var n=t("../utils/common"),a=t("./adler32"),o=t("./crc32"),u=t("./inffast"),l=t("./inftrees"),c=0,d=1,v=2,b=4,_=5,w=6,p=0,m=1,y=2,A=-2,N=-3,E=-4,T=-5,O=8,I=1,R=2,L=3,Y=4,q=5,G=6,ee=7,re=8,fe=9,te=10,W=11,X=12,oe=13,K=14,ne=15,Ee=16,ve=17,ke=18,Ue=19,Fe=20,we=21,We=22,$e=23,De=24,Le=25,Re=26,Be=27,Ge=28,je=29,Pe=30,Xe=31,st=32,rt=852,_e=592,Ce=15,xe=Ce;function lt(B){return(B>>>24&255)+(B>>>8&65280)+((B&65280)<<8)+((B&255)<<24)}function At(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function mt(B){var g;return!B||!B.state?A:(g=B.state,B.total_in=B.total_out=g.total=0,B.msg="",g.wrap&&(B.adler=g.wrap&1),g.mode=I,g.last=0,g.havedict=0,g.dmax=32768,g.head=null,g.hold=0,g.bits=0,g.lencode=g.lendyn=new n.Buf32(rt),g.distcode=g.distdyn=new n.Buf32(_e),g.sane=1,g.back=-1,p)}function at(B){var g;return!B||!B.state?A:(g=B.state,g.wsize=0,g.whave=0,g.wnext=0,mt(B))}function Ct(B,g){var f,S;return!B||!B.state||(S=B.state,g<0?(f=0,g=-g):(f=(g>>4)+1,g<48&&(g&=15)),g&&(g<8||g>15))?A:(S.window!==null&&S.wbits!==g&&(S.window=null),S.wrap=f,S.wbits=g,at(B))}function bt(B,g){var f,S;return B?(S=new At,B.state=S,S.window=null,f=Ct(B,g),f!==p&&(B.state=null),f):A}function ct(B){return bt(B,xe)}var wt=!0,vt,Je;function ht(B){if(wt){var g;for(vt=new n.Buf32(512),Je=new n.Buf32(32),g=0;g<144;)B.lens[g++]=8;for(;g<256;)B.lens[g++]=9;for(;g<280;)B.lens[g++]=7;for(;g<288;)B.lens[g++]=8;for(l(d,B.lens,0,288,vt,0,B.work,{bits:9}),g=0;g<32;)B.lens[g++]=5;l(v,B.lens,0,32,Je,0,B.work,{bits:5}),wt=!1}B.lencode=vt,B.lenbits=9,B.distcode=Je,B.distbits=5}function Rt(B,g,f,S){var z,h=B.state;return h.window===null&&(h.wsize=1<<h.wbits,h.wnext=0,h.whave=0,h.window=new n.Buf8(h.wsize)),S>=h.wsize?(n.arraySet(h.window,g,f-h.wsize,h.wsize,0),h.wnext=0,h.whave=h.wsize):(z=h.wsize-h.wnext,z>S&&(z=S),n.arraySet(h.window,g,f-S,z,h.wnext),S-=z,S?(n.arraySet(h.window,g,f-S,S,0),h.wnext=S,h.whave=h.wsize):(h.wnext+=z,h.wnext===h.wsize&&(h.wnext=0),h.whave<h.wsize&&(h.whave+=z))),0}function D(B,g){var f,S,z,h,M,V,x,P,$,me,he,de,Se,Qe,qe=0,Oe,Ne,it,Ke,Ht,fr,et,Et,ft=new n.Buf8(4),Nt,Dt,Qr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!B||!B.state||!B.output||!B.input&&B.avail_in!==0)return A;f=B.state,f.mode===X&&(f.mode=oe),M=B.next_out,z=B.output,x=B.avail_out,h=B.next_in,S=B.input,V=B.avail_in,P=f.hold,$=f.bits,me=V,he=x,Et=p;e:for(;;)switch(f.mode){case I:if(f.wrap===0){f.mode=oe;break}for(;$<16;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}if(f.wrap&2&&P===35615){f.check=0,ft[0]=P&255,ft[1]=P>>>8&255,f.check=o(f.check,ft,2,0),P=0,$=0,f.mode=R;break}if(f.flags=0,f.head&&(f.head.done=!1),!(f.wrap&1)||(((P&255)<<8)+(P>>8))%31){B.msg="incorrect header check",f.mode=Pe;break}if((P&15)!==O){B.msg="unknown compression method",f.mode=Pe;break}if(P>>>=4,$-=4,et=(P&15)+8,f.wbits===0)f.wbits=et;else if(et>f.wbits){B.msg="invalid window size",f.mode=Pe;break}f.dmax=1<<et,B.adler=f.check=1,f.mode=P&512?te:X,P=0,$=0;break;case R:for(;$<16;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}if(f.flags=P,(f.flags&255)!==O){B.msg="unknown compression method",f.mode=Pe;break}if(f.flags&57344){B.msg="unknown header flags set",f.mode=Pe;break}f.head&&(f.head.text=P>>8&1),f.flags&512&&(ft[0]=P&255,ft[1]=P>>>8&255,f.check=o(f.check,ft,2,0)),P=0,$=0,f.mode=L;case L:for(;$<32;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}f.head&&(f.head.time=P),f.flags&512&&(ft[0]=P&255,ft[1]=P>>>8&255,ft[2]=P>>>16&255,ft[3]=P>>>24&255,f.check=o(f.check,ft,4,0)),P=0,$=0,f.mode=Y;case Y:for(;$<16;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}f.head&&(f.head.xflags=P&255,f.head.os=P>>8),f.flags&512&&(ft[0]=P&255,ft[1]=P>>>8&255,f.check=o(f.check,ft,2,0)),P=0,$=0,f.mode=q;case q:if(f.flags&1024){for(;$<16;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}f.length=P,f.head&&(f.head.extra_len=P),f.flags&512&&(ft[0]=P&255,ft[1]=P>>>8&255,f.check=o(f.check,ft,2,0)),P=0,$=0}else f.head&&(f.head.extra=null);f.mode=G;case G:if(f.flags&1024&&(de=f.length,de>V&&(de=V),de&&(f.head&&(et=f.head.extra_len-f.length,f.head.extra||(f.head.extra=new Array(f.head.extra_len)),n.arraySet(f.head.extra,S,h,de,et)),f.flags&512&&(f.check=o(f.check,S,de,h)),V-=de,h+=de,f.length-=de),f.length))break e;f.length=0,f.mode=ee;case ee:if(f.flags&2048){if(V===0)break e;de=0;do et=S[h+de++],f.head&&et&&f.length<65536&&(f.head.name+=String.fromCharCode(et));while(et&&de<V);if(f.flags&512&&(f.check=o(f.check,S,de,h)),V-=de,h+=de,et)break e}else f.head&&(f.head.name=null);f.length=0,f.mode=re;case re:if(f.flags&4096){if(V===0)break e;de=0;do et=S[h+de++],f.head&&et&&f.length<65536&&(f.head.comment+=String.fromCharCode(et));while(et&&de<V);if(f.flags&512&&(f.check=o(f.check,S,de,h)),V-=de,h+=de,et)break e}else f.head&&(f.head.comment=null);f.mode=fe;case fe:if(f.flags&512){for(;$<16;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}if(P!==(f.check&65535)){B.msg="header crc mismatch",f.mode=Pe;break}P=0,$=0}f.head&&(f.head.hcrc=f.flags>>9&1,f.head.done=!0),B.adler=f.check=0,f.mode=X;break;case te:for(;$<32;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}B.adler=f.check=lt(P),P=0,$=0,f.mode=W;case W:if(f.havedict===0)return B.next_out=M,B.avail_out=x,B.next_in=h,B.avail_in=V,f.hold=P,f.bits=$,y;B.adler=f.check=1,f.mode=X;case X:if(g===_||g===w)break e;case oe:if(f.last){P>>>=$&7,$-=$&7,f.mode=Be;break}for(;$<3;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}switch(f.last=P&1,P>>>=1,$-=1,P&3){case 0:f.mode=K;break;case 1:if(ht(f),f.mode=Fe,g===w){P>>>=2,$-=2;break e}break;case 2:f.mode=ve;break;case 3:B.msg="invalid block type",f.mode=Pe}P>>>=2,$-=2;break;case K:for(P>>>=$&7,$-=$&7;$<32;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}if((P&65535)!==(P>>>16^65535)){B.msg="invalid stored block lengths",f.mode=Pe;break}if(f.length=P&65535,P=0,$=0,f.mode=ne,g===w)break e;case ne:f.mode=Ee;case Ee:if(de=f.length,de){if(de>V&&(de=V),de>x&&(de=x),de===0)break e;n.arraySet(z,S,h,de,M),V-=de,h+=de,x-=de,M+=de,f.length-=de;break}f.mode=X;break;case ve:for(;$<14;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}if(f.nlen=(P&31)+257,P>>>=5,$-=5,f.ndist=(P&31)+1,P>>>=5,$-=5,f.ncode=(P&15)+4,P>>>=4,$-=4,f.nlen>286||f.ndist>30){B.msg="too many length or distance symbols",f.mode=Pe;break}f.have=0,f.mode=ke;case ke:for(;f.have<f.ncode;){for(;$<3;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}f.lens[Qr[f.have++]]=P&7,P>>>=3,$-=3}for(;f.have<19;)f.lens[Qr[f.have++]]=0;if(f.lencode=f.lendyn,f.lenbits=7,Nt={bits:f.lenbits},Et=l(c,f.lens,0,19,f.lencode,0,f.work,Nt),f.lenbits=Nt.bits,Et){B.msg="invalid code lengths set",f.mode=Pe;break}f.have=0,f.mode=Ue;case Ue:for(;f.have<f.nlen+f.ndist;){for(;qe=f.lencode[P&(1<<f.lenbits)-1],Oe=qe>>>24,Ne=qe>>>16&255,it=qe&65535,!(Oe<=$);){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}if(it<16)P>>>=Oe,$-=Oe,f.lens[f.have++]=it;else{if(it===16){for(Dt=Oe+2;$<Dt;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}if(P>>>=Oe,$-=Oe,f.have===0){B.msg="invalid bit length repeat",f.mode=Pe;break}et=f.lens[f.have-1],de=3+(P&3),P>>>=2,$-=2}else if(it===17){for(Dt=Oe+3;$<Dt;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}P>>>=Oe,$-=Oe,et=0,de=3+(P&7),P>>>=3,$-=3}else{for(Dt=Oe+7;$<Dt;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}P>>>=Oe,$-=Oe,et=0,de=11+(P&127),P>>>=7,$-=7}if(f.have+de>f.nlen+f.ndist){B.msg="invalid bit length repeat",f.mode=Pe;break}for(;de--;)f.lens[f.have++]=et}}if(f.mode===Pe)break;if(f.lens[256]===0){B.msg="invalid code -- missing end-of-block",f.mode=Pe;break}if(f.lenbits=9,Nt={bits:f.lenbits},Et=l(d,f.lens,0,f.nlen,f.lencode,0,f.work,Nt),f.lenbits=Nt.bits,Et){B.msg="invalid literal/lengths set",f.mode=Pe;break}if(f.distbits=6,f.distcode=f.distdyn,Nt={bits:f.distbits},Et=l(v,f.lens,f.nlen,f.ndist,f.distcode,0,f.work,Nt),f.distbits=Nt.bits,Et){B.msg="invalid distances set",f.mode=Pe;break}if(f.mode=Fe,g===w)break e;case Fe:f.mode=we;case we:if(V>=6&&x>=258){B.next_out=M,B.avail_out=x,B.next_in=h,B.avail_in=V,f.hold=P,f.bits=$,u(B,he),M=B.next_out,z=B.output,x=B.avail_out,h=B.next_in,S=B.input,V=B.avail_in,P=f.hold,$=f.bits,f.mode===X&&(f.back=-1);break}for(f.back=0;qe=f.lencode[P&(1<<f.lenbits)-1],Oe=qe>>>24,Ne=qe>>>16&255,it=qe&65535,!(Oe<=$);){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}if(Ne&&(Ne&240)===0){for(Ke=Oe,Ht=Ne,fr=it;qe=f.lencode[fr+((P&(1<<Ke+Ht)-1)>>Ke)],Oe=qe>>>24,Ne=qe>>>16&255,it=qe&65535,!(Ke+Oe<=$);){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}P>>>=Ke,$-=Ke,f.back+=Ke}if(P>>>=Oe,$-=Oe,f.back+=Oe,f.length=it,Ne===0){f.mode=Re;break}if(Ne&32){f.back=-1,f.mode=X;break}if(Ne&64){B.msg="invalid literal/length code",f.mode=Pe;break}f.extra=Ne&15,f.mode=We;case We:if(f.extra){for(Dt=f.extra;$<Dt;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}f.length+=P&(1<<f.extra)-1,P>>>=f.extra,$-=f.extra,f.back+=f.extra}f.was=f.length,f.mode=$e;case $e:for(;qe=f.distcode[P&(1<<f.distbits)-1],Oe=qe>>>24,Ne=qe>>>16&255,it=qe&65535,!(Oe<=$);){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}if((Ne&240)===0){for(Ke=Oe,Ht=Ne,fr=it;qe=f.distcode[fr+((P&(1<<Ke+Ht)-1)>>Ke)],Oe=qe>>>24,Ne=qe>>>16&255,it=qe&65535,!(Ke+Oe<=$);){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}P>>>=Ke,$-=Ke,f.back+=Ke}if(P>>>=Oe,$-=Oe,f.back+=Oe,Ne&64){B.msg="invalid distance code",f.mode=Pe;break}f.offset=it,f.extra=Ne&15,f.mode=De;case De:if(f.extra){for(Dt=f.extra;$<Dt;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}f.offset+=P&(1<<f.extra)-1,P>>>=f.extra,$-=f.extra,f.back+=f.extra}if(f.offset>f.dmax){B.msg="invalid distance too far back",f.mode=Pe;break}f.mode=Le;case Le:if(x===0)break e;if(de=he-x,f.offset>de){if(de=f.offset-de,de>f.whave&&f.sane){B.msg="invalid distance too far back",f.mode=Pe;break}de>f.wnext?(de-=f.wnext,Se=f.wsize-de):Se=f.wnext-de,de>f.length&&(de=f.length),Qe=f.window}else Qe=z,Se=M-f.offset,de=f.length;de>x&&(de=x),x-=de,f.length-=de;do z[M++]=Qe[Se++];while(--de);f.length===0&&(f.mode=we);break;case Re:if(x===0)break e;z[M++]=f.length,x--,f.mode=we;break;case Be:if(f.wrap){for(;$<32;){if(V===0)break e;V--,P|=S[h++]<<$,$+=8}if(he-=x,B.total_out+=he,f.total+=he,he&&(B.adler=f.check=f.flags?o(f.check,z,he,M-he):a(f.check,z,he,M-he)),he=x,(f.flags?P:lt(P))!==f.check){B.msg="incorrect data check",f.mode=Pe;break}P=0,$=0}f.mode=Ge;case Ge:if(f.wrap&&f.flags){for(;$<32;){if(V===0)break e;V--,P+=S[h++]<<$,$+=8}if(P!==(f.total&4294967295)){B.msg="incorrect length check",f.mode=Pe;break}P=0,$=0}f.mode=je;case je:Et=m;break e;case Pe:Et=N;break e;case Xe:return E;case st:default:return A}return B.next_out=M,B.avail_out=x,B.next_in=h,B.avail_in=V,f.hold=P,f.bits=$,(f.wsize||he!==B.avail_out&&f.mode<Pe&&(f.mode<Be||g!==b))&&Rt(B,B.output,B.next_out,he-B.avail_out),me-=B.avail_in,he-=B.avail_out,B.total_in+=me,B.total_out+=he,f.total+=he,f.wrap&&he&&(B.adler=f.check=f.flags?o(f.check,z,he,B.next_out-he):a(f.check,z,he,B.next_out-he)),B.data_type=f.bits+(f.last?64:0)+(f.mode===X?128:0)+(f.mode===Fe||f.mode===ne?256:0),(me===0&&he===0||g===b)&&Et===p&&(Et=T),Et}function Q(B){if(!B||!B.state)return A;var g=B.state;return g.window&&(g.window=null),B.state=null,p}function se(B,g){var f;return!B||!B.state||(f=B.state,(f.wrap&2)===0)?A:(f.head=g,g.done=!1,p)}function ge(B,g){var f=g.length,S,z,h;return!B||!B.state||(S=B.state,S.wrap!==0&&S.mode!==W)?A:S.mode===W&&(z=1,z=a(z,g,f,0),z!==S.check)?N:(h=Rt(B,g,f,f),h?(S.mode=Xe,E):(S.havedict=1,p))}i.inflateReset=at,i.inflateReset2=Ct,i.inflateResetKeep=mt,i.inflateInit=ct,i.inflateInit2=bt,i.inflate=D,i.inflateEnd=Q,i.inflateGetHeader=se,i.inflateSetDictionary=ge,i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var n=t("../utils/common"),a=15,o=852,u=592,l=0,c=1,d=2,v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],w=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(m,y,A,N,E,T,O,I){var R=I.bits,L=0,Y=0,q=0,G=0,ee=0,re=0,fe=0,te=0,W=0,X=0,oe,K,ne,Ee,ve,ke=null,Ue=0,Fe,we=new n.Buf16(a+1),We=new n.Buf16(a+1),$e=null,De=0,Le,Re,Be;for(L=0;L<=a;L++)we[L]=0;for(Y=0;Y<N;Y++)we[y[A+Y]]++;for(ee=R,G=a;G>=1&&we[G]===0;G--);if(ee>G&&(ee=G),G===0)return E[T++]=1<<24|64<<16|0,E[T++]=1<<24|64<<16|0,I.bits=1,0;for(q=1;q<G&&we[q]===0;q++);for(ee<q&&(ee=q),te=1,L=1;L<=a;L++)if(te<<=1,te-=we[L],te<0)return-1;if(te>0&&(m===l||G!==1))return-1;for(We[1]=0,L=1;L<a;L++)We[L+1]=We[L]+we[L];for(Y=0;Y<N;Y++)y[A+Y]!==0&&(O[We[y[A+Y]]++]=Y);if(m===l?(ke=$e=O,Fe=19):m===c?(ke=v,Ue-=257,$e=b,De-=257,Fe=256):(ke=_,$e=w,Fe=-1),X=0,Y=0,L=q,ve=T,re=ee,fe=0,ne=-1,W=1<<ee,Ee=W-1,m===c&&W>o||m===d&&W>u)return 1;for(;;){Le=L-fe,O[Y]<Fe?(Re=0,Be=O[Y]):O[Y]>Fe?(Re=$e[De+O[Y]],Be=ke[Ue+O[Y]]):(Re=96,Be=0),oe=1<<L-fe,K=1<<re,q=K;do K-=oe,E[ve+(X>>fe)+K]=Le<<24|Re<<16|Be|0;while(K!==0);for(oe=1<<L-1;X&oe;)oe>>=1;if(oe!==0?(X&=oe-1,X+=oe):X=0,Y++,--we[L]===0){if(L===G)break;L=y[A+O[Y]]}if(L>ee&&(X&Ee)!==ne){for(fe===0&&(fe=ee),ve+=q,re=L-fe,te=1<<re;re+fe<G&&(te-=we[re+fe],!(te<=0));)re++,te<<=1;if(W+=1<<re,m===c&&W>o||m===d&&W>u)return 1;ne=X&Ee,E[ne]=ee<<24|re<<16|ve-T|0}}return X!==0&&(E[ve+X]=L-fe<<24|64<<16|0),I.bits=ee,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var n=t("../utils/common"),a=4,o=0,u=1,l=2;function c(D){for(var Q=D.length;--Q>=0;)D[Q]=0}var d=0,v=1,b=2,_=3,w=258,p=29,m=256,y=m+1+p,A=30,N=19,E=2*y+1,T=15,O=16,I=7,R=256,L=16,Y=17,q=18,G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=512,W=new Array((y+2)*2);c(W);var X=new Array(A*2);c(X);var oe=new Array(te);c(oe);var K=new Array(w-_+1);c(K);var ne=new Array(p);c(ne);var Ee=new Array(A);c(Ee);function ve(D,Q,se,ge,B){this.static_tree=D,this.extra_bits=Q,this.extra_base=se,this.elems=ge,this.max_length=B,this.has_stree=D&&D.length}var ke,Ue,Fe;function we(D,Q){this.dyn_tree=D,this.max_code=0,this.stat_desc=Q}function We(D){return D<256?oe[D]:oe[256+(D>>>7)]}function $e(D,Q){D.pending_buf[D.pending++]=Q&255,D.pending_buf[D.pending++]=Q>>>8&255}function De(D,Q,se){D.bi_valid>O-se?(D.bi_buf|=Q<<D.bi_valid&65535,$e(D,D.bi_buf),D.bi_buf=Q>>O-D.bi_valid,D.bi_valid+=se-O):(D.bi_buf|=Q<<D.bi_valid&65535,D.bi_valid+=se)}function Le(D,Q,se){De(D,se[Q*2],se[Q*2+1])}function Re(D,Q){var se=0;do se|=D&1,D>>>=1,se<<=1;while(--Q>0);return se>>>1}function Be(D){D.bi_valid===16?($e(D,D.bi_buf),D.bi_buf=0,D.bi_valid=0):D.bi_valid>=8&&(D.pending_buf[D.pending++]=D.bi_buf&255,D.bi_buf>>=8,D.bi_valid-=8)}function Ge(D,Q){var se=Q.dyn_tree,ge=Q.max_code,B=Q.stat_desc.static_tree,g=Q.stat_desc.has_stree,f=Q.stat_desc.extra_bits,S=Q.stat_desc.extra_base,z=Q.stat_desc.max_length,h,M,V,x,P,$,me=0;for(x=0;x<=T;x++)D.bl_count[x]=0;for(se[D.heap[D.heap_max]*2+1]=0,h=D.heap_max+1;h<E;h++)M=D.heap[h],x=se[se[M*2+1]*2+1]+1,x>z&&(x=z,me++),se[M*2+1]=x,!(M>ge)&&(D.bl_count[x]++,P=0,M>=S&&(P=f[M-S]),$=se[M*2],D.opt_len+=$*(x+P),g&&(D.static_len+=$*(B[M*2+1]+P)));if(me!==0){do{for(x=z-1;D.bl_count[x]===0;)x--;D.bl_count[x]--,D.bl_count[x+1]+=2,D.bl_count[z]--,me-=2}while(me>0);for(x=z;x!==0;x--)for(M=D.bl_count[x];M!==0;)V=D.heap[--h],!(V>ge)&&(se[V*2+1]!==x&&(D.opt_len+=(x-se[V*2+1])*se[V*2],se[V*2+1]=x),M--)}}function je(D,Q,se){var ge=new Array(T+1),B=0,g,f;for(g=1;g<=T;g++)ge[g]=B=B+se[g-1]<<1;for(f=0;f<=Q;f++){var S=D[f*2+1];S!==0&&(D[f*2]=Re(ge[S]++,S))}}function Pe(){var D,Q,se,ge,B,g=new Array(T+1);for(se=0,ge=0;ge<p-1;ge++)for(ne[ge]=se,D=0;D<1<<G[ge];D++)K[se++]=ge;for(K[se-1]=ge,B=0,ge=0;ge<16;ge++)for(Ee[ge]=B,D=0;D<1<<ee[ge];D++)oe[B++]=ge;for(B>>=7;ge<A;ge++)for(Ee[ge]=B<<7,D=0;D<1<<ee[ge]-7;D++)oe[256+B++]=ge;for(Q=0;Q<=T;Q++)g[Q]=0;for(D=0;D<=143;)W[D*2+1]=8,D++,g[8]++;for(;D<=255;)W[D*2+1]=9,D++,g[9]++;for(;D<=279;)W[D*2+1]=7,D++,g[7]++;for(;D<=287;)W[D*2+1]=8,D++,g[8]++;for(je(W,y+1,g),D=0;D<A;D++)X[D*2+1]=5,X[D*2]=Re(D,5);ke=new ve(W,G,m+1,y,T),Ue=new ve(X,ee,0,A,T),Fe=new ve(new Array(0),re,0,N,I)}function Xe(D){var Q;for(Q=0;Q<y;Q++)D.dyn_ltree[Q*2]=0;for(Q=0;Q<A;Q++)D.dyn_dtree[Q*2]=0;for(Q=0;Q<N;Q++)D.bl_tree[Q*2]=0;D.dyn_ltree[R*2]=1,D.opt_len=D.static_len=0,D.last_lit=D.matches=0}function st(D){D.bi_valid>8?$e(D,D.bi_buf):D.bi_valid>0&&(D.pending_buf[D.pending++]=D.bi_buf),D.bi_buf=0,D.bi_valid=0}function rt(D,Q,se,ge){st(D),$e(D,se),$e(D,~se),n.arraySet(D.pending_buf,D.window,Q,se,D.pending),D.pending+=se}function _e(D,Q,se,ge){var B=Q*2,g=se*2;return D[B]<D[g]||D[B]===D[g]&&ge[Q]<=ge[se]}function Ce(D,Q,se){for(var ge=D.heap[se],B=se<<1;B<=D.heap_len&&(B<D.heap_len&&_e(Q,D.heap[B+1],D.heap[B],D.depth)&&B++,!_e(Q,ge,D.heap[B],D.depth));)D.heap[se]=D.heap[B],se=B,B<<=1;D.heap[se]=ge}function xe(D,Q,se){var ge,B,g=0,f,S;if(D.last_lit!==0)do ge=D.pending_buf[D.d_buf+g*2]<<8|D.pending_buf[D.d_buf+g*2+1],B=D.pending_buf[D.l_buf+g],g++,ge===0?Le(D,B,Q):(f=K[B],Le(D,f+m+1,Q),S=G[f],S!==0&&(B-=ne[f],De(D,B,S)),ge--,f=We(ge),Le(D,f,se),S=ee[f],S!==0&&(ge-=Ee[f],De(D,ge,S)));while(g<D.last_lit);Le(D,R,Q)}function lt(D,Q){var se=Q.dyn_tree,ge=Q.stat_desc.static_tree,B=Q.stat_desc.has_stree,g=Q.stat_desc.elems,f,S,z=-1,h;for(D.heap_len=0,D.heap_max=E,f=0;f<g;f++)se[f*2]!==0?(D.heap[++D.heap_len]=z=f,D.depth[f]=0):se[f*2+1]=0;for(;D.heap_len<2;)h=D.heap[++D.heap_len]=z<2?++z:0,se[h*2]=1,D.depth[h]=0,D.opt_len--,B&&(D.static_len-=ge[h*2+1]);for(Q.max_code=z,f=D.heap_len>>1;f>=1;f--)Ce(D,se,f);h=g;do f=D.heap[1],D.heap[1]=D.heap[D.heap_len--],Ce(D,se,1),S=D.heap[1],D.heap[--D.heap_max]=f,D.heap[--D.heap_max]=S,se[h*2]=se[f*2]+se[S*2],D.depth[h]=(D.depth[f]>=D.depth[S]?D.depth[f]:D.depth[S])+1,se[f*2+1]=se[S*2+1]=h,D.heap[1]=h++,Ce(D,se,1);while(D.heap_len>=2);D.heap[--D.heap_max]=D.heap[1],Ge(D,Q),je(se,z,D.bl_count)}function At(D,Q,se){var ge,B=-1,g,f=Q[0*2+1],S=0,z=7,h=4;for(f===0&&(z=138,h=3),Q[(se+1)*2+1]=65535,ge=0;ge<=se;ge++)g=f,f=Q[(ge+1)*2+1],!(++S<z&&g===f)&&(S<h?D.bl_tree[g*2]+=S:g!==0?(g!==B&&D.bl_tree[g*2]++,D.bl_tree[L*2]++):S<=10?D.bl_tree[Y*2]++:D.bl_tree[q*2]++,S=0,B=g,f===0?(z=138,h=3):g===f?(z=6,h=3):(z=7,h=4))}function mt(D,Q,se){var ge,B=-1,g,f=Q[0*2+1],S=0,z=7,h=4;for(f===0&&(z=138,h=3),ge=0;ge<=se;ge++)if(g=f,f=Q[(ge+1)*2+1],!(++S<z&&g===f)){if(S<h)do Le(D,g,D.bl_tree);while(--S!==0);else g!==0?(g!==B&&(Le(D,g,D.bl_tree),S--),Le(D,L,D.bl_tree),De(D,S-3,2)):S<=10?(Le(D,Y,D.bl_tree),De(D,S-3,3)):(Le(D,q,D.bl_tree),De(D,S-11,7));S=0,B=g,f===0?(z=138,h=3):g===f?(z=6,h=3):(z=7,h=4)}}function at(D){var Q;for(At(D,D.dyn_ltree,D.l_desc.max_code),At(D,D.dyn_dtree,D.d_desc.max_code),lt(D,D.bl_desc),Q=N-1;Q>=3&&D.bl_tree[fe[Q]*2+1]===0;Q--);return D.opt_len+=3*(Q+1)+5+5+4,Q}function Ct(D,Q,se,ge){var B;for(De(D,Q-257,5),De(D,se-1,5),De(D,ge-4,4),B=0;B<ge;B++)De(D,D.bl_tree[fe[B]*2+1],3);mt(D,D.dyn_ltree,Q-1),mt(D,D.dyn_dtree,se-1)}function bt(D){var Q=4093624447,se;for(se=0;se<=31;se++,Q>>>=1)if(Q&1&&D.dyn_ltree[se*2]!==0)return o;if(D.dyn_ltree[9*2]!==0||D.dyn_ltree[10*2]!==0||D.dyn_ltree[13*2]!==0)return u;for(se=32;se<m;se++)if(D.dyn_ltree[se*2]!==0)return u;return o}var ct=!1;function wt(D){ct||(Pe(),ct=!0),D.l_desc=new we(D.dyn_ltree,ke),D.d_desc=new we(D.dyn_dtree,Ue),D.bl_desc=new we(D.bl_tree,Fe),D.bi_buf=0,D.bi_valid=0,Xe(D)}function vt(D,Q,se,ge){De(D,(d<<1)+(ge?1:0),3),rt(D,Q,se)}function Je(D){De(D,v<<1,3),Le(D,R,W),Be(D)}function ht(D,Q,se,ge){var B,g,f=0;D.level>0?(D.strm.data_type===l&&(D.strm.data_type=bt(D)),lt(D,D.l_desc),lt(D,D.d_desc),f=at(D),B=D.opt_len+3+7>>>3,g=D.static_len+3+7>>>3,g<=B&&(B=g)):B=g=se+5,se+4<=B&&Q!==-1?vt(D,Q,se,ge):D.strategy===a||g===B?(De(D,(v<<1)+(ge?1:0),3),xe(D,W,X)):(De(D,(b<<1)+(ge?1:0),3),Ct(D,D.l_desc.max_code+1,D.d_desc.max_code+1,f+1),xe(D,D.dyn_ltree,D.dyn_dtree)),Xe(D),ge&&st(D)}function Rt(D,Q,se){return D.pending_buf[D.d_buf+D.last_lit*2]=Q>>>8&255,D.pending_buf[D.d_buf+D.last_lit*2+1]=Q&255,D.pending_buf[D.l_buf+D.last_lit]=se&255,D.last_lit++,Q===0?D.dyn_ltree[se*2]++:(D.matches++,Q--,D.dyn_ltree[(K[se]+m+1)*2]++,D.dyn_dtree[We(Q)*2]++),D.last_lit===D.lit_bufsize-1}i._tr_init=wt,i._tr_stored_block=vt,i._tr_flush_block=ht,i._tr_tally=Rt,i._tr_align=Je},{"../utils/common":41}],53:[function(t,r,i){function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}r.exports=n},{}],54:[function(t,r,i){(function(n){(function(a,o){if(a.setImmediate)return;var u=1,l={},c=!1,d=a.document,v;function b(I){typeof I!="function"&&(I=new Function(""+I));for(var R=new Array(arguments.length-1),L=0;L<R.length;L++)R[L]=arguments[L+1];var Y={callback:I,args:R};return l[u]=Y,v(u),u++}function _(I){delete l[I]}function w(I){var R=I.callback,L=I.args;switch(L.length){case 0:R();break;case 1:R(L[0]);break;case 2:R(L[0],L[1]);break;case 3:R(L[0],L[1],L[2]);break;default:R.apply(o,L);break}}function p(I){if(c)setTimeout(p,0,I);else{var R=l[I];if(R){c=!0;try{w(R)}finally{_(I),c=!1}}}}function m(){v=function(I){process.nextTick(function(){p(I)})}}function y(){if(a.postMessage&&!a.importScripts){var I=!0,R=a.onmessage;return a.onmessage=function(){I=!1},a.postMessage("","*"),a.onmessage=R,I}}function A(){var I="setImmediate$"+Math.random()+"$",R=function(L){L.source===a&&typeof L.data=="string"&&L.data.indexOf(I)===0&&p(+L.data.slice(I.length))};a.addEventListener?a.addEventListener("message",R,!1):a.attachEvent("onmessage",R),v=function(L){a.postMessage(I+L,"*")}}function N(){var I=new MessageChannel;I.port1.onmessage=function(R){var L=R.data;p(L)},v=function(R){I.port2.postMessage(R)}}function E(){var I=d.documentElement;v=function(R){var L=d.createElement("script");L.onreadystatechange=function(){p(R),L.onreadystatechange=null,I.removeChild(L),L=null},I.appendChild(L)}}function T(){v=function(I){setTimeout(p,0,I)}}var O=Object.getPrototypeOf&&Object.getPrototypeOf(a);O=O&&O.setTimeout?O:a,{}.toString.call(a.process)==="[object process]"?m():y()?A():a.MessageChannel?N():d&&"onreadystatechange"in d.createElement("script")?E():T(),O.setImmediate=b,O.clearImmediate=_})(typeof self>"u"?typeof n>"u"?this:n:self)}).call(this,typeof Ot<"u"?Ot:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Zn)),Zn.exports}var Og=kg();const Rg=lr(Og);class Ng{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new Rg}catch{throw new Error("JSZip lib not loaded")}}open(e,t){return this.zip.loadAsync(e,{base64:t})}openUrl(e,t){return Yr(e,"binary").then(function(r){return this.zip.loadAsync(r,{base64:t})}.bind(this))}request(e,t){var r=new ze,i,n=new Zt(e);return t||(t=n.extension),t=="blob"?i=this.getBlob(e):i=this.getText(e),i?i.then(function(a){let o=this.handleResponse(a,t);r.resolve(o)}.bind(this)):r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise}handleResponse(e,t){var r;return t=="json"?r=JSON.parse(e):Gr(t)?r=qt(e,"text/xml"):t=="xhtml"?r=qt(e,"application/xhtml+xml"):t=="html"||t=="htm"?r=qt(e,"text/html"):r=e,r}getBlob(e,t){var r=window.decodeURIComponent(e.substr(1)),i=this.zip.file(r);if(i)return t=t||Ar.lookup(i.name),i.async("uint8array").then(function(n){return new Blob([n],{type:t})})}getText(e,t){var r=window.decodeURIComponent(e.substr(1)),i=this.zip.file(r);if(i)return i.async("string").then(function(n){return n})}getBase64(e,t){var r=window.decodeURIComponent(e.substr(1)),i=this.zip.file(r);if(i)return t=t||Ar.lookup(i.name),i.async("base64").then(function(n){return"data:"+t+";base64,"+n})}createUrl(e,t){var r=new ze,i=window.URL||window.webkitURL||window.mozURL,n,a,o=t&&t.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(o?(a=this.getBase64(e),a&&a.then(function(u){this.urlCache[e]=u,r.resolve(u)}.bind(this))):(a=this.getBlob(e),a&&a.then(function(u){n=i.createObjectURL(u),this.urlCache[e]=n,r.resolve(n)}.bind(this))),a||r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&t.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.zip=void 0,this.urlCache={}}}var Xn={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var nu;function Ig(){return nu||(nu=1,function(s,e){(function(t){s.exports=t()})(function(){return function t(r,i,n){function a(l,c){if(!i[l]){if(!r[l]){var d=typeof Qt=="function"&&Qt;if(!c&&d)return d(l,!0);if(o)return o(l,!0);var v=new Error("Cannot find module '"+l+"'");throw v.code="MODULE_NOT_FOUND",v}var b=i[l]={exports:{}};r[l][0].call(b.exports,function(_){var w=r[l][1][_];return a(w||_)},b,b.exports,t,r,i,n)}return i[l].exports}for(var o=typeof Qt=="function"&&Qt,u=0;u<n.length;u++)a(n[u]);return a}({1:[function(t,r,i){(function(n){var a=n.MutationObserver||n.WebKitMutationObserver,o;if(a){var u=0,l=new a(_),c=n.document.createTextNode("");l.observe(c,{characterData:!0}),o=function(){c.data=u=++u%2}}else if(!n.setImmediate&&typeof n.MessageChannel<"u"){var d=new n.MessageChannel;d.port1.onmessage=_,o=function(){d.port2.postMessage(0)}}else"document"in n&&"onreadystatechange"in n.document.createElement("script")?o=function(){var p=n.document.createElement("script");p.onreadystatechange=function(){_(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},n.document.documentElement.appendChild(p)}:o=function(){setTimeout(_,0)};var v,b=[];function _(){v=!0;for(var p,m,y=b.length;y;){for(m=b,b=[],p=-1;++p<y;)m[p]();y=b.length}v=!1}r.exports=w;function w(p){b.push(p)===1&&!v&&o()}}).call(this,typeof Ot<"u"?Ot:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(t,r,i){var n=t(1);function a(){}var o={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=d;function d(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,E!==a&&w(this,E)}d.prototype.catch=function(E){return this.then(null,E)},d.prototype.then=function(E,T){if(typeof E!="function"&&this.state===l||typeof T!="function"&&this.state===u)return this;var O=new this.constructor(a);if(this.state!==c){var I=this.state===l?E:T;b(O,I,this.outcome)}else this.queue.push(new v(O,E,T));return O};function v(E,T,O){this.promise=E,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(E){o.resolve(this.promise,E)},v.prototype.otherCallFulfilled=function(E){b(this.promise,this.onFulfilled,E)},v.prototype.callRejected=function(E){o.reject(this.promise,E)},v.prototype.otherCallRejected=function(E){b(this.promise,this.onRejected,E)};function b(E,T,O){n(function(){var I;try{I=T(O)}catch(R){return o.reject(E,R)}I===E?o.reject(E,new TypeError("Cannot resolve promise with itself")):o.resolve(E,I)})}o.resolve=function(E,T){var O=p(_,T);if(O.status==="error")return o.reject(E,O.value);var I=O.value;if(I)w(E,I);else{E.state=l,E.outcome=T;for(var R=-1,L=E.queue.length;++R<L;)E.queue[R].callFulfilled(T)}return E},o.reject=function(E,T){E.state=u,E.outcome=T;for(var O=-1,I=E.queue.length;++O<I;)E.queue[O].callRejected(T);return E};function _(E){var T=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof T=="function")return function(){T.apply(E,arguments)}}function w(E,T){var O=!1;function I(q){O||(O=!0,o.reject(E,q))}function R(q){O||(O=!0,o.resolve(E,q))}function L(){T(R,I)}var Y=p(L);Y.status==="error"&&I(Y.value)}function p(E,T){var O={};try{O.value=E(T),O.status="success"}catch(I){O.status="error",O.value=I}return O}d.resolve=m;function m(E){return E instanceof this?E:o.resolve(new this(a),E)}d.reject=y;function y(E){var T=new this(a);return o.reject(T,E)}d.all=A;function A(E){var T=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=E.length,I=!1;if(!O)return this.resolve([]);for(var R=new Array(O),L=0,Y=-1,q=new this(a);++Y<O;)G(E[Y],Y);return q;function G(ee,re){T.resolve(ee).then(fe,function(te){I||(I=!0,o.reject(q,te))});function fe(te){R[re]=te,++L===O&&!I&&(I=!0,o.resolve(q,R))}}}d.race=N;function N(E){var T=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=E.length,I=!1;if(!O)return this.resolve([]);for(var R=-1,L=new this(a);++R<O;)Y(E[R]);return L;function Y(q){T.resolve(q).then(function(G){I||(I=!0,o.resolve(L,G))},function(G){I||(I=!0,o.reject(L,G))})}}},{1:1}],3:[function(t,r,i){(function(n){typeof n.Promise!="function"&&(n.Promise=t(2))}).call(this,typeof Ot<"u"?Ot:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(t,r,i){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};function a(C,F){if(!(C instanceof F))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=o();function l(){try{if(!u||!u.open)return!1;var C=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),F=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!C||F)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(C,F){C=C||[],F=F||{};try{return new Blob(C,F)}catch(U){if(U.name!=="TypeError")throw U;for(var k=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,j=new k,H=0;H<C.length;H+=1)j.append(C[H]);return j.getBlob(F.type)}}typeof Promise>"u"&&t(3);var d=Promise;function v(C,F){F&&C.then(function(k){F(null,k)},function(k){F(k)})}function b(C,F,k){typeof F=="function"&&C.then(F),typeof k=="function"&&C.catch(k)}function _(C){return typeof C!="string"&&(C=String(C)),C}function w(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",m=void 0,y={},A=Object.prototype.toString,N="readonly",E="readwrite";function T(C){for(var F=C.length,k=new ArrayBuffer(F),j=new Uint8Array(k),H=0;H<F;H++)j[H]=C.charCodeAt(H);return k}function O(C){return new d(function(F){var k=C.transaction(p,E),j=c([""]);k.objectStore(p).put(j,"key"),k.onabort=function(H){H.preventDefault(),H.stopPropagation(),F(!1)},k.oncomplete=function(){var H=navigator.userAgent.match(/Chrome\/(\d+)/),U=navigator.userAgent.match(/Edge\//);F(U||!H||parseInt(H[1],10)>=43)}}).catch(function(){return!1})}function I(C){return typeof m=="boolean"?d.resolve(m):O(C).then(function(F){return m=F,m})}function R(C){var F=y[C.name],k={};k.promise=new d(function(j,H){k.resolve=j,k.reject=H}),F.deferredOperations.push(k),F.dbReady?F.dbReady=F.dbReady.then(function(){return k.promise}):F.dbReady=k.promise}function L(C){var F=y[C.name],k=F.deferredOperations.pop();if(k)return k.resolve(),k.promise}function Y(C,F){var k=y[C.name],j=k.deferredOperations.pop();if(j)return j.reject(F),j.promise}function q(C,F){return new d(function(k,j){if(y[C.name]=y[C.name]||ne(),C.db)if(F)R(C),C.db.close();else return k(C.db);var H=[C.name];F&&H.push(C.version);var U=u.open.apply(u,H);F&&(U.onupgradeneeded=function(J){var ie=U.result;try{ie.createObjectStore(C.storeName),J.oldVersion<=1&&ie.createObjectStore(p)}catch(ue){if(ue.name!=="ConstraintError")throw ue}}),U.onerror=function(J){J.preventDefault(),j(U.error)},U.onsuccess=function(){var J=U.result;J.onversionchange=function(ie){ie.target.close()},k(J),L(C)}})}function G(C){return q(C,!1)}function ee(C){return q(C,!0)}function re(C,F){if(!C.db)return!0;var k=!C.db.objectStoreNames.contains(C.storeName),j=C.version<C.db.version,H=C.version>C.db.version;if(j&&(C.version,C.version=C.db.version),H||k){if(k){var U=C.db.version+1;U>C.version&&(C.version=U)}return!0}return!1}function fe(C){return new d(function(F,k){var j=new FileReader;j.onerror=k,j.onloadend=function(H){var U=btoa(H.target.result||"");F({__local_forage_encoded_blob:!0,data:U,type:C.type})},j.readAsBinaryString(C)})}function te(C){var F=T(atob(C.data));return c([F],{type:C.type})}function W(C){return C&&C.__local_forage_encoded_blob}function X(C){var F=this,k=F._initReady().then(function(){var j=y[F._dbInfo.name];if(j&&j.dbReady)return j.dbReady});return b(k,C,C),k}function oe(C){R(C);for(var F=y[C.name],k=F.forages,j=0;j<k.length;j++){var H=k[j];H._dbInfo.db&&(H._dbInfo.db.close(),H._dbInfo.db=null)}return C.db=null,G(C).then(function(U){return C.db=U,re(C)?ee(C):U}).then(function(U){C.db=F.db=U;for(var J=0;J<k.length;J++)k[J]._dbInfo.db=U}).catch(function(U){throw Y(C,U),U})}function K(C,F,k,j){j===void 0&&(j=1);try{var H=C.db.transaction(C.storeName,F);k(null,H)}catch(U){if(j>0&&(!C.db||U.name==="InvalidStateError"||U.name==="NotFoundError"))return d.resolve().then(function(){if(!C.db||U.name==="NotFoundError"&&!C.db.objectStoreNames.contains(C.storeName)&&C.version<=C.db.version)return C.db&&(C.version=C.db.version+1),ee(C)}).then(function(){return oe(C).then(function(){K(C,F,k,j-1)})}).catch(k);k(U)}}function ne(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ee(C){var F=this,k={db:null};if(C)for(var j in C)k[j]=C[j];var H=y[k.name];H||(H=ne(),y[k.name]=H),H.forages.push(F),F._initReady||(F._initReady=F.ready,F.ready=X);var U=[];function J(){return d.resolve()}for(var ie=0;ie<H.forages.length;ie++){var ue=H.forages[ie];ue!==F&&U.push(ue._initReady().catch(J))}var le=H.forages.slice(0);return d.all(U).then(function(){return k.db=H.db,G(k)}).then(function(ce){return k.db=ce,re(k,F._defaultConfig.version)?ee(k):ce}).then(function(ce){k.db=H.db=ce,F._dbInfo=k;for(var ye=0;ye<le.length;ye++){var Ie=le[ye];Ie!==F&&(Ie._dbInfo.db=k.db,Ie._dbInfo.version=k.version)}})}function ve(C,F){var k=this;C=_(C);var j=new d(function(H,U){k.ready().then(function(){K(k._dbInfo,N,function(J,ie){if(J)return U(J);try{var ue=ie.objectStore(k._dbInfo.storeName),le=ue.get(C);le.onsuccess=function(){var ce=le.result;ce===void 0&&(ce=null),W(ce)&&(ce=te(ce)),H(ce)},le.onerror=function(){U(le.error)}}catch(ce){U(ce)}})}).catch(U)});return v(j,F),j}function ke(C,F){var k=this,j=new d(function(H,U){k.ready().then(function(){K(k._dbInfo,N,function(J,ie){if(J)return U(J);try{var ue=ie.objectStore(k._dbInfo.storeName),le=ue.openCursor(),ce=1;le.onsuccess=function(){var ye=le.result;if(ye){var Ie=ye.value;W(Ie)&&(Ie=te(Ie));var He=C(Ie,ye.key,ce++);He!==void 0?H(He):ye.continue()}else H()},le.onerror=function(){U(le.error)}}catch(ye){U(ye)}})}).catch(U)});return v(j,F),j}function Ue(C,F,k){var j=this;C=_(C);var H=new d(function(U,J){var ie;j.ready().then(function(){return ie=j._dbInfo,A.call(F)==="[object Blob]"?I(ie.db).then(function(ue){return ue?F:fe(F)}):F}).then(function(ue){K(j._dbInfo,E,function(le,ce){if(le)return J(le);try{var ye=ce.objectStore(j._dbInfo.storeName);ue===null&&(ue=void 0);var Ie=ye.put(ue,C);ce.oncomplete=function(){ue===void 0&&(ue=null),U(ue)},ce.onabort=ce.onerror=function(){var He=Ie.error?Ie.error:Ie.transaction.error;J(He)}}catch(He){J(He)}})}).catch(J)});return v(H,k),H}function Fe(C,F){var k=this;C=_(C);var j=new d(function(H,U){k.ready().then(function(){K(k._dbInfo,E,function(J,ie){if(J)return U(J);try{var ue=ie.objectStore(k._dbInfo.storeName),le=ue.delete(C);ie.oncomplete=function(){H()},ie.onerror=function(){U(le.error)},ie.onabort=function(){var ce=le.error?le.error:le.transaction.error;U(ce)}}catch(ce){U(ce)}})}).catch(U)});return v(j,F),j}function we(C){var F=this,k=new d(function(j,H){F.ready().then(function(){K(F._dbInfo,E,function(U,J){if(U)return H(U);try{var ie=J.objectStore(F._dbInfo.storeName),ue=ie.clear();J.oncomplete=function(){j()},J.onabort=J.onerror=function(){var le=ue.error?ue.error:ue.transaction.error;H(le)}}catch(le){H(le)}})}).catch(H)});return v(k,C),k}function We(C){var F=this,k=new d(function(j,H){F.ready().then(function(){K(F._dbInfo,N,function(U,J){if(U)return H(U);try{var ie=J.objectStore(F._dbInfo.storeName),ue=ie.count();ue.onsuccess=function(){j(ue.result)},ue.onerror=function(){H(ue.error)}}catch(le){H(le)}})}).catch(H)});return v(k,C),k}function $e(C,F){var k=this,j=new d(function(H,U){if(C<0){H(null);return}k.ready().then(function(){K(k._dbInfo,N,function(J,ie){if(J)return U(J);try{var ue=ie.objectStore(k._dbInfo.storeName),le=!1,ce=ue.openKeyCursor();ce.onsuccess=function(){var ye=ce.result;if(!ye){H(null);return}C===0||le?H(ye.key):(le=!0,ye.advance(C))},ce.onerror=function(){U(ce.error)}}catch(ye){U(ye)}})}).catch(U)});return v(j,F),j}function De(C){var F=this,k=new d(function(j,H){F.ready().then(function(){K(F._dbInfo,N,function(U,J){if(U)return H(U);try{var ie=J.objectStore(F._dbInfo.storeName),ue=ie.openKeyCursor(),le=[];ue.onsuccess=function(){var ce=ue.result;if(!ce){j(le);return}le.push(ce.key),ce.continue()},ue.onerror=function(){H(ue.error)}}catch(ce){H(ce)}})}).catch(H)});return v(k,C),k}function Le(C,F){F=w.apply(this,arguments);var k=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||k.name,C.storeName=C.storeName||k.storeName);var j=this,H;if(!C.name)H=d.reject("Invalid arguments");else{var U=C.name===k.name&&j._dbInfo.db,J=U?d.resolve(j._dbInfo.db):G(C).then(function(ie){var ue=y[C.name],le=ue.forages;ue.db=ie;for(var ce=0;ce<le.length;ce++)le[ce]._dbInfo.db=ie;return ie});C.storeName?H=J.then(function(ie){if(ie.objectStoreNames.contains(C.storeName)){var ue=ie.version+1;R(C);var le=y[C.name],ce=le.forages;ie.close();for(var ye=0;ye<ce.length;ye++){var Ie=ce[ye];Ie._dbInfo.db=null,Ie._dbInfo.version=ue}var He=new d(function(Ve,ot){var nt=u.open(C.name,ue);nt.onerror=function(Tt){var Nr=nt.result;Nr.close(),ot(Tt)},nt.onupgradeneeded=function(){var Tt=nt.result;Tt.deleteObjectStore(C.storeName)},nt.onsuccess=function(){var Tt=nt.result;Tt.close(),Ve(Tt)}});return He.then(function(Ve){le.db=Ve;for(var ot=0;ot<ce.length;ot++){var nt=ce[ot];nt._dbInfo.db=Ve,L(nt._dbInfo)}}).catch(function(Ve){throw(Y(C,Ve)||d.resolve()).catch(function(){}),Ve})}}):H=J.then(function(ie){R(C);var ue=y[C.name],le=ue.forages;ie.close();for(var ce=0;ce<le.length;ce++){var ye=le[ce];ye._dbInfo.db=null}var Ie=new d(function(He,Ve){var ot=u.deleteDatabase(C.name);ot.onerror=function(){var nt=ot.result;nt&&nt.close(),Ve(ot.error)},ot.onblocked=function(){},ot.onsuccess=function(){var nt=ot.result;nt&&nt.close(),He(nt)}});return Ie.then(function(He){ue.db=He;for(var Ve=0;Ve<le.length;Ve++){var ot=le[Ve];L(ot._dbInfo)}}).catch(function(He){throw(Y(C,He)||d.resolve()).catch(function(){}),He})})}return v(H,F),H}var Re={_driver:"asyncStorage",_initStorage:Ee,_support:l(),iterate:ke,getItem:ve,setItem:Ue,removeItem:Fe,clear:we,length:We,key:$e,keys:De,dropInstance:Le};function Be(){return typeof openDatabase=="function"}var Ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",je="~~local_forage_type~",Pe=/^~~local_forage_type~([^~]+)~/,Xe="__lfsc__:",st=Xe.length,rt="arbf",_e="blob",Ce="si08",xe="ui08",lt="uic8",At="si16",mt="si32",at="ur16",Ct="ui32",bt="fl32",ct="fl64",wt=st+rt.length,vt=Object.prototype.toString;function Je(C){var F=C.length*.75,k=C.length,j,H=0,U,J,ie,ue;C[C.length-1]==="="&&(F--,C[C.length-2]==="="&&F--);var le=new ArrayBuffer(F),ce=new Uint8Array(le);for(j=0;j<k;j+=4)U=Ge.indexOf(C[j]),J=Ge.indexOf(C[j+1]),ie=Ge.indexOf(C[j+2]),ue=Ge.indexOf(C[j+3]),ce[H++]=U<<2|J>>4,ce[H++]=(J&15)<<4|ie>>2,ce[H++]=(ie&3)<<6|ue&63;return le}function ht(C){var F=new Uint8Array(C),k="",j;for(j=0;j<F.length;j+=3)k+=Ge[F[j]>>2],k+=Ge[(F[j]&3)<<4|F[j+1]>>4],k+=Ge[(F[j+1]&15)<<2|F[j+2]>>6],k+=Ge[F[j+2]&63];return F.length%3===2?k=k.substring(0,k.length-1)+"=":F.length%3===1&&(k=k.substring(0,k.length-2)+"=="),k}function Rt(C,F){var k="";if(C&&(k=vt.call(C)),C&&(k==="[object ArrayBuffer]"||C.buffer&&vt.call(C.buffer)==="[object ArrayBuffer]")){var j,H=Xe;C instanceof ArrayBuffer?(j=C,H+=rt):(j=C.buffer,k==="[object Int8Array]"?H+=Ce:k==="[object Uint8Array]"?H+=xe:k==="[object Uint8ClampedArray]"?H+=lt:k==="[object Int16Array]"?H+=At:k==="[object Uint16Array]"?H+=at:k==="[object Int32Array]"?H+=mt:k==="[object Uint32Array]"?H+=Ct:k==="[object Float32Array]"?H+=bt:k==="[object Float64Array]"?H+=ct:F(new Error("Failed to get type for BinaryArray"))),F(H+ht(j))}else if(k==="[object Blob]"){var U=new FileReader;U.onload=function(){var J=je+C.type+"~"+ht(this.result);F(Xe+_e+J)},U.readAsArrayBuffer(C)}else try{F(JSON.stringify(C))}catch(J){F(null,J)}}function D(C){if(C.substring(0,st)!==Xe)return JSON.parse(C);var F=C.substring(wt),k=C.substring(st,wt),j;if(k===_e&&Pe.test(F)){var H=F.match(Pe);j=H[1],F=F.substring(H[0].length)}var U=Je(F);switch(k){case rt:return U;case _e:return c([U],{type:j});case Ce:return new Int8Array(U);case xe:return new Uint8Array(U);case lt:return new Uint8ClampedArray(U);case At:return new Int16Array(U);case at:return new Uint16Array(U);case mt:return new Int32Array(U);case Ct:return new Uint32Array(U);case bt:return new Float32Array(U);case ct:return new Float64Array(U);default:throw new Error("Unkown type: "+k)}}var Q={serialize:Rt,deserialize:D,stringToBuffer:Je,bufferToString:ht};function se(C,F,k,j){C.executeSql("CREATE TABLE IF NOT EXISTS "+F.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],k,j)}function ge(C){var F=this,k={db:null};if(C)for(var j in C)k[j]=typeof C[j]!="string"?C[j].toString():C[j];var H=new d(function(U,J){try{k.db=openDatabase(k.name,String(k.version),k.description,k.size)}catch(ie){return J(ie)}k.db.transaction(function(ie){se(ie,k,function(){F._dbInfo=k,U()},function(ue,le){J(le)})},J)});return k.serializer=Q,H}function B(C,F,k,j,H,U){C.executeSql(k,j,H,function(J,ie){ie.code===ie.SYNTAX_ERR?J.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[F.storeName],function(ue,le){le.rows.length?U(ue,ie):se(ue,F,function(){ue.executeSql(k,j,H,U)},U)},U):U(J,ie)},U)}function g(C,F){var k=this;C=_(C);var j=new d(function(H,U){k.ready().then(function(){var J=k._dbInfo;J.db.transaction(function(ie){B(ie,J,"SELECT * FROM "+J.storeName+" WHERE key = ? LIMIT 1",[C],function(ue,le){var ce=le.rows.length?le.rows.item(0).value:null;ce&&(ce=J.serializer.deserialize(ce)),H(ce)},function(ue,le){U(le)})})}).catch(U)});return v(j,F),j}function f(C,F){var k=this,j=new d(function(H,U){k.ready().then(function(){var J=k._dbInfo;J.db.transaction(function(ie){B(ie,J,"SELECT * FROM "+J.storeName,[],function(ue,le){for(var ce=le.rows,ye=ce.length,Ie=0;Ie<ye;Ie++){var He=ce.item(Ie),Ve=He.value;if(Ve&&(Ve=J.serializer.deserialize(Ve)),Ve=C(Ve,He.key,Ie+1),Ve!==void 0){H(Ve);return}}H()},function(ue,le){U(le)})})}).catch(U)});return v(j,F),j}function S(C,F,k,j){var H=this;C=_(C);var U=new d(function(J,ie){H.ready().then(function(){F===void 0&&(F=null);var ue=F,le=H._dbInfo;le.serializer.serialize(F,function(ce,ye){ye?ie(ye):le.db.transaction(function(Ie){B(Ie,le,"INSERT OR REPLACE INTO "+le.storeName+" (key, value) VALUES (?, ?)",[C,ce],function(){J(ue)},function(He,Ve){ie(Ve)})},function(Ie){if(Ie.code===Ie.QUOTA_ERR){if(j>0){J(S.apply(H,[C,ue,k,j-1]));return}ie(Ie)}})})}).catch(ie)});return v(U,k),U}function z(C,F,k){return S.apply(this,[C,F,k,1])}function h(C,F){var k=this;C=_(C);var j=new d(function(H,U){k.ready().then(function(){var J=k._dbInfo;J.db.transaction(function(ie){B(ie,J,"DELETE FROM "+J.storeName+" WHERE key = ?",[C],function(){H()},function(ue,le){U(le)})})}).catch(U)});return v(j,F),j}function M(C){var F=this,k=new d(function(j,H){F.ready().then(function(){var U=F._dbInfo;U.db.transaction(function(J){B(J,U,"DELETE FROM "+U.storeName,[],function(){j()},function(ie,ue){H(ue)})})}).catch(H)});return v(k,C),k}function V(C){var F=this,k=new d(function(j,H){F.ready().then(function(){var U=F._dbInfo;U.db.transaction(function(J){B(J,U,"SELECT COUNT(key) as c FROM "+U.storeName,[],function(ie,ue){var le=ue.rows.item(0).c;j(le)},function(ie,ue){H(ue)})})}).catch(H)});return v(k,C),k}function x(C,F){var k=this,j=new d(function(H,U){k.ready().then(function(){var J=k._dbInfo;J.db.transaction(function(ie){B(ie,J,"SELECT key FROM "+J.storeName+" WHERE id = ? LIMIT 1",[C+1],function(ue,le){var ce=le.rows.length?le.rows.item(0).key:null;H(ce)},function(ue,le){U(le)})})}).catch(U)});return v(j,F),j}function P(C){var F=this,k=new d(function(j,H){F.ready().then(function(){var U=F._dbInfo;U.db.transaction(function(J){B(J,U,"SELECT key FROM "+U.storeName,[],function(ie,ue){for(var le=[],ce=0;ce<ue.rows.length;ce++)le.push(ue.rows.item(ce).key);j(le)},function(ie,ue){H(ue)})})}).catch(H)});return v(k,C),k}function $(C){return new d(function(F,k){C.transaction(function(j){j.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(H,U){for(var J=[],ie=0;ie<U.rows.length;ie++)J.push(U.rows.item(ie).name);F({db:C,storeNames:J})},function(H,U){k(U)})},function(j){k(j)})})}function me(C,F){F=w.apply(this,arguments);var k=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||k.name,C.storeName=C.storeName||k.storeName);var j=this,H;return C.name?H=new d(function(U){var J;C.name===k.name?J=j._dbInfo.db:J=openDatabase(C.name,"","",0),C.storeName?U({db:J,storeNames:[C.storeName]}):U($(J))}).then(function(U){return new d(function(J,ie){U.db.transaction(function(ue){function le(He){return new d(function(Ve,ot){ue.executeSql("DROP TABLE IF EXISTS "+He,[],function(){Ve()},function(nt,Tt){ot(Tt)})})}for(var ce=[],ye=0,Ie=U.storeNames.length;ye<Ie;ye++)ce.push(le(U.storeNames[ye]));d.all(ce).then(function(){J()}).catch(function(He){ie(He)})},function(ue){ie(ue)})})}):H=d.reject("Invalid arguments"),v(H,F),H}var he={_driver:"webSQLStorage",_initStorage:ge,_support:Be(),iterate:f,getItem:g,setItem:z,removeItem:h,clear:M,length:V,key:x,keys:P,dropInstance:me};function de(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Se(C,F){var k=C.name+"/";return C.storeName!==F.storeName&&(k+=C.storeName+"/"),k}function Qe(){var C="_localforage_support_test";try{return localStorage.setItem(C,!0),localStorage.removeItem(C),!1}catch{return!0}}function qe(){return!Qe()||localStorage.length>0}function Oe(C){var F=this,k={};if(C)for(var j in C)k[j]=C[j];return k.keyPrefix=Se(C,F._defaultConfig),qe()?(F._dbInfo=k,k.serializer=Q,d.resolve()):d.reject()}function Ne(C){var F=this,k=F.ready().then(function(){for(var j=F._dbInfo.keyPrefix,H=localStorage.length-1;H>=0;H--){var U=localStorage.key(H);U.indexOf(j)===0&&localStorage.removeItem(U)}});return v(k,C),k}function it(C,F){var k=this;C=_(C);var j=k.ready().then(function(){var H=k._dbInfo,U=localStorage.getItem(H.keyPrefix+C);return U&&(U=H.serializer.deserialize(U)),U});return v(j,F),j}function Ke(C,F){var k=this,j=k.ready().then(function(){for(var H=k._dbInfo,U=H.keyPrefix,J=U.length,ie=localStorage.length,ue=1,le=0;le<ie;le++){var ce=localStorage.key(le);if(ce.indexOf(U)===0){var ye=localStorage.getItem(ce);if(ye&&(ye=H.serializer.deserialize(ye)),ye=C(ye,ce.substring(J),ue++),ye!==void 0)return ye}}});return v(j,F),j}function Ht(C,F){var k=this,j=k.ready().then(function(){var H=k._dbInfo,U;try{U=localStorage.key(C)}catch{U=null}return U&&(U=U.substring(H.keyPrefix.length)),U});return v(j,F),j}function fr(C){var F=this,k=F.ready().then(function(){for(var j=F._dbInfo,H=localStorage.length,U=[],J=0;J<H;J++){var ie=localStorage.key(J);ie.indexOf(j.keyPrefix)===0&&U.push(ie.substring(j.keyPrefix.length))}return U});return v(k,C),k}function et(C){var F=this,k=F.keys().then(function(j){return j.length});return v(k,C),k}function Et(C,F){var k=this;C=_(C);var j=k.ready().then(function(){var H=k._dbInfo;localStorage.removeItem(H.keyPrefix+C)});return v(j,F),j}function ft(C,F,k){var j=this;C=_(C);var H=j.ready().then(function(){F===void 0&&(F=null);var U=F;return new d(function(J,ie){var ue=j._dbInfo;ue.serializer.serialize(F,function(le,ce){if(ce)ie(ce);else try{localStorage.setItem(ue.keyPrefix+C,le),J(U)}catch(ye){(ye.name==="QuotaExceededError"||ye.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ie(ye),ie(ye)}})})});return v(H,k),H}function Nt(C,F){if(F=w.apply(this,arguments),C=typeof C!="function"&&C||{},!C.name){var k=this.config();C.name=C.name||k.name,C.storeName=C.storeName||k.storeName}var j=this,H;return C.name?H=new d(function(U){C.storeName?U(Se(C,j._defaultConfig)):U(C.name+"/")}).then(function(U){for(var J=localStorage.length-1;J>=0;J--){var ie=localStorage.key(J);ie.indexOf(U)===0&&localStorage.removeItem(ie)}}):H=d.reject("Invalid arguments"),v(H,F),H}var Dt={_driver:"localStorageWrapper",_initStorage:Oe,_support:de(),iterate:Ke,getItem:it,setItem:ft,removeItem:Et,clear:Ne,length:et,key:Ht,keys:fr,dropInstance:Nt},Qr=function(F,k){return F===k||typeof F=="number"&&typeof k=="number"&&isNaN(F)&&isNaN(k)},Ml=function(F,k){for(var j=F.length,H=0;H<j;){if(Qr(F[H],k))return!0;H++}return!1},Zs=Array.isArray||function(C){return Object.prototype.toString.call(C)==="[object Array]"},Rr={},Xs={},cr={INDEXEDDB:Re,WEBSQL:he,LOCALSTORAGE:Dt},Ul=[cr.INDEXEDDB._driver,cr.WEBSQL._driver,cr.LOCALSTORAGE._driver],ei=["dropInstance"],Vi=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ei),jl={description:"",driver:Ul.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ql(C,F){C[F]=function(){var k=arguments;return C.ready().then(function(){return C[F].apply(C,k)})}}function $i(){for(var C=1;C<arguments.length;C++){var F=arguments[C];if(F)for(var k in F)F.hasOwnProperty(k)&&(Zs(F[k])?arguments[0][k]=F[k].slice():arguments[0][k]=F[k])}return arguments[0]}var Wl=function(){function C(F){a(this,C);for(var k in cr)if(cr.hasOwnProperty(k)){var j=cr[k],H=j._driver;this[k]=H,Rr[H]||this.defineDriver(j)}this._defaultConfig=$i({},jl),this._config=$i({},this._defaultConfig,F),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return C.prototype.config=function(k){if((typeof k>"u"?"undefined":n(k))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var j in k){if(j==="storeName"&&(k[j]=k[j].replace(/\W/g,"_")),j==="version"&&typeof k[j]!="number")return new Error("Database version must be a number.");this._config[j]=k[j]}return"driver"in k&&k.driver?this.setDriver(this._config.driver):!0}else return typeof k=="string"?this._config[k]:this._config},C.prototype.defineDriver=function(k,j,H){var U=new d(function(J,ie){try{var ue=k._driver,le=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!k._driver){ie(le);return}for(var ce=Vi.concat("_initStorage"),ye=0,Ie=ce.length;ye<Ie;ye++){var He=ce[ye],Ve=!Ml(ei,He);if((Ve||k[He])&&typeof k[He]!="function"){ie(le);return}}var ot=function(){for(var Nr=function($l){return function(){var Gl=new Error("Method "+$l+" is not implemented by the current driver"),Ks=d.reject(Gl);return v(Ks,arguments[arguments.length-1]),Ks}},Gi=0,Vl=ei.length;Gi<Vl;Gi++){var Yi=ei[Gi];k[Yi]||(k[Yi]=Nr(Yi))}};ot();var nt=function(Nr){Rr[ue],Rr[ue]=k,Xs[ue]=Nr,J()};"_support"in k?k._support&&typeof k._support=="function"?k._support().then(nt,ie):nt(!!k._support):nt(!0)}catch(Tt){ie(Tt)}});return b(U,j,H),U},C.prototype.driver=function(){return this._driver||null},C.prototype.getDriver=function(k,j,H){var U=Rr[k]?d.resolve(Rr[k]):d.reject(new Error("Driver not found."));return b(U,j,H),U},C.prototype.getSerializer=function(k){var j=d.resolve(Q);return b(j,k),j},C.prototype.ready=function(k){var j=this,H=j._driverSet.then(function(){return j._ready===null&&(j._ready=j._initDriver()),j._ready});return b(H,k,k),H},C.prototype.setDriver=function(k,j,H){var U=this;Zs(k)||(k=[k]);var J=this._getSupportedDrivers(k);function ie(){U._config.driver=U.driver()}function ue(ye){return U._extend(ye),ie(),U._ready=U._initStorage(U._config),U._ready}function le(ye){return function(){var Ie=0;function He(){for(;Ie<ye.length;){var Ve=ye[Ie];return Ie++,U._dbInfo=null,U._ready=null,U.getDriver(Ve).then(ue).catch(He)}ie();var ot=new Error("No available storage method found.");return U._driverSet=d.reject(ot),U._driverSet}return He()}}var ce=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=ce.then(function(){var ye=J[0];return U._dbInfo=null,U._ready=null,U.getDriver(ye).then(function(Ie){U._driver=Ie._driver,ie(),U._wrapLibraryMethodsWithReady(),U._initDriver=le(J)})}).catch(function(){ie();var ye=new Error("No available storage method found.");return U._driverSet=d.reject(ye),U._driverSet}),b(this._driverSet,j,H),this._driverSet},C.prototype.supports=function(k){return!!Xs[k]},C.prototype._extend=function(k){$i(this,k)},C.prototype._getSupportedDrivers=function(k){for(var j=[],H=0,U=k.length;H<U;H++){var J=k[H];this.supports(J)&&j.push(J)}return j},C.prototype._wrapLibraryMethodsWithReady=function(){for(var k=0,j=Vi.length;k<j;k++)ql(this,Vi[k])},C.prototype.createInstance=function(k){return new C(k)},C}(),Hl=new Wl;r.exports=Hl},{3:3}]},{},[4])(4)})}(Xn)),Xn.exports}var Lg=Ig();const su=lr(Lg);class zl{constructor(e,t,r){this.urlCache={},this.storage=void 0,this.name=e,this.requester=t||Yr,this.resolver=r,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;typeof su>"u"&&(e=su),this.storage=e.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let t=navigator.onLine;this.online=t,t?this.emit("online",this):this.emit("offline",this)}add(e,t){let r=e.resources.map(i=>{let{href:n}=i,a=this.resolver(n),o=window.encodeURIComponent(a);return this.storage.getItem(o).then(u=>!u||t?this.requester(a,"binary").then(l=>this.storage.setItem(o,l)):u)});return Promise.all(r)}put(e,t,r){let i=window.encodeURIComponent(e);return this.storage.getItem(i).then(n=>n||this.requester(e,"binary",t,r).then(a=>this.storage.setItem(i,a)))}request(e,t,r,i){return this.online?this.requester(e,t,r,i).then(n=>(this.put(e),n)):this.retrieve(e,t)}retrieve(e,t){new ze;var r,i=new Zt(e);return t||(t=i.extension),t=="blob"?r=this.getBlob(e):r=this.getText(e),r.then(n=>{var a=new ze,o;return n?(o=this.handleResponse(n,t),a.resolve(o)):a.reject({message:"File not found in storage: "+e,stack:new Error().stack}),a.promise})}handleResponse(e,t){var r;return t=="json"?r=JSON.parse(e):Gr(t)?r=qt(e,"text/xml"):t=="xhtml"?r=qt(e,"application/xhtml+xml"):t=="html"||t=="htm"?r=qt(e,"text/html"):r=e,r}getBlob(e,t){let r=window.encodeURIComponent(e);return this.storage.getItem(r).then(function(i){if(i)return t=t||Ar.lookup(e),new Blob([i],{type:t})})}getText(e,t){let r=window.encodeURIComponent(e);return t=t||Ar.lookup(e),this.storage.getItem(r).then(function(i){var n=new ze,a=new FileReader,o;if(i)return o=new Blob([i],{type:t}),a.addEventListener("loadend",()=>{n.resolve(a.result)}),a.readAsText(o,t),n.promise})}getBase64(e,t){let r=window.encodeURIComponent(e);return t=t||Ar.lookup(e),this.storage.getItem(r).then(i=>{var n=new ze,a=new FileReader,o;if(i)return o=new Blob([i],{type:t}),a.addEventListener("loadend",()=>{n.resolve(a.result)}),a.readAsDataURL(o,t),n.promise})}createUrl(e,t){var r=new ze,i=window.URL||window.webkitURL||window.mozURL,n,a,o=t&&t.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(o?(a=this.getBase64(e),a&&a.then(function(u){this.urlCache[e]=u,r.resolve(u)}.bind(this))):(a=this.getBlob(e),a&&a.then(function(u){n=i.createObjectURL(u),this.urlCache[e]=n,r.resolve(n)}.bind(this))),a||r.reject({message:"File not found in storage: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&t.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.urlCache={},this.removeListeners()}}Wt(zl.prototype);class Kn{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;const t=Ye(e,"display_options");return t?(Yt(t,"option").forEach(i=>{let n="";switch(i.childNodes.length&&(n=i.childNodes[0].nodeValue),i.attributes.name.value){case"interactive":this.interactive=n;break;case"fixed-layout":this.fixedLayout=n;break;case"open-to-spread":this.openToSpread=n;break;case"orientation-lock":this.orientationLock=n;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const au="META-INF/container.xml",Pg="META-INF/com.apple.ibooks.display-options.xml",Lt={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class Ys{constructor(e,t){typeof t>"u"&&typeof e!="string"&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(t=e,e=void 0),this.settings=dt(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),dt(this.settings,t),this.opening=new ze,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new ze,spine:new ze,metadata:new ze,cover:new ze,navigation:new ze,pageList:new ze,resources:new ze,displayOptions:new ze},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||Yr,this.spine=new Zp,this.locations=new Ol(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(r=>{var i=new Error("Cannot load book at "+e);this.emit(pe.BOOK.OPEN_FAILED,i)})}open(e,t){var r,i=t||this.determineType(e);return i===Lt.BINARY?(this.archived=!0,this.url=new Pt("/",""),r=this.openEpub(e)):i===Lt.BASE64?(this.archived=!0,this.url=new Pt("/",""),r=this.openEpub(e,i)):i===Lt.EPUB?(this.archived=!0,this.url=new Pt("/",""),r=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):i==Lt.OPF?(this.url=new Pt(e),r=this.openPackaging(this.url.Path.toString())):i==Lt.MANIFEST?(this.url=new Pt(e),r=this.openManifest(this.url.Path.toString())):(this.url=new Pt(e),r=this.openContainer(au).then(this.openPackaging.bind(this))),r}openEpub(e,t){return this.unarchive(e,t||this.settings.encoding).then(()=>this.openContainer(au)).then(r=>this.openPackaging(r))}openContainer(e){return this.load(e).then(t=>(this.container=new Xp(t),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new Zt(e),this.load(e).then(t=>(this.packaging=new Bo(t),this.unpack(this.packaging)))}openManifest(e){return this.path=new Zt(e),this.load(e).then(t=>(this.packaging=new Bo,this.packaging.load(t),this.unpack(this.packaging)))}load(e){var t=this.resolve(e);return this.archived?this.archive.request(t):this.request(t,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,t){if(e){var r=e,i=e.indexOf("://")>-1;return i?e:(this.path&&(r=this.path.resolve(e)),t!=!1&&this.url&&(r=this.url.resolve(r)),r)}}canonical(e){var t=e;return e?(this.settings.canonical?t=this.settings.canonical(e):t=this.resolve(e,!0),t):""}determineType(e){var t,r,i;if(this.settings.encoding==="base64")return Lt.BASE64;if(typeof e!="string")return Lt.BINARY;if(t=new Pt(e),r=t.path(),i=r.extension,i&&(i=i.replace(/\?.*$/,"")),!i)return Lt.DIRECTORY;if(i==="epub")return Lt.EPUB;if(i==="opf")return Lt.OPF;if(i==="json")return Lt.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===""?this.load(this.url.resolve(Pg)).then(t=>{this.displayOptions=new Kn(t),this.loading.displayOptions.resolve(this.displayOptions)}).catch(t=>{this.displayOptions=new Kn,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new Kn,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new eg(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(t=>{}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let t=e.navPath||e.ncxPath,r=e.toc;return r?new Promise((i,n)=>{this.navigation=new Nn(r),e.pageList&&(this.pageList=new In(e.pageList)),i(this.navigation)}):t?this.load(t,"xml").then(i=>(this.navigation=new Nn(i),this.pageList=new In(i),this.navigation)):new Promise((i,n)=>{this.navigation=new Nn,this.pageList=new In,i(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,t){return this.rendition=new Gs(this,t),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,t){return this.archive=new Ng,this.archive.open(e,t)}store(e){let t=this.settings.replacements&&this.settings.replacements!=="none",r=this.url,i=this.settings.requestMethod||Yr.bind(this);return this.storage=new zl(e,i,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let n=(a,o)=>{o.output=this.resources.substitute(a,o.url)};this.resources.settings.replacements=t||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new Pt("/",""),this.spine.hooks.serialize.register(n)}),this.storage.on("online",()=>{this.url=r,this.spine.hooks.serialize.deregister(n)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,t)=>{t.output=this.resources.substitute(e,t.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var t=new Me(e),r=this.spine.get(t.spinePos),i=this.load.bind(this);return r?r.load(i).then(function(n){var a=t.toRange(r.document);return a}):new Promise((n,a)=>{a("CFI could not be found")})}key(e){var t=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${Hi}:${t}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}Wt(Ys.prototype);function Or(s,e){return new Ys(s,e)}Or.VERSION=Hi;typeof global<"u"&&(global.EPUBJS_VERSION=Hi);Or.Book=Ys;Or.Rendition=Gs;Or.Contents=Vs;Or.CFI=Me;Or.utils=jp;export{fp as B,Mg as P,ut as a,Wg as b,yt as c,Hg as d,Or as e,qg as f,jg as i,Ug as p,zg as r};
