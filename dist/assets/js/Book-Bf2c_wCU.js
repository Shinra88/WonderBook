import{r,u as M,j as e,k as F}from"./react-vendor-CHNrpsCK.js";import{T as f,A as y,d as I,F as j,u as D,B as H,a as V,b as U,c as W,g as N}from"./index-HN6HrZ4S.js";import{g as E,a as P,r as Q}from"./collectionService-BcqxLn22.js";import{B as $}from"./BackArrow-DMkPAoQd.js";import{P as p}from"./vendor-DsLnOOP7.js";import{d as q}from"./commentService-_ed6Ovuu.js";const O="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='2500'%20height='2500'%20viewBox='0%200%20192.756%20192.756'%3e%3cg%20fill-rule='evenodd'%20clip-rule='evenodd'%3e%3cpath%20d='M0%200h192.756v192.756H0V0z'/%3e%3cpath%20fill='%23fff'%20d='M130.615%20163.102l-116.421-18.44L32.638%2028.21l116.423%2018.439-18.446%20116.453z'/%3e%3cpath%20d='M126.729%2089.65c-2.523-.147-4.523-.427-6.229-1.059-3.107-1.152-8.148-4.368-8.092-10.587v-.773c-.064-6.172%204.982-9.393%208.092-10.545%201.705-.632%203.705-.912%206.229-1.059%209.357-.543%2013.33%202.563%2014.998%205.261l3.381-21.348L35.522%2032.184l-5.328%2033.643h2.365c-.062-.949-.14-5.109%202.928-7.751%200%200%203.365-3.314%2013.127-2.532%200%200%209.969.826%209.969%208.066h-6.937s-.252-4.023-6.455-3.84c0%200-6.34-.128-5.792%206.057h19.185v3.171c.565-.865%202.023-2.304%205.718-3.302%200%200%2015.755-3.469%2017.341%207.763v15.805H74.71V76.155c-1.031-7.063-8.892-5.772-8.892-5.772-5.375.457-6.871%203.513-7.234%205.755v13.126h-6.933V70.575H39.503v18.69H32.57v-18.69h-3.129l-11.276%2071.193%20109.584%2017.357%2011.41-72.042c-2.364%201.674-6.206%202.928-12.43%202.567z'%20fill='%23c8972b'/%3e%3cpath%20d='M128.504%2070.227s-8.568-.531-8.871%207.286v.238c.291%207.832%208.871%207.299%208.871%207.299%203.867.022%205.969-1.223%207.045-3.44h4.479l1.258-7.943h-5.736c-1.077-2.218-3.179-3.462-7.046-3.44z'%20fill='%23c8972b'/%3e%3cpath%20d='M111.34%2075.168l.176%2014.096h-6.879l-.23-2.64v-.106c-2.725%203.411-9.369%203.205-9.369%203.205-12.451.229-12.266-6.616-12.266-6.616-.965-7.121%208.097-6.998%2015.711-7.443%207.572-.441%205.789-3.399%205.789-3.399-.322-2.48-5.789-2.724-5.789-2.724-7.581-.597-7.642%204.063-7.642%204.063h-7.095s.025-5.981%207.507-7.699c.07-.023%204.462-1.313%2012.107-.038-.001.001%208.576%201.161%207.98%209.301zm-7.002%203.126c-.008-.11-.059%200-.059%200-.758%201.036-4.557%201.049-4.557%201.049-3.79.255-9.435.082-9.344%203.414.096%203.537%204.704%203.141%206.859%203.053%202.434-.099%204.523-.751%206.258-2.868%201.513-1.845.851-4.539.843-4.648z'%20fill='%23fff'/%3e%3cpath%20d='M158.988%20157.139a3.731%203.731%200%200%201%203.1%204.264%203.73%203.73%200%200%201-4.264%203.098%203.728%203.728%200%200%201%201.164-7.362zM155.697%20127.109c7.143.762%2010.174-3.711%2011.631-6.371%203.705-6.758%202.32-14.645%202.32-14.645-.65-3.25-2.561-8.613-9.586-9.726-6.52-1.033-10.426%203.407-12.049%206.298%200%200-3.65%206.686-2.287%2014.648.585%203.425%203.213%209.076%209.971%209.796zm.791-7.211c-6.43-1.018-6.498-7.066-6.111-9.52.33-2.072%202.086-7.779%208.701-6.838%206.623.941%206.184%207.676%205.914%209.346-.359%201.93-2.023%208.04-8.504%207.012zM150.906%20157.084c7.168.838%2010.076-3.725%2011.721-6.336%201.088-1.725%201.719-4.086%202.283-7.088%201.662-8.857-1.213-12.848-3.629-14.646-.854-.588-1.279-.773-2.125-.963l-1.111%207.01c2.021%201.41%202.988%203.398%202.295%207.789-.299%201.885-1.982%207.852-8.553%207.061l-.236-.037c-6.48-1.285-6.113-7.605-5.818-9.629.547-3.746%202.09-5.691%204.467-6.428l1.111-7.01c-.863-.08-1.326-.035-2.32.262-2.85.965-6.68%203.965-7.9%2012.82-.346%202.504-.457%205.473-.049%207.404.687%203.244%203.009%208.99%209.864%209.791zM153.391%2060.732c-.914%205.006%201.754%208.378%203.377%209.915-3.611%201.197-5.703%204.712-6.191%207.857-.893%205.776%202.342%208.761%202.342%208.761l-3.133-.496-1.053%206.651%2023.148%203.667%201.053-6.653-12.408-1.955s-5.395-.512-5.354-6.272c.029-3.801%202.404-5.806%206.607-5.14l12.947%202.051%201.021-6.444-12.416-1.966.008-.001s-.039-.003-.105-.013l-.135-.022c-1.049-.181-5.15-1.21-5.113-6.236.029-3.802%202.404-5.806%206.605-5.141l12.949%202.051%201.021-6.443-14.684-2.326c-6.262-.994-9.715%203.938-10.486%208.155z'%20fill='%23c8972b'/%3e%3c/g%3e%3c/svg%3e",Z="data:image/svg+xml,%3csvg%20height='752'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='-0.658000000000003%20-1.875%20384.24600000000004%20119.917'%3e%3cpath%20d='M81.633%2027.542V64.65a2.268%202.268%200%200%201-2.268%202.268H67.651a2.269%202.269%200%200%201-2.268-2.268V4.292a2.268%202.268%200%200%201%202.268-2.268h10.84a2.268%202.268%200%200%201%202.268%202.268v8.5S84.634.667%2096.134.667c0%200%2011.375-1.375%2016%2011.25%200%200%203.875-11.25%2015.625-11.25%200%200%2017.474-1.039%2017.474%2017.042l.133%209.958v37.108a2.268%202.268%200%200%201-2.268%202.268h-11.715a2.269%202.269%200%200%201-2.268-2.268l-.107-40.483c.333-9.167-7.083-8.5-7.083-8.5-9.333.167-8.435%2011.875-8.435%2011.875v37.108a2.268%202.268%200%200%201-2.268%202.268H99.508a2.269%202.269%200%200%201-2.268-2.268V25.208s.685-9.5-7.649-9.5c.001%200-8.249-1.083-7.958%2011.834zM383.588%2027.431v37.107a2.269%202.269%200%200%201-2.268%202.268l-12.183.236a2.269%202.269%200%200%201-2.268-2.268V25.208s.685-9.5-7.648-9.5c0%200-7.959-.392-7.959%2014.503v34.438a2.269%202.269%200%200%201-2.268%202.268h-11.715a2.269%202.269%200%200%201-2.268-2.268V4.292a2.269%202.269%200%200%201%202.268-2.268h10.84a2.268%202.268%200%200%201%202.268%202.268v8.5S354.262.667%20365.762.667c0%200%2012.319-1.869%2016.468%2011.015.001-.001%201.358%202.657%201.358%2015.749zM299.008.417c-14.98%200-27.125%2012.625-27.125%2033.875%200%2018.709%209.375%2033.875%2027.125%2033.875%2016.75%200%2027.125-15.166%2027.125-33.875%200-20.875-12.144-33.875-27.125-33.875zm9.455%2034.625c0%208-1%2012.25-1%2012.25-1.423%208.457-7.562%208.469-8.467%208.424-.977.039-7.168-.049-8.449-8.424%200%200-1-4.25-1-12.25v-1.333c0-8%201-12.25%201-12.25%201.281-8.375%207.473-8.463%208.449-8.425.905-.045%207.044-.034%208.467%208.425%200%200%201%204.25%201%2012.25zM265.084%2012.708v-8.66a2.269%202.269%200%200%200-2.268-2.268h-38.72a2.268%202.268%200%200%200-2.268%202.268v8.593a2.269%202.269%200%200%200%202.268%202.268h20.197l-23.906%2034.68s-.942%201.406-.911%202.959v10.549s-.156%203.617%203.946%201.518c0%200%207.286-4.402%2019.503-4.402%200%200%2012.065-.15%2020.109%204.781%200%200%203.339%201.518%203.339-1.82v-9.182s.303-2.43-2.884-3.947c0%200-9.258-5.084-21.399-4.25zM56.342%2056.124l-3.667-5.582c-1.167-2.084-1.083-4.418-1.083-4.418V20.375C52.092-1.875%2027.425.042%2027.425.042%205.497.042%202.258%2017.107%202.258%2017.107c-.914%203.431%201.744%203.514%201.744%203.514l10.715%201.087s1.827.418%202.492-1.757c0%200%201.411-7.445%209.302-7.445%208.586%200%208.497%207.369%208.497%207.369v6.169c-17.14.573-25.083%205.331-25.083%205.331-10.583%206-9.917%2017.917-9.917%2017.917%200%2019.416%2018.5%2018.582%2018.5%2018.582%2011.833%200%2018.833-8.666%2018.833-8.666%202.083%203.668%205.917%207.166%205.917%207.166%201.918%202.08%203.917.334%203.917.334l8.667-7.416c1.916-1.418.5-3.168.5-3.168zm-32.059-.24c-5.566%200-7.635-5.531-6.711-10.967.925-5.436%205.729-9.708%2017.437-9.583v3.305c.415%2014.438-6.093%2017.245-10.726%2017.245zM212.008%2056.124l-3.666-5.582c-1.167-2.084-1.084-4.418-1.084-4.418V20.375c.5-22.25-24.167-20.333-24.167-20.333-21.928%200-25.167%2017.065-25.167%2017.065-.914%203.431%201.744%203.514%201.744%203.514l10.715%201.087s1.827.418%202.492-1.757c0%200%201.411-7.445%209.302-7.445%208.586%200%208.497%207.369%208.497%207.369v6.169c-17.139.573-25.083%205.331-25.083%205.331-10.583%206-9.917%2017.917-9.917%2017.917%200%2019.416%2018.5%2018.582%2018.5%2018.582%2011.833%200%2018.833-8.666%2018.833-8.666%202.084%203.668%205.916%207.166%205.916%207.166%201.918%202.08%203.918.334%203.918.334l8.666-7.416c1.917-1.418.501-3.168.501-3.168zm-32.059-.24c-5.566%200-7.635-5.531-6.711-10.967.925-5.436%205.729-9.708%2017.436-9.583v3.305c.416%2014.438-6.091%2017.245-10.725%2017.245z'/%3e%3cg%20fill='%23f3971b'%3e%3cpath%20d='M241.504%20104.862s-.98%201.705.224%202.086c0%200%201.36.531%203.056-1.043%200%200%2012.369-10.805%2012.667-30.477%200%200%20.091-2.457-.895-3.129%200%200-3.875-3.428-17.809-2.385%200%200-12.146.82-18.777%206.707%200%200-.596.521-.596%201.191%200%200-.143%201.447%203.502.82%200%200%2012.145-1.715%2019.373-.82%200%200%203.727.447%204.77%201.715%200%200%201.714%201.416.819%206.109%200%20.002-2.46%2011.924-6.334%2019.226z'/%3e%3cpath%20d='M239.055%2085.989s1.814%202.35-1.113%204.377c0%200-31.267%2025.01-83.767%2025.01%200%200-54.042%202.666-99.167-38.334%200%200-1.582-1.389-.6-2.68%200%200%20.878-1.188%203.151.104%200%200%2042.449%2026.451%2098.199%2026.451%200%200%2038.75%201.5%2078.5-15.5%200%200%203.167-1.641%204.797.572z'/%3e%3c/g%3e%3c/svg%3e",K="/assets/images/cultura-CbPUcpQo.svg",Y="data:image/svg+xml,%3csvg%20enable-background='new%200%200%202497.3%20393'%20viewBox='0%200%202497.3%20393'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m278%20270.7c-19.8%2028-52%2044.6-86.2%2044.5-61.2%200-107.4-46.4-107.4-107.9%200-30.8%2011.2-58.6%2031.5-78.3%2019.7-19.1%2046.7-29.6%2075.9-29.6%2034.3-.1%2066.5%2016.6%2086.2%2044.6l3.2%204.5%2063.7-54-3.2-3.8c-37.3-44.2-92.2-69.7-150-69.5-105.7-.1-191.7%2083.4-191.7%20186.1%200%20102.5%2086%20185.7%20191.7%20185.7%2057.7.3%20112.6-25%20149.9-69l3.2-3.8-63.7-54z'%20fill='%23e23a05'/%3e%3cpath%20d='m652.7%205.5v378.5h-70.3v-16.6c-22.1%2013-50.7%2021.1-79.3%2021.1-75.8%200-138-57.2-138-141%200-85.3%2062.2-141%20138-141%2027.8.1%2055%207.2%2079.3%2020.7v-121.7zm-70.3%20296.2v-109.5c-16.6-14-40.1-23.1-66.7-23.1-46.7%200-81.3%2033.6-81.3%2078.3%200%2046.2%2034.6%2077.8%2081.3%2077.8%2026.1%200%2050.2-9%2066.7-23.5zm130.4-168.3h69.8v250.6h-69.8zm142.1%20176.8c33.6%2014.6%2059.2%2022.1%2093.4%2022.1%2032.1%200%2044.7-12%2044.7-26.1%200-15.6-15.6-22.6-57.7-31.6-58.8-13-101.4-32.1-101.4-84.8%200-49.2%2040.7-83.3%20103.9-83.3%2042.7%200%2076.8%2010%20106.4%2022.1l-23.1%2051.2c-26.6-10-57.7-17.6-84.8-17.6-26.6%200-40.1%209.5-40.1%2024.1%200%2015.1%2016.6%2022.1%2060.2%2031.1%2063.2%2013.1%2099.9%2035.1%2099.9%2084.8%200%2051.7-39.7%2085.8-109.4%2085.8-47.2%200-77.8-6.5-117.9-26.1zm485.8%2023.1c-24.6%2033.6-63.2%2054.7-105.4%2054.7-82.3%200-149.1-62.7-149.1-140.5%200-78.3%2066.7-141%20149.1-141%2043.7%200%2081.8%2021.1%20106.4%2054.2l-45.2%2041.7c-13.6-20.5-36.6-32.9-61.2-33.1-44.2%200-80.3%2035.1-80.3%2078.3%200%2042.7%2036.1%2077.8%2080.3%2077.8%2024.8-.2%2047.8-12.8%2061.2-33.6zm319.1-85.9c0%2077.8-66.7%20140.5-149.1%20140.5s-149.1-62.7-149.1-140.5c0-78.3%2066.7-141%20149.1-141s149.1%2062.7%20149.1%20141zm-68.7%200c0-43.2-35.6-78.3-80.3-78.3-44.2%200-80.3%2035.1-80.3%2078.3%200%2042.7%2036.1%2077.8%2080.3%2077.8%2044.6%200%2080.3-35.1%2080.3-77.8zm370.8-133.7v270.3h-69.8v-18.1c-20.7%2014.1-46.2%2022.1-74.3%2022.1-79.8%200-116.5-37.1-116.5-125.5v-148.8h69.8v148.8c0%2042.2%2020.7%2062.7%2059.2%2062.7%2025.1%200%2045.7-8%2061.7-21.6v-190h69.9zm316.7%20118.2v152.1h-69.8v-152.1c0-42.2-20.7-62.7-59.2-62.7-24.6%200-44.7%208-60.2%2021.6v193.2h-69.8v-272.6h69.8v17.1c20.1-14.1%2045.2-22.1%2072.8-22.1%2079.7%200%20116.4%2037.2%20116.4%20125.5zm142.4-62.8v96.4c0%2048.7%208%2062.7%2043.2%2062.7%2012%200%2022.6-1.5%2032.1-2.5v52.2c-3%201-24.1%2010-63.2%2010-45.7%200-82.3-28.6-82.3-85.8v-133h-38.6v-57.7h38.6v-105.9h70.3v105.9h76.2v57.7z'%20fill='%23293847'/%3e%3cpath%20d='m710.1%2041.2c0-22.6%2018-41.2%2040.1-41.2s39.7%2018.6%2039.7%2041.2-17.6%2040.7-39.7%2040.7c-22.3-.2-40.3-18.4-40.1-40.7z'%20fill='%23e23a05'/%3e%3c/svg%3e",G="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='2500'%20height='1002'%20viewBox='0.1%200.1%20299.8%20120.125'%3e%3cpath%20d='M38.867%2026.309C17.721%2026.309.1%2035.279.1%2062.345c0%2021.442%2011.849%2034.944%2039.312%2034.944%2032.326%200%2034.398-21.294%2034.398-21.294H58.147s-3.358%2011.466-19.69%2011.466c-13.302%200-22.869-8.986-22.869-21.58h59.861v-7.904c0-12.46-7.91-31.668-36.582-31.668zM38.32%2036.41c12.662%200%2021.294%207.757%2021.294%2019.383h-43.68c0-12.343%2011.268-19.383%2022.386-19.383z'%20fill='%23e53238'/%3e%3cpath%20d='M75.438.1v83.597c0%204.745-.339%2011.408-.339%2011.408h14.939s.537-4.785.537-9.159c0%200%207.381%2011.548%2027.451%2011.548%2021.134%200%2035.49-14.674%2035.49-35.695%200-19.557-13.186-35.286-35.456-35.286-20.854%200-27.334%2011.261-27.334%2011.261V.1H75.438zm38.766%2036.753c14.352%200%2023.479%2010.652%2023.479%2024.946%200%2015.328-10.541%2025.355-23.376%2025.355-15.318%200-23.581-11.961-23.581-25.219%200-12.354%207.414-25.082%2023.478-25.082z'%20fill='%230064d2'/%3e%3cpath%20d='M190.645%2026.309c-31.812%200-33.852%2017.418-33.852%2020.202h15.834s.83-10.169%2016.926-10.169c10.459%200%2018.564%204.788%2018.564%2013.991v3.276h-18.564c-24.645%200-37.674%207.21-37.674%2021.841%200%2014.398%2012.038%2022.232%2028.307%2022.232%2022.172%200%2029.314-12.251%2029.314-12.251%200%204.873.375%209.675.375%209.675h14.076s-.545-5.952-.545-9.76V52.432c0-21.582-17.408-26.123-32.761-26.123zm17.472%2037.128v4.368c0%205.697-3.516%2019.861-24.212%2019.861-11.333%200-16.192-5.656-16.192-12.217%200-11.935%2016.363-12.012%2040.404-12.012z'%20fill='%23f5af02'/%3e%3cpath%20d='M214.879%2029.041h17.813l25.565%2051.218%2025.506-51.218H299.9l-46.459%2091.184h-16.927l13.406-25.419-35.041-65.765z'%20fill='%2386b817'/%3e%3c/svg%3e",X="i0L8-",J="moaya",e2="yHmaB",o2="WxRf7",t2="KZBFq",s2="MHMxh",c2="YsZuw",a2="fKXZt",n2="VVQvv",l2="_0nz6y",r2="FcIPR",n={modalBackground:X,modalContent:J,commentBlock:e2,commentHeader:o2,avatar:t2,date:s2,commentText:c2,stars:a2,actions:n2,deleteBtn:l2,closeBtn:r2};function A({comments:l,onClose:s,onUpdate:v}){const g=r.useRef(),[x,k]=r.useState(!1),{t:i}=M();r.useEffect(()=>{const t=m=>{g.current&&!g.current.contains(m.target)&&s()};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[s]);const h=async t=>{try{await q(t);const m=l.filter(B=>B.commentId!==t);v(m),k(!0),setTimeout(()=>k(!1),2e3)}catch{}};return e.jsx("div",{className:n.modalBackground,children:e.jsxs("div",{ref:g,className:n.modalContent,children:[e.jsx("h2",{children:i("TopicModerator.CommentModeration")}),x&&e.jsx(f,{message:i("TopicModerator.CommentDeleted")}),l.length===0&&e.jsx("p",{children:i("TopicModerator.NoCommentsForThisBook")}),l.map(t=>e.jsxs("div",{className:n.commentBlock,children:[e.jsxs("div",{className:n.commentHeader,children:[e.jsx("img",{src:t.user?.avatar||y,alt:"avatar",className:n.avatar}),e.jsxs("div",{children:[e.jsx("strong",{children:t.user?.name||"Anonyme"}),e.jsx("div",{className:n.date,children:new Date(t.created_at).toLocaleDateString("fr-FR")})]})]}),e.jsxs("p",{className:n.commentText,children:["« ",t.content," »"]}),e.jsx("div",{className:n.stars,children:I(t.rating)}),e.jsx("div",{className:n.actions,children:e.jsxs("button",{className:n.deleteBtn,onClick:()=>h(t.commentId),children:[i("TopicModerator.Delete"),e.jsx("img",{src:j,alt:"Feather Icon",className:n.icon})]})})]},t.commentId)),e.jsx("button",{onClick:s,className:n.closeBtn,children:i("TopicModerator.Close")})]})})}A.propTypes={bookId:p.number.isRequired,comments:p.array.isRequired,onClose:p.func.isRequired,onUpdate:p.func.isRequired};const i2="MQklR",m2="VFsDZ",d2="joj4Q",h2="_27-BH",u2="lULAO",v2="Ileub",g2="nafzS",k2="_94yOM",p2="QkyNm",f2="lBOgg",x2="HBnWZ",B2="_64hx8",C2="_16M3e",j2="So8n2",w2="oQm-Y",b2="-T-pf",z2="_0gviT",N2="DM-9S",M2="RTuG4",y2="_1pAo-",I2="DDPQa",A2="LkOFa",L2="_54Q-3",S2="vIEV7",o={BookPage:i2,banner:m2,main:d2,BookContainer:h2,BookAside:u2,BookImage:v2,BookContent:g2,center:k2,addButton:p2,removeButton:f2,editButton:x2,icon:B2,toggleComments:C2,commentsList:j2,commentItem:w2,commentAvatar:b2,commentContentWrapper:z2,commentContent:N2,commentAuthor:M2,commercialLinks:y2,linkList:I2,logo:A2,backArrowWrapper:L2,bookDisplayWrapper:S2};function U2(){const{title:l}=F(),[s,v]=r.useState(null),[g,x]=r.useState(!0),[k,i]=r.useState(!1),[h,t]=r.useState(!1),[m,B]=r.useState(!1),[L,C]=r.useState(!1),[S,w]=r.useState(!1),{user:u}=D(),b=u?.role==="admin"||u?.role==="moderator",{t:a}=M();r.useEffect(()=>{async function c(){try{const d=await N(l);d&&(v(d),u&&(await E())?.find(_=>_.bookId===d.bookId)&&i(!0))}catch{}finally{x(!1)}}c()},[l,u]);const T=async()=>{t(!0);try{await P(s.bookId),i(!0),f(a("Book.AddedToCollection"))}catch{}finally{t(!1)}},R=async()=>{t(!0);try{await Q(s.bookId),i(!1),f(a("Book.RemovedFromCollection"))}catch{}finally{t(!1)}};return g?e.jsx("h1",{className:o.center,children:a("Book.Loading")}):s?e.jsxs("div",{className:o.BookPage,children:[e.jsx("div",{className:o.banner,style:{backgroundImage:`url(${H})`}}),e.jsx("main",{className:o.main,children:e.jsxs("div",{className:o.BookContainer,children:[e.jsx("div",{className:o.backArrowWrapper,children:e.jsx($,{})}),e.jsx("div",{className:o.BookImage,style:{backgroundImage:`url(${encodeURI(s.cover_url)})`}}),e.jsx("article",{className:o.BookContent,children:e.jsx("div",{className:o.bookDisplayWrapper,children:e.jsx(V,{book:s,size:2,showDetails:!0,hideImage:!0})})}),e.jsxs("aside",{className:o.BookAside,children:[!b&&e.jsxs("section",{className:o.commercialLinks,children:[e.jsx("h3",{children:a("Book.WhereToBuy")}),e.jsxs("ul",{className:o.linkList,children:[e.jsx("li",{children:e.jsxs("a",{href:`https://www.fnac.com/SearchResult/ResultList.aspx?SCat=Livres__+BD__+Ebooks!1&SDM=list&Search=${encodeURIComponent(l)}`,target:"_blank",rel:"noopener noreferrer",children:[e.jsx("img",{src:O,alt:"Lien Fnac",className:o.logo})," Fnac"]})}),e.jsx("li",{children:e.jsxs("a",{href:`https://www.amazon.fr/s?k=${encodeURIComponent(l)}`,target:"_blank",rel:"noopener noreferrer",children:[e.jsx("img",{src:Z,alt:"Lien Amazon",className:o.logo})," Amazon"]})}),e.jsx("li",{children:e.jsxs("a",{href:`https://www.cultura.com/search/results?search_query=${encodeURIComponent(l)}`,target:"_blank",rel:"noopener noreferrer",children:[e.jsx("img",{src:K,alt:"Lien Cultura",className:o.logo})," Cultura"]})}),e.jsx("li",{children:e.jsxs("a",{href:`https://www.cdiscount.com/search/10/${encodeURIComponent(l)}.html`,target:"_blank",rel:"noopener noreferrer",children:[e.jsx("img",{src:Y,alt:"Lien Cdiscount",className:o.logo})," ","Cdiscount"]})}),e.jsx("li",{children:e.jsxs("a",{href:`https://www.ebay.fr/sch/267/i.html?_nkw=${encodeURIComponent(l)}`,target:"_blank",rel:"noopener noreferrer",children:[e.jsx("img",{src:G,alt:"Lien eBay",className:o.logo})," eBay"]})})]})]}),u&&!k&&e.jsx("button",{className:o.addButton,onClick:T,disabled:h,children:a(h?"Book.AddingToCollection":"Book.AddToCollection")}),u&&k&&e.jsx("button",{className:o.removeButton,onClick:R,disabled:h,children:a(h?"Book.RemovingFromCollection":"Book.RemoveFromCollection")}),b&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:o.editButton,onClick:()=>C(!0),children:[a("Book.EditBook")," ",e.jsx("img",{src:j,alt:"",className:o.icon})]}),e.jsxs("button",{className:o.editButton,onClick:()=>w(!0),children:[a("Book.ManageComments")," ",e.jsx("img",{src:j,alt:"",className:o.icon})]})]}),L&&e.jsx(U,{mode:"update",book:s,onSave:async c=>{if(!(await W(s.bookId,c)).error){const z=await N(c.title||s.title);v(z),f(a("Book.BookUpdatedSuccessfully"))}C(!1)},onClose:()=>C(!1)}),S&&e.jsx(A,{bookId:s.bookId,comments:s.comments,onClose:()=>w(!1),onUpdate:c=>v(d=>({...d,comments:c}))}),s.comments?.length>0&&e.jsxs("section",{className:o.commentsSection,children:[e.jsx("button",{type:"button",className:o.toggleComments,onClick:()=>B(c=>!c),children:m?a("Book.HideComments"):a("Book.ShowComments",{count:s.comments.length})}),m&&e.jsx("div",{className:o.commentsList,children:s.comments.map(c=>e.jsxs("div",{className:o.commentItem,children:[e.jsx("img",{src:c.user?.avatar||y,alt:"Avatar",className:o.commentAvatar}),e.jsxs("div",{className:o.commentContentWrapper,children:[e.jsxs("p",{className:o.commentContent,children:["« ",c.content," »"]}),e.jsxs("p",{className:o.commentAuthor,children:["— ",c.user?.name||"Anonyme"," le"," ",new Date(c.created_at).toLocaleDateString("fr-FR")]}),e.jsx("div",{className:o.commentRating,children:I(c.rating??0)})]})]},c.commentId))})]})]})]})})]}):e.jsx("h1",{className:o.center,children:a("Book.NotFound")})}export{U2 as default};
